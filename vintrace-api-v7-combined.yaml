openapi: 3.0.3
info:
  title: Vintrace API (Combined)
  description: Combined Vintrace API specifications for Postman.
  version: 1.0.0
servers:
  - url: https://oz50.vintrace.net
    description: Example production root url
  - url: https://sandbox.vintrace.net
    description: Example sandbox root url
security:
  - bearerAuth: []
paths:
  /wrw/api/v7/costs/business-unit-transactions:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    get:
      summary: Return bulk wine cost movements between two dates
      parameters:
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: "#/components/parameters/StartDate"
        - $ref: "#/components/parameters/EndDate"
        - $ref: "#/components/parameters/BusinessUnit"
        - $ref: "#/components/parameters/WineryName"
        - $ref: "#/components/parameters/WineryId"
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetBusinessUnitTransactionsResponse"
              examples:
                successBusinessUnitTransactionsResponse:
                  value:
                    totalResults: 120
                    offset: 0
                    limit: 2
                    first: /mob/api/v7/costs/business-unit-transactions?endDate=1667192283000&startDate=1664600283000&limit=2&offset=0
                    previous: null
                    next: /mob/api/v7/costs/business-unit-transactions?endDate=1667192283000&startDate=1664600283000&limit=2&offset=2
                    last: /mob/api/v7/costs/business-unit-transactions?endDate=1667192283000&startDate=1664600283000&limit=2&offset=120
                    result:
                      - activityId: OP:29086
                        postedId: 8260
                        resultOfCorrection: false
                        activityType: Movement out (Inter-winery)
                        primaryCostTarget: CH 20 Z
                        secondaryCostTarget: CH 20 F
                        activitySummary:
                          Transfer 15 gal of CH 20 Z from 0108Z to CH
                          20 F in 0002F
                        activityDate: 1665285480000
                        postedDate: 1665285555000
                        primaryWinery:
                          id: 1
                          name: Z Winery
                          businessUnit: Z24
                        secondaryWinery:
                          id: 6
                          name: F Winery
                          businessUnit: F22
                        location: ZW
                        vessel: 0108Z
                        wineBatch: CH 20 Z
                        productCategory:
                          id: 71
                          name: Bulk Market White
                          code: BMW
                        program:
                          id: 33
                          name: Premium Chardonnay
                          code: PRCH
                        volumeDelta:
                          unit: gal
                          value: -15
                        costDelta:
                          total: -579.610194
                          fruit: 171.829951
                          overhead: -51.918786
                          storage: 0
                          additive: 0
                          bulk: 0
                          packaging: 0
                          operation: -163.325534
                          freight: 0
                          other: -536.195825
                        customer: null
                        vendor: null
                        lossReason: null
                        allocationDescription:
                          15 gal of 2020 FRANCIS GULLY from 0108Z,
                          +15 gal of 2020 FRANCIS GULLY to 0002F
                        impactedAllocations:
                          - productName: FRANCIS GULLY
                            vintage: "2020"
                            itemCode: 20FGULLY
                            name: 2020 FRANCIS GULLY
                        references:
                          bulkSalesOrder: null
                          bulkPurchaseOrder: null
                          externalWorkOrder: null
                          workOrder: TWL7177
                          jobNumber: 1
                          billOfLadingNumber: PW4
                      - activityId: OP:29086
                        postedId: 8261
                        resultOfCorrection: false
                        activityType: Movement in (Inter-winery)
                        primaryCostTarget: CH 20 F
                        secondaryCostTarget: CH 20 Z
                        activitySummary:
                          Transfer 15 gal of CH 20 Z from 0108Z to CH
                          20 F in 0002F
                        activityDate: 1665285480000
                        postedDate: 1665285555000
                        primaryWinery:
                          id: 6
                          name: F Winery
                          businessUnit: F22
                        secondaryWinery:
                          id: 1
                          name: Z Winery
                          businessUnit: Z24
                        location: FW
                        vessel: 0002F
                        wineBatch: CH 20 F
                        productCategory:
                          id: 71
                          name: Bulk Market White
                          code: BMW
                        program:
                          id: 33
                          name: Premium Chardonnay
                          code: PRCH
                        volumeDelta:
                          unit: gal
                          value: 15
                        costDelta:
                          total: 579.610194
                          fruit: -171.829951
                          overhead: 51.918786
                          storage: 0
                          additive: 0
                          bulk: 0
                          packaging: 0
                          operation: 163.325534
                          freight: 0
                          other: 536.195825
                        customer: null
                        vendor: null
                        lossReason: null
                        allocationDescription:
                          15 gal of 2020 FRANCIS GULLY from 0108Z,
                          +15 gal of 2020 FRANCIS GULLY to 0002F
                        impactedAllocations:
                          - productName: FRANCIS GULLY
                            vintage: "2020"
                            itemCode: 20FGULLY
                            name: 2020 FRANCIS GULLY
                        references:
                          bulkSalesOrder: null
                          bulkPurchaseOrder: null
                          externalWorkOrder: null
                          workOrder: TWL7177
                          jobNumber: 1
                          billOfLadingNumber: PW4
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/harvest/blocks:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    post:
      description: Upsert the block data into system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Block"
            examples:
              createBlockRequest:
                value:
                  extId: "23423"
                  name: Block example
                  estate: true
                  vineyard:
                    name: V2342
                    grower:
                      extId: "32342"
                  variety:
                    name: Shiraz
                  countyCode: CC
                  inactive: false
                  noOfVines: 900
                  area: 13
                  rootStock:
                    name: MUL
                  clone:
                    name: MUL
                  vineSpacing: "5"
                  rowSpacing: "9"
                  soilProfile: G
                  trellis:
                    name: D
                  aspect: NORTH
                  plantedTime: 1644990021000
                  pruningType: "23"
                  averageGradient: 4
                  irrigationType: DDD
                  frostProtection: OO
                  organic: true
                  organicCertifiedTime: 1644990021000
                  township: "232020"
                  range: "200"
                  section: section
                  emitterRate: 3
                  emitterSize: 10
                  siteId: S232
                  noOfRows: 30
                  districtCode: "8"
                  regionalAdminCode: TEST
                  comments: Comments
                  code: ABC123
                  defaultHarvestMethod: HAND
                  description: I describe this
                  graftedDate: 1756710101
                  intendedUse:
                    name: Sparkling
                  rowNumbers: Row 1
                  vineStructure:
                    name: Vine structure 1
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /blocks/23423
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BlockResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/BlockResponseExample"
        default:
          $ref: "#/components/responses/DefaultError"
    get:
      summary: Get all blocks in the system.
      description:
        "Get all the blocks that matches the provided query params in the\
        \ system. \n\nBy default, the block data returned in this endpoint only includes:\
        \ \nid, code, name, description, grower, vineyard, region, subRegion, varietal,\
        \ rowNumbers, estate, intendedUse, grading, externalId, inactive\n\nAPI consumer\
        \ can use the include and vintage query params to request including more information\
        \ in the response.\n"
      parameters:
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: common-schemas.yaml#/components/parameters/VintraceEntityIds
        - name: include
          in: query
          required: false
          schema:
            type: string
            example: fruitPlacements
          description:
            "API consumer can use this query param to request including the
            fruitPlacements fields for the resources.

            This must be done in combination with the vintage query param.


            Invalid field names will be ignored.

            "
        - name: vintage
          in: query
          required: false
          schema:
            type: string
            example: 2024
          description:
            "API consumer can use this query param to request including the
            fruitPlacements fields for the resources.

            This must be done in combination with the fruitPlacements query param.


            Invalid field names will be ignored.

            "
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetBlocksSuccessResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/GetBlocksSuccessResponseExample"
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/harvest/blocks/{blockId}/assessments:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
      - $ref: "#/components/parameters/BlockId"
    post:
      description: Upsert the assessment data for the block
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BlockAssessment"
            examples:
              createAssessmentRequest:
                value:
                  vintage: 2021
                  assessmentTime: 1644990021000
                  producingForecast:
                    value: 15
                    unit: t
                  availableForecast:
                    value: 9
                    unit: t
                  harvestMethod: HAND
                  expectedHarvestTime: 1644990021000
                  earliestHarvestTime: 1644644421000
                  sprayReportReceivedTime: 1643780421000
                  cropInspectedTime: 1643780421000
                  quarantineStatus: Completed
                  clearQuarantineStatus: false
                  grading: "3"
                  intendedProduct:
                    name: TBD
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /blocks/{id}/assessments/23423
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BlockAssessmentResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/BlockAssessmentResponseExample"
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/harvest/blocks/{blockId}:
    patch:
      summary: Partially update some fields in the block record
      description:
        "Provide functionality to update only some fields in the bulk intake
        record.


        Note, not all fields will support this PATCH operation. Consult with developers
        for your use case.

        "
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
        - $ref: "#/components/parameters/BlockId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: common-schemas.yaml#/components/schemas/PatchRequest
            examples:
              updateRatePerTonne:
                value:
                  - path: /ratePerTonne
                    op: REPLACE
                    value: "700"
      responses:
        "204":
          description: Update is successful
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/harvest/assessments:
    get:
      summary: Get all the block assessments in the system.
      description:
        "Get all the block assessments that matches the provided query\
        \ params in the system. \n\nBy default, the assessment data returned in this\
        \ endpoint only includes: id, block, vintage, assessedBy, assessmentTime,\
        \ producingForecast, availableForecast.\n\nAPI consumer can use the extraFields\
        \ query param to request including more information in the response.\n"
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: "#/components/parameters/AssessedBy"
        - $ref: "#/components/parameters/CreatedSince"
        - $ref: "#/components/parameters/CreatedBefore"
        - $ref: "#/components/parameters/ExtraFields"
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetAssessmentsResponse"
              example:
                totalResults: 1000
                offset: 0
                limit: 10
                first: /assessments?offset=0&limit=10
                previous: null
                next: /assessments?offset=10&limit=10
                last: /assessments?offset=990&limit=10
                results:
                  - id: 167
                    block:
                      id: 1
                      extId: "7177"
                      name: Block 1
                    vintage: 2021
                    assessmentTime: 1644990021000
                    assessedBy:
                      id: 1
                      extId: null
                      name: ADMINISTRATOR,  System
                    producingForecast:
                      value: 15
                      unit: t
                    availableForecast:
                      value: 9
                      unit: t
                    createdAt: 1644990021000
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/harvest/vineyards:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    post:
      description: Upsert the vineyard data
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Vineyard"
            examples:
              createVineyardRequest:
                value:
                  extId: ABC-3232
                  name: Test vineyard
                  code: VINECODE
                  grower:
                    extId: 32342
                  region:
                    name: Napa Valley
                  adminAgridDivision: Grid Division 12
                  subRegion:
                    name: Oakville
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /vineyards/23423
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VineyardResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/VineyardResponseExample"
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/harvest/maturity-samples:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    post:
      description: Create a maturity sample in system
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MaturitySample"
            examples:
              createMaturitySample:
                value:
                  occurredTime: 1661736595000
                  block:
                    extId: U2342
                  vintage: 2022
                  analysisTemplate:
                    name: template name
                  laboratory:
                    extId: Lab-2391
                  type: BUNCH
                  rows: rows
                  vines: vines
                  area: area
                  reference: sample id 34322
                  metrics:
                    - name: Brix
                      value: 23
                    - name: Temp
                      value: 65
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /maturity-samples/23423
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MaturitySampleResponse"
              examples:
                success:
                  value:
                    data:
                      id: 23423
                      occurredTime: 1661736595000
                      operator:
                        id: 92932
                        name: api user
                        extId: null
                      block:
                        id: 21231
                        name: U2342
                        extId: U2342
                      vintage: 2022
                      grower:
                        id: 21231
                        name: A company
                        extId: null
                      region:
                        id: 65
                        name: Napa Valley
                      variety:
                        id: 55
                        name: Shiraz
                      analysisTemplate:
                        id: 293023
                        name: template name
                      laboratory:
                        id: 92123
                        name: A laboratory
                        extId: Lab-2391
                      type: BUNCH
                      rows: rows
                      vines: vines
                      area: area
                      reference: sample id 34322
                      metrics:
                        - name: Brix
                          value: 23
                        - name: Temp
                          value: 65
  /wrw/api/v7/identity/parties:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    get:
      summary: Search parties in vintrace
      parameters:
        - name: governmentNumbers
          in: query
          required: false
          schema:
            type: string
            example: 92032-232,92032-231
          description:
            Only include parties that have these government numbers. Support
            multiple values delimited by comma.
        - name: roles
          in: query
          required: false
          schema:
            type: string
            example: grower,carrier
          description:
            Only include parties that have these roles. Support multiple
            values delimited by comma.
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetPartiesSuccessResponse"
              examples:
                successResponse:
                  value:
                    totalResults: 1000
                    offset: 0
                    limit: 10
                    first: /wrw/api/v7/identity/parties?offset=0&limit=10
                    previous: null
                    next: /wrw/api/v7/identity/parties?offset=10&limit=10
                    last: /wrw/api/v7/identity/parties?offset=990&limit=10
                    results:
                      - id: 167
                        extId: 323423
                        type: organisation
                        roles:
                          - grower
                        organizationName: ExampleCompany
                        contactNumbers:
                          - type: MOBILE
                            number: 411192922
                          - type: BUSINESS
                            areaCode: 613
                            number: 99999999
                        email: smith@123.com
                        address:
                          mailingName: Accounts Department
                          street1: 22 Rainbow Walk
                          city: HACKHAM
                          state: VIC
                          postalCode: 5163
                          country: AUSTRALIA
                        governmentNumber: 3920342
        default:
          $ref: "#/components/responses/DefaultError"
    post:
      summary: Upsert a party into vintrace.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Party"
            examples:
              createOrganizationRequest:
                value:
                  extId: "323423"
                  type: organisation
                  roles:
                    - grower
                  organizationName: Example Company
                  contactNumbers:
                    - type: MOBILE
                      number: 411192922
                    - type: BUSINESS
                      areaCode: 613
                      number: 99999999
                  email: smith@123.com
                  address:
                    mailingName: Accounts Department
                    street1: 22 Rainbow Walk
                    city: HACKHAM
                    state: VIC
                    postalCode: "5163"
                    country: AUSTRALIA
                  governmentNumber: "3920342"
              updateOrganizationRequest:
                value:
                  id: 167
                  extId: "323423"
                  type: organisation
                  roles:
                    - grower
                  organizationName: Example Company
                  contactNumbers:
                    - type: MOBILE
                      number: 411192922
                    - type: BUSINESS
                      areaCode: 613
                      number: 99999999
                  email: smith@123.com
                  address:
                    mailingName: Accounts Department
                    street1: 22 Rainbow Walk
                    city: HACKHAM
                    state: VIC
                    postalCode: "5163"
                    country: AUSTRALIA
                  governmentNumber: "3920342"
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpsertPartySuccessResponse"
              examples:
                successResponse:
                  value:
                    data:
                      id: 167
                      extId: "323423"
                      type: organisation
                      roles:
                        - grower
                      organizationName: ExampleCompany
                      contactNumbers:
                        - type: MOBILE
                          number: 411192922
                        - type: BUSINESS
                          areaCode: 613
                          number: 99999999
                      email: smith@123.com
                      address:
                        mailingName: Accounts Department
                        street1: 22 Rainbow Walk
                        city: HACKHAM
                        state: VIC
                        postalCode: "5163"
                        country: AUSTRALIA
                      governmentNumber: "3920342"
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/shipments:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    get:
      summary: Get all shipments in the system
      description:
        This endpoint returns all the shipments created by Bulk Dispatch
        and Inter-winery dispatch operations.
      parameters:
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: "#/components/parameters/ModifiedSince"
        - $ref: "#/components/parameters/ModifiedBefore"
        - name: type
          in: query
          required: false
          schema:
            type: string
            example: BULK
          description: Filter the shipments by the operation type.
        - name: dispatchType
          in: query
          required: false
          schema:
            type: string
            example: Bottling,Bulk Sale
          description:
            "Filter the shipments by the dispatch type. \n\nNote, the comma\
            \ is used as delimiter in this param and will conflict if the name dispatch\
            \ type entity in Vintrace has a comma.\n"
        - name: freightCode
          in: query
          required: false
          schema:
            type: string
            example: FC1,FC2
          description: "Filter the shipments by the name of freight code entity.


            Note, the comma is used as delimiter in this param and will conflict if
            the name has a comma.

            "
        - name: include
          in: query
          required: false
          schema:
            type: string
            example: allocations,metrics,cost,composition
          description:
            By default, allocations, metrics, composition and cost won't
            be included in the wine details unless requested using this query param
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetShipmentsSuccessResponse"
              examples:
                successShipmentsResponse:
                  value:
                    totalResults: 1000
                    offset: 0
                    limit: 10
                    first: /api/v7/operation/shipments?offset=0&limit=10&include=allocations,metrics,cost
                    previous: null
                    next: /api/v7/operation/shipments?offset=10&limit=10&include=allocations,metrics,cost
                    last: /api/v7/operation/shipments?offset=990&limit=10&include=allocations,metrics,cost
                    results:
                      - id: 1
                        workOrderNumber: TWL-123
                        jobNumber: "2"
                        type: BULK
                        source:
                          id: 2
                          name: Winery A
                          businessUnit: office 1
                        destination:
                          winery: null
                          party:
                            id: 3
                            name: Company A
                            extId: null
                        occurredTime: 1650412615057
                        modifiedTime: 1650412615057
                        carrier:
                          id: 1231
                          name: Awesome Logistics
                          extId: "121321"
                        reference: abc dispatch
                        dispatchType:
                          id: 23423
                          name: Bulk sale
                        freightCode:
                          id: 323423
                          name: FC1
                        reversed: false
                        wineDetails:
                          - vessel: 3920BDC
                            batch: PO108
                            wineBatch:
                              id: 889383
                              name: PO108
                              description: 2021 Napa Valley Chardonnay
                              vintage: "2021"
                              designatedRegion:
                                id: 65
                                name: Napa Valley
                                code: NAV
                              designatedVariety:
                                id: 3333
                                name: Chardonnay
                                code: CHA
                              program: XYZ
                              grading:
                                scaleId: 2
                                scaleName: Wine
                                valueId: 67
                                valueName: A
                            wineryBuilding:
                              id: 38293
                              name: WB-1
                            volume:
                              value: 6000
                              unit: gal
                            loss:
                              volume:
                                value: 10
                                unit: gal
                              reason:
                                id: 32342
                                name: Bottling
                            bottlingDetails: Bottling job 232342
                            weight:
                              value: 1000
                            cost:
                              total: 250000
                              average: 300
                              fruit: 209383
                              overhead: 30000
                              storage: 10000
                              additive: 617
                              bulk: 0
                              packaging: 0
                              operation: 0
                              freight: 0
                              other: 0
                            allocations:
                              - product:
                                  id: 625
                                  name: CHNAVPREM
                                  code: CHV
                                vintage: 2021
                                itemCode: 21CHAVPREM
                                allocationVolume:
                                  value: 600
                                  unit: gal
                                allocationPercentageOfVessel: 100
                            metrics:
                              - name: Alcohol
                                interfaceMappedName: ALC
                                value: 15
                                nonNumericValue: null
                              - name: Brix
                                interfaceMappedName: BRIX
                                value: 0
                                nonNumericValue: null
                              - name: Residual Sugar
                                interfaceMappedName: null
                                value: 18
                                nonNumericValue: null
                              - name: Color 420
                                interfaceMappedName: null
                                value: 15
                                nonNumericValue: null
                            composition:
                              - vintage: 2022
                                variety:
                                  id: 3333
                                  name: Chardonnay
                                region:
                                  id: 65
                                  name: Napa Valley
                                percentage: 100
                                block:
                                  extId: "2342"
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/barrel-treatments:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    get:
      summary: Get barrel move shipments
      description: This endpoint returns shipments created by Treatment (barrel) operations.
      parameters:
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: "#/components/parameters/ModifiedSince"
        - $ref: "#/components/parameters/ModifiedBefore"
        - name: treatment
          in: query
          required: false
          schema:
            type: string
            example: Barrel Check,Move barrel 1
          description:
            "Filter the barrel treatment by the name of treatment type. Case
            sensitive.


            Note, comma is used as delimiter in this param and will conflict if the
            name has a comma.

            "
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetBarrelTreatmentsSuccessResponse"
              examples:
                successShipmentsResponse:
                  value:
                    totalResults: 1000
                    offset: 0
                    limit: 10
                    first: /api/v7/operation/barrel-treatments?offset=0&limit=10
                    previous: null
                    next: /api/v7/operation/barrel-treatments?offset=10&limit=10
                    last: /api/v7/operation/barrel-treatments?offset=990&limit=10
                    results:
                      - id: 1
                        workOrderNumber: "123"
                        jobNumber: "2"
                        occurredTime: 1650412615057
                        modifiedTime: 1650412615057
                        operator:
                          id: 39203
                          name: User, A
                          extId: null
                        reversed: false
                        treatment:
                          id: 1
                          name: Barrel Check
                          description: ""
                          changeState: SOUSED
                          bolRequired: true
                        barrels:
                          - id: 1
                            name: 2019-0012
                            capacity:
                              value: 225
                              unit: L
                        freightCode:
                          id: 323423
                          name: FC1
                        scale:
                          id: 123213
                          name: Scale 1
                        totalWeight:
                          value: 1
                          unit: kg
                        carrier:
                          id: 88
                          extId: C63535
                          name: Fruit Freight
                        party:
                          id: 88
                          extId: C63535
                          name: Fruit Freight
                        source:
                          id: 5
                          businessUnit: US57
                          name: My Winery
                        reference: XYZ123
                        bolCode: WB1234
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/bookings:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    post:
      summary: Upsert this booking into vintrace.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Booking"
            examples:
              createBookingRequest:
                value:
                  bookingNumber: BN1491
                  bookedBy:
                    extId: A-283
                  winery:
                    businessUnit: US57
                  block:
                    extId: U-01234
                  vintage: 2025
                  intendedProduct:
                    extId: P100
                  expectedTime: 1736502300000
                  expectedDurationInMinutes: 120
                  expectedQuantity:
                    value: 5
                    unit: tn
                  bookingState: SCHEDULED
                  harvester:
                    extId: H63536
                  note: Delivery most likely in the early morning.
                  crusher:
                    extId: c-229
                  owner:
                    extId: O39510
                  carrier:
                    extId: C63535
                  receivingScales:
                    extId: 39134
                  receivingVessel:
                    extId: V-11
                  harvestMethod: HAND
                  referenceNumber: REF-XYZ-789
                  numberOfLoads: 3
                  grading:
                    scaleId: 5
                    valueId: 1
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateBookingSuccessResponse"
              examples:
                successResponse:
                  value:
                    data:
                      id: 1491
                      bookingNumber: BN1491
                      bookedBy:
                        id: 1
                        extId: A-283
                        name: ADMINISTRATOR, System
                      winery:
                        id: 5
                        businessUnit: US57
                        name: JX2 Winery
                      block:
                        id: 5
                        extId: U-01234
                        name: CH Block 1
                      grower:
                        id: 92
                        extId: G-1902
                        name: ABE Grower
                      vineyard:
                        id: 20
                        extId: V-129
                        name: ABE Vineyard
                      variety:
                        id: 1
                        name: Chardonnay
                        code: CH
                      region:
                        id: 1
                        name: Napa Valley
                        code: NV
                      subRegion:
                        id: 1
                        name: Oak Knoll District
                        code: OAD
                      appellations:
                        - Napa Valley
                        - Napa County
                      vintage: 2025
                      growerContract:
                        id: 210
                        name: 2025 JX2 CH
                      intendedProduct:
                        id: 10
                        extId: P100
                        name: CHCH21
                      expectedTime: 1736502300000
                      expectedEndTime: 1736502300000
                      expectedDurationInMinutes: 120
                      expectedQuantity:
                        value: 5
                        unit: tn
                      bookingState: SCHEDULED
                      harvester:
                        id: 100
                        extId: H63536
                        name: JX2 Harvesting
                      note: Delivery most likely in the early morning.
                      crusher:
                        id: 1
                        extId: c-229
                        name: Crusher 1
                      owner:
                        id: 1
                        extId: O39510
                        name: JX2 Winery
                      carrier:
                        id: 90
                        extId: C63535
                        name: JX2 Carriers
                      receivingScales:
                        id: 1
                        extId: 39134
                        name: Main scales
                      receivingVessel:
                        id: 99
                        extId: V-11
                        name: F-25
                      harvestMethod: HAND
                      referenceNumber: REF-XYZ-789
                      pickTime: 1723224600000
                      program:
                        id: 9
                        name: JX2 Brand
                      intendedUse:
                        id: 5
                        name: White Table
                      numberOfLoads: 3
                      areaEstimate: 5
                      deliveryType: BINS
                      pmsRate:
                        id: 7
                        value: 100
                        unit: ppm
                      serviceOrder:
                        id: 5
                        name: JX2 2025
                      grading:
                        scaleId: 5
                        scaleName: Quality Grade
                        valueId: 1
                        valueName: A
                      isInactive: false
                      isBulkBooking: false
                      isLastBooking: false
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/bookings/{bookingId}/deactivation:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
      - $ref: "#/components/parameters/BookingId"
    post:
      summary: Deactivate this booking record
      requestBody:
        content:
          application/json:
            schema:
              type: object
              nullable: true
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BookingDeactivationResponse"
              examples:
                deactivateBookingResponse:
                  value:
                    data:
                      inactive: true
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/fruit-intakes:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    post:
      summary: Record a new fruit intake transaction
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/FruitIntakeRequest"
            examples:
              unplannedArrival:
                value:
                  block:
                    extId: U01234
                  vintage: 2022
                  bookingNumber: B9288
                  owner:
                    extId: O66253
                  dateOccurred: 164876283628
                  timeOut: 164876283628
                  timeIn: 164876293628
                  weighTag: PH-OB-50228768760
                  externalWeighTag: PH-OB-50228768760
                  winery:
                    businessUnit: US57
                  scale:
                    name: TRUCK SCALES
                  gross:
                    value: 7.54
                    unit: tn
                  tare:
                    value: 2.5
                    unit: tn
                  net:
                    value: 5.04
                    unit: tn
                  jobStatus: complete
                  intendedProduct:
                    name: CHCH21
                  unitPrice:
                    value: 1200
                    unit: $ / ton
                  metrics:
                    - name: Brix
                      value: 23
                    - name: MOG
                      value: 2
                    - name: NIRS
                      value: 54
                    - name: pH
                      value: 3.4
                    - name: Temp
                      value: 65
                    - name: VA
                      value: 2.9
                  harvestMethod: machine
                  weighMasterText: Deputy John Smith
                  carrier:
                    name: Acme Trucking
                  consignmentNote: TH78352
                  driverName: Adam Sapple
                  lastLoad: true
                  operatorNotes: My operator notes
                  truckRegistration: ABC-123
              scheduledBooking:
                value:
                  vintage: 2022
                  bookingNumber: B9288
                  owner:
                    extId: O66253
                  dateOccurred: 164876283628
                  timeOut: 164876283628
                  timeIn: 164876293628
                  weighTag: PH-OB-50228768760
                  externalWeighTag: PH-OB-50228768760
                  winery:
                    businessUnit: US57
                  scale:
                    name: TRUCK SCALES
                  gross:
                    value: 7.54
                    unit: tn
                  tare:
                    value: 2.5
                    unit: tn
                  net:
                    value: 5.04
                    unit: tn
                  jobStatus: complete
                  intendedProduct:
                    name: CHCH21
                  unitPrice:
                    value: 1200
                    unit: $ / ton
                  metrics:
                    - name: Brix
                      value: 23
                    - name: MOG
                      value: 2
                    - name: NIRS
                      value: 54
                    - name: pH
                      value: 3.4
                    - name: Temp
                      value: 65
                    - name: VA
                      value: 2.9
                  harvestMethod: machine
                  weighMasterText: Deputy John Smith
                  carrier:
                    name: Acme Trucking
                  consignmentNote: TH78352
                  driverName: Adam Sapple
                  lastLoad: false
                  operatorNotes: My operator notes
                  truckRegistration: ABC-123
              autoLinkEarliestBooking:
                value:
                  block:
                    extId: U01234
                  vintage: 2022
                  linkEarliestBooking: true
                  owner:
                    extId: O66253
                  dateOccurred: 164876283628
                  timeOut: 164876283628
                  timeIn: 164876293628
                  weighTag: PH-OB-50228768760
                  externalWeighTag: PH-OB-50228768760
                  winery:
                    businessUnit: US57
                  scale:
                    name: TRUCK SCALES
                  gross:
                    value: 7.54
                    unit: tn
                  tare:
                    value: 2.5
                    unit: tn
                  net:
                    value: 5.04
                    unit: tn
                  jobStatus: complete
                  intendedProduct:
                    name: CHCH21
                  unitPrice:
                    value: 1200
                    unit: $ / ton
                  metrics:
                    - name: Brix
                      value: 23
                    - name: MOG
                      value: 2
                    - name: NIRS
                      value: 54
                    - name: pH
                      value: 3.4
                    - name: Temp
                      value: 65
                    - name: VA
                      value: 2.9
                  harvestMethod: machine
                  weighMasterText: Deputy John Smith
                  carrier:
                    name: Acme Trucking
                  consignmentNote: TH78352
                  driverName: Adam Sapple
                  lastLoad: false
                  truckRegistration: ABC-123
      responses:
        "201":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /fruit-intakes/7177
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateFruitIntakeSuccessResponse"
              examples:
                successResponse:
                  value:
                    data:
                      id: 571
                      block:
                        id: 5
                        extId: U01234
                        name: CH1
                      vintage: 2022
                      bookingNumber: B9288
                      owner:
                        id: 1
                        extId: O66253
                        name: CBI
                      dateOccurred: 164876283628
                      timeOut: 164876283628
                      timeIn: 164876293628
                      weighTag: PH-OB-50228768760
                      externalWeighTag: PH-OB-50228768760
                      winery:
                        id: 5
                        businessUnit: US57
                        name: My Winery
                      scale:
                        id: 123
                        name: TRUCK SCALES
                      gross:
                        value: 7.54
                        unit: tn
                      tare:
                        value: 2.5
                        unit: tn
                      net:
                        value: 5.04
                        unit: tn
                      jobStatus: complete
                      intendedProduct:
                        name: CHCH21
                      unitPrice:
                        value: 1200
                        unit: $ / ton
                      metrics:
                        - name: Brix
                          value: 23
                        - name: MOG
                          value: 2
                        - name: NIRS
                          value: 54
                        - name: pH
                          value: 3.4
                        - name: Temp
                          value: 65
                        - name: VA
                          value: 2.9
                      harvestMethod: machine
                      weighMasterText: Deputy John Smith
                      carrier:
                        id: 77
                        extId: C7363
                        name: Acme Trucking
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/fruit-intakes/{fruitIntakeId}/pricing:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
      - $ref: "#/components/parameters/FruitIntakeId"
    put:
      summary: Update the pricing related data for this fruit intake record
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateFruitIntakePricing"
            example:
              gross:
                value: 7.54
                unit: tn
              tare:
                value: 2.5
                unit: tn
              net:
                value: 5.04
                unit: tn
              unitPrice:
                value: 1200
                unit: $ / ton
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateFruitIntakePricingResponse"
              example:
                data:
                  gross:
                    value: 7.54
                    unit: tn
                  tare:
                    value: 2.5
                    unit: tn
                  net:
                    value: 5.04
                    unit: tn
                  unitPrice:
                    value: 1200
                    unit: $ / ton
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/fruit-intakes/{fruitIntakeId}/metrics:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
      - $ref: "#/components/parameters/FruitIntakeId"
    put:
      summary: Update the metrics for this fruit intake record
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/UpdateMetrics"
            example:
              metrics:
                - name: Brix
                  value: 23
                - name: MOG
                  value: 2
                - name: NIRS
                  value: 54
                - name: pH
                  value: 3.4
                - name: Temp
                  value: 65
                - name: VA
                  value: 2.9
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/UpdateMetricsResponse"
              example:
                data:
                  metrics:
                    - name: Brix
                      value: 23
                    - name: MOG
                      value: 2
                    - name: NIRS
                      value: 54
                    - name: pH
                      value: 3.4
                    - name: Temp
                      value: 65
                    - name: VA
                      value: 2.9
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/bulk-intakes:
    post:
      summary: Create a new bulk intake
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/BulkIntakeRequest"
            examples:
              createBulkIntakeWithVirtualVesselRequest:
                value:
                  occurredTime: 164876283628
                  wineDetails:
                    virtualVessel: true
                    batch: 09a9ds
                    winery:
                      businessUnit: US57
                    ownership:
                      - owner:
                          extId: S32342
                        percentage: 100
                    volume:
                      value: 9923
                      unit: gal
                    fractionType: FREE_RUN
                    fermentState: STOPPED
                    malolacticState: STOPPED
                    beverageType: Red
                    reference: ABC Wine
                    yieldRate: 200
                    batchOwner:
                      id: 1
                      extId: O66253
                      name: CBI
                  composition:
                    - vintage: 2022
                      variety:
                        name: Chardonnay
                      region:
                        name: Napa Valley
                      subRegion:
                        name: SubA
                      percentage: 100
                      block:
                        extId: "2342"
                  cost:
                    amount: 39234
                    rate: TOTAL
                    freight: 232.2
                    ttbDetails:
                      taxState: BONDED
                      taxClass:
                        name: 14 to 16%
                  deliveryDetails:
                    purchaseOrder:
                      name: VDP09
                    receivedFrom:
                      extId: 32342
                    shippingRefNo: 32423
                    truckNo: W123S
                    driverName: Smiths
                    sealNo: A93232
                    compartmentNo: 2
                    cipNo: 2222
                    container: XX container
                    customsEntryNumber: ABD-3923-CC
                    carrier:
                      extId: AD2342
                    purchaseReference: S9302
                    deliveryState: IN_TRANSIT
                  metrics:
                    - name: Brix
                      value: 23
                    - name: MOG
                      value: 2
                    - name: NIRS
                      value: 54
                    - name: pH
                      value: 3.4
                    - name: Temp
                      value: 65
                    - name: VA
                      value: 2.9
              createBulkIntakeWithRealVesselRequest:
                value:
                  occurredTime: 164876283628
                  wineDetails:
                    vessel: ABC-vessel
                    batch: 09a9ds
                    winery:
                      businessUnit: US57
                    ownership:
                      - owner:
                          extId: S32342
                        percentage: 100
                    volume:
                      value: 9923
                      unit: gal
                    fractionType: FREE_RUN
                    fermentState: STARTED
                    malolacticState: STARTED
                    beverageType: Red
                    reference: ABC Wine
                    productState: Centrifuged
                    batchOwner:
                      id: 1
                      extId: O66253
                      name: CBI
                  composition:
                    - vintage: 2022
                      variety:
                        name: Chardonnay
                      region:
                        name: Napa Valley
                      subRegion:
                        name: SubA
                      percentage: 100
                      block:
                        extId: "2342"
                  cost:
                    amount: 39234
                    rate: TOTAL
                    freight: 232.2
                    ttbDetails:
                      taxState: BONDED
                      taxClass:
                        name: 14 to 16%
                  deliveryDetails:
                    purchaseOrder:
                      name: VDP09
                    receivedFrom:
                      extId: 32342
                    shippingRefNo: 32423
                    truckNo: W123S
                    driverName: Smiths
                    sealNo: A93232
                    compartmentNo: 2
                    cipNo: 2222
                    container: XX container
                    customsEntryNumber: ABD-3923-CC
                    carrier:
                      extId: AD2342
                    purchaseReference: S9302
                    deliveryState: IN_TRANSIT
                  metrics:
                    - name: Brix
                      value: 23
                    - name: MOG
                      value: 2
                    - name: NIRS
                      value: 54
                    - name: pH
                      value: 3.4
                    - name: Temp
                      value: 65
                    - name: VA
                      value: 2.9
      responses:
        "201":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /bulk-intakes/2342
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateBulkIntakeSuccessResponse"
              examples:
                successResponse:
                  value:
                    data:
                      id: 71771
                      occurredTime: 164876283628
                      wineDetails:
                        vessel: AVESSEL
                        batch: 09a9ds
                        ownership:
                          - owner:
                              id: 234234
                              extId: S32342
                              name: A winery
                            percentage: 100
                        volume:
                          value: 9923
                          unit: gal
                        fractionType: FREE_RUN
                        fermentState: STARTED
                        malolacticState: STARTED
                        beverageType: Red
                        reference: ABC Wine
                        yieldRate: 200
                        batchOwner:
                          id: 1
                          extId: O66253
                          name: CBI
                      composition:
                        - vintage: 2022
                          variety:
                            id: 3333
                            name: Chardonnay
                          region:
                            id: 65
                            name: Napa Valley
                          subRegion:
                            id: 66
                            name: SubA
                          percentage: 100
                          block:
                            extId: "2342"
                      cost:
                        amount: 39234
                        rate: TOTAL
                        freight: 232.2
                        ttbDetails:
                          taxState: BONDED
                          taxClass:
                            id: 653
                            name: 14 to 16%
                            federalName: <16%
                            stateName: 14 to 21%
                      deliveryDetails:
                        purchaseOrder:
                          id: 3232121
                          name: VDP09
                        receivedFrom:
                          id: 39203
                          name: Cellar
                          extId: 32342
                        shippingRefNo: 32423
                        truckNo: W123S
                        driverName: Smiths
                        sealNo: A93232
                        compartmentNo: 2
                        cipNo: 2222
                        container: XX container
                        customsEntryNumber: ABD-3923-CC
                        carrier:
                          id: 39203
                          name: Goods Logistics
                          extId: AD2342
                        purchaseReference: S9302
                        deliveryState: IN_TRANSIT
                      metrics:
                        - name: Brix
                          value: 23
                        - name: MOG
                          value: 2
                        - name: NIRS
                          value: 54
                        - name: pH
                          value: 3.4
                        - name: Temp
                          value: 65
                        - name: VA
                          value: 2.9
        default:
          $ref: "#/components/responses/DefaultError"
    get:
      summary: Get the bulk intake records in the system
      description: Search all bulk intake records in the system matching the criteria
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: "#/components/parameters/ModifiedSince"
        - $ref: "#/components/parameters/ModifiedBefore"
        - name: purchaseReference
          in: query
          required: false
          schema:
            type: string
          description:
            Filter the search result by purchase reference. Support equal
            operation
          examples:
            equalTo:
              value: eq:29320342
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetBulkIntakesSuccessResponse"
              examples:
                successResponse:
                  value:
                    totalResults: 1000
                    offset: 0
                    limit: 10
                    first: /bulk-intakes?offset=0&limit=10
                    previous: null
                    next: /bulk-intakes?offset=10&limit=10
                    last: /bulk-intakes?offset=990&limit=10
                    results:
                      - id: 71771
                        occurredTime: 164876283628
                        reversed: false
                        wineDetails:
                          vessel: AVESSEL
                          batch: 09a9ds
                          ownership:
                            - owner:
                                id: 234234
                                extId: S32342
                                name: A winery
                              percentage: 100
                          volume:
                            value: 9923
                            unit: gal
                          fractionType: FREE_RUN
                          fermentState: FERMENTED
                          malolacticState: FERMENTED
                          beverageType: Red
                          reference: ABC Wine
                          yieldRate: 200
                          batchOwner:
                            id: 1
                            extId: O66253
                            name: CBI
                        composition:
                          - vintage: 2022
                            variety:
                              id: 3333
                              name: Chardonnay
                            region:
                              id: 65
                              name: Napa Valley
                            percentage: 100
                            block:
                              extId: "2342"
                        cost:
                          amount: 39234
                          rate: TOTAL
                          freight: 232.2
                          ttbDetails:
                            taxState: BONDED
                            taxClass:
                              id: 653
                              name: 14 to 16%
                              federalName: <16%
                              stateName: 14 to 21%
                        deliveryDetails:
                          purchaseOrder:
                            id: 93023
                            name: PO-2342
                          receivedFrom:
                            id: 39203
                            name: Cellar
                            extId: 32342
                          shippingRefNo: "32423"
                          truckNo: W123S
                          driverName: Smiths
                          sealNo: A93232
                          compartmentNo: 2
                          cipNo: 2222
                          container: XX container
                          customsEntryNumber: ABD-3923-CC
                          carrier:
                            id: 39203
                            name: Goods Logistics
                            extId: AD2342
                          deliveryState: IN_TRANSIT
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/bulk-intakes/{id}:
    patch:
      summary: Partially update some fields in the bulk intake record
      description:
        "Provide functionality to update only some fields in the bulk intake
        record.


        Note, not all fields will support this PATCH operation. Consult with developers
        for your use case.

        "
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
        - $ref: "#/components/parameters/VintraceEntityId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: common-schemas.yaml#/components/schemas/PatchRequest
            examples:
              updateDeliveryState:
                value:
                  - path: /deliveryDetails/deliveryState
                    op: REPLACE
                    value: COMPLETE
      responses:
        "204":
          description: Update is successful
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
  /wrw/api/v7/operation/trial-blends:
    get:
      summary: Get the trial blend records in the system
      description: Get the trial blend records in the system
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: "#/components/parameters/ModifiedSince"
        - $ref: "#/components/parameters/ModifiedBefore"
        - name: status
          in: query
          required: false
          schema:
            type: string
          description:
            "Filter the search result by status. Support multiple status
            in the value delimited by comma.


            For complete list of values, refer to the enums of status field in TrialBlend
            schema.

            "
          examples:
            filterByOneStatus:
              value: REQUEST_FOR_APPROVAL
            filterByTwoStatus:
              value: REQUEST_FOR_APPROVAL,DRAFT
        - name: compositionSummaryBy
          in: query
          required: false
          schema:
            type: string
          description:
            "Provide a summarised composition view based on the types provided\
            \ in the query param. \n\nThis query param support multiple types delimited\
            \ by comma. Currently, you can summarize by variety,vintage,region,subRegion\n"
          example: variety,vintage,region,sub_region
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetTrialBlendsSuccessResponse"
              examples:
                successResponseWithComposition:
                  value:
                    totalResults: 1000
                    offset: 0
                    limit: 10
                    first: /api/v7/operation/trial-blends?offset=0&limit=10&type=vintage,variety,region,sub_region
                    previous: null
                    next: /api/v7/operation/trial-blends?offset=10&limit=10&type=vintage,variety,region,sub_region
                    last: /api/v7/operation/trial-blends?offset=990&limit=10&type=vintage,variety,region,sub_region
                    results:
                      - reference: f137add1-3226-11ed-8f7d-0242ac110002
                        name: TB-32342
                        description: A trial blend
                        year: "2022"
                        winery:
                          id: 92032
                          name: Winery A
                          businessUnit: null
                        operator:
                          id: 39203
                          name: User, A
                          extId: null
                        trialDate: 164876284000
                        modifiedTime: 164876284000
                        cost: 50.23
                        amount:
                          unit: L
                          value: 30
                        sampleVolume:
                          unit: L
                          value: 0.3
                        status: DRAFT
                        composition:
                          summary:
                            - type: VINTAGE
                              elements:
                                - name: 2022
                                  percentage: 60
                                - name: 2021
                                  percentage: 40
                            - type: VARIETY
                              elements:
                                - name: Chardonnay
                                  percentage: 100
                            - type: REGION
                              elements:
                                - name: Napa Valley
                                  percentage: 100
                            - type: SUB_REGION
                              elements:
                                - name: Rutherford
                                  percentage: 30
                                - name: UNSPECIFIED
                                  percentage: 70
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/work-orders:
    get:
      summary: Get all the work orders in the system
      description: Return all work orders matching the supplied query param conditions
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: "#/components/parameters/PaginationLimit"
        - name: scheduledSince
          in: query
          required: false
          schema:
            type: integer
            format: int64
            example: 164876284000
          description:
            Only include work orders that are scheduled since the provided
            time stamp. The value is required to be in epoch milliseconds and inclusive.
        - name: scheduledBefore
          in: query
          required: false
          schema:
            type: integer
            format: int64
            example: 164876284000
          description:
            Only include work orders that are scheduled before the provided
            time stamp. The value is required to be in epoch milliseconds and inclusive.
        - name: status
          in: query
          required: false
          schema:
            type: string
            example: READY,IN_PROGRESS
          description:
            "Only include work orders that are in the provided status list.


            Support multiple types delimited by comma.

            "
        - name: operationTypes
          in: query
          required: false
          schema:
            type: string
            example: TIRAGE,BULK_DISPATCH
          description:
            "Only include work orders that have the type of winery jobs in
            the provided list.


            Support multiple types delimited by comma.

            "
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetWorkOrdersSuccessResponse"
              examples:
                successResponseWithComposition:
                  value:
                    totalResults: 1000
                    offset: 0
                    limit: 10
                    first: /wrw/api/v7/operation/work-orders?offset=0&limit=10
                    previous: null
                    next: /wrw/api/v7/operation/work-orders?offset=10&limit=10
                    last: /wrw/api/v7/operation/work-orders?offset=990&limit=10
                    results:
                      - id: 932032
                        name: TWL-123
                        assignedTo:
                          id: 39203
                          name: User, A
                          extId: null
                        issuedBy:
                          id: 39204
                          name: User, B
                          extId: null
                        status: READY
                        scheduledTime: 164876284000
                        summary: Bottling to A-SINGLE WINERY, user
                        jobs:
                          - id: 2323
                            type: WINERY
                            jobNumber: 1
                            status: ASSIGNED
                            scheduledTime: 164876284000
                            finishedTime: null
                            operationType: TIRAGE
                            link:
                              href: /wrw/api/v7/operation/tirage/job:2323
                              rel: latest-version
                              method: GET
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/tirage/{operationId}:
    get:
      summary: Get a tirage operation information in the system
      description:
        "This endpoint returns the completed or scheduled tirage operation
        associated with the id.


        When scheduled operations is not completed, their data returned in this endpoint
        can be different because users can change the fields in the operation window
        after it's scheduled.

        "
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
        - $ref: "#/components/parameters/OperationId"
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TirageSuccessResponse"
              example:
                data:
                  id: 1231
                  workOrderNumber: TWL-123
                  jobNumber: 1
                  occurredTime: 1665013612000
                  modifiedTime: 1665013612000
                  operator:
                    id: 39203
                    name: User, A
                    extId: null
                  reversed: false
                  groupName: TIR100
                  sourceWine:
                    vessel: 66
                    batch: 11CHBLRR
                    designatedProduct:
                      id: 625
                      name: CHNAVPREM
                      code: CHV
                    productionYear: 2022
                    winery:
                      id: 3
                      name: Winery B
                      businessUnit: department 1
                    wineryBuilding:
                      id: 38293
                      name: WB-1
                  outVolume:
                    value: 6000
                    unit: gal
                  loss:
                    volume:
                      value: 10
                      unit: gal
                    reason:
                      id: 32342
                      name: Bottling
                  package:
                    quantity:
                      value: 100
                      unit: units
                    tirageItem:
                      id: 93232
                      name: 20TIRAGE
                    tirageBatch: 10CHLEES
                    totalPackagedVolume:
                      value: 12000
                      unit: gal
        default:
          $ref: "#/components/responses/DefaultError"
    patch:
      summary: Partially update fields in the tirage record
      description:
        "Provide functionality to update some fields in the tirage record.


        Note, depending on the status of tirage operation, not all fields are allowed
        to be updated. Consult with Vintrace developers for your use case.

        "
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
        - $ref: "#/components/parameters/OperationId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: common-schemas.yaml#/components/schemas/PatchRequest
            examples:
              updateQuantityField:
                value:
                  - path: /package/quantity
                    op: REPLACE
                    value: 200
              updateGroupNameField:
                value:
                  - path: /groupName
                    op: REPLACE
                    value: new group name
      responses:
        "204":
          description: Update is successful
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
  /wrw/api/v7/operation/barrels-movements:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    post:
      summary: move barrels
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/MoveBarrelsRequest"
            examples:
              moveBarrelsInABarrelGroup:
                value:
                  occurredTime: 164876283628
                  operator:
                    id: 39203
                  additionalInstructions: ""
                  operatorNotes: operatorNotes
                  documentIds:
                    - 41
                    - 40
                  targetBatch: null
                  movements:
                    - vessel:
                        id: 1
                      newStorageAreas:
                        - vesselToMove: barrel1
                          storageArea:
                            name: Area 51
                          aisle: 2
                          stack: Stack10
                          toStack: Stack20
                          positions:
                            - level: 3
                              orientation: LEFT
                        - vesselToMove: barrel2
                          storageArea:
                            name: Area 52
                          aisle: 3
                          stack: Stack11
                          toStack: Stack201
                          positions:
                            - level: 2
                              orientation: LEFT
              moveSingleBarrelGroup:
                value:
                  occurredTime: 164876283628
                  operator:
                    id: 39203
                  additionalInstructions: ""
                  operatorNotes: operatorNotes
                  documentIds:
                    - 41
                    - 40
                  targetBatch: null
                  movements:
                    vessel:
                      id: 1
                    newStorageAreas:
                      - storageArea:
                          name: Area 51
                        aisle: 2
                        stack: Stack10
                        toStack: Stack20
                        positions:
                          - level: 3
                            orientation: LEFT
                      - storageArea:
                          name: Area 52
                        aisle: 3
                        stack: Stack11
                        toStack: Stack21
                        positions:
                          - level: 2
                            orientation: LEFT
              moveSingleBarrel:
                value:
                  occurredTime: 164876283628
                  operator:
                    id: 39203
                  operatorNotes: operatorNotes
                  documentIds:
                    - 41
                    - 40
                  movements:
                    - vessel:
                        name: barrel
                      newStorageAreas:
                        - storageArea:
                            name: Area 52
                          aisle: 3
                          stack: Stack11
                          toStack: Stack21
                          positions:
                            - level: 2
                              orientation: LEFT
              moveBarrelToNewBatch:
                value:
                  occurredTime: 164876283628
                  operator:
                    id: 39203
                  operatorNotes: operatorNotes
                  documentIds:
                    - 41
                    - 40
                  targetBatch: batch
                  movements:
                    - vessel:
                        id: 123
                      newStorageAreas:
                        - storageArea:
                            name: Area 52
                          aisle: 3
                          stack: Stack11
                          toStack: Stack21
                          positions:
                            - level: 2
                              orientation: LEFT
              moveEmptyBarrel:
                value:
                  movements:
                    - vessel:
                        name: barrel
                      newStorageAreas:
                        - storageArea:
                            name: Area 52
                          aisle: 3
                          stack: Stack11
                          toStack: Stack21
                          positions:
                            - level: 2
                              orientation: LEFT
              moveEmptyBarrelGroup:
                value:
                  movements:
                    - vessel:
                        name: barrel group
                      newStorageAreas:
                        - storageArea:
                            name: Area 51
                          aisle: 2
                          stack: Stack10
                          toStack: Stack20
                          positions:
                            - level: 3
                              orientation: LEFT
                        - storageArea:
                            name: Area 52
                          aisle: 3
                          stack: Stack11
                          toStack: Stack21
                          positions:
                            - level: 2
                              orientation: LEFT
              moveEmptyBarrelGroupIndividualBarrel:
                value:
                  movements:
                    - vessel:
                        name: barrel group
                      newStorageAreas:
                        - vesselToMove: barrel1
                          storageArea:
                            name: Area 51
                          aisle: 2
                          stack: Stack10
                          toStack: Stack20
                          positions:
                            - level: 3
                              orientation: LEFT
                        - vesselToMove: barrel2
                          storageArea:
                            name: Area 52
                          aisle: 3
                          stack: Stack11
                          toStack: Stack201
                          positions:
                            - level: 2
                              orientation: LEFT
              multiMove:
                value:
                  occurredTime: 164876283628
                  operator:
                    id: 39203
                  additionalInstructions: ""
                  operatorNotes: operatorNotes
                  documentIds:
                    - 41
                    - 40
                  targetBatch: null
                  movements:
                    - vessel:
                        id: 1
                      newStorageAreas:
                        - vesselToMove: barrel1
                          storageArea:
                            name: Area 51
                          aisle: 2
                          stack: Stack10
                          toStack: Stack20
                          positions:
                            - level: 3
                              orientation: LEFT
                        - vesselToMove: barrel2
                          storageArea:
                            name: Area 52
                          aisle: 3
                          stack: Stack11
                          toStack: Stack201
                          positions:
                            - level: 2
                              orientation: LEFT
                    - vessel:
                        name: barrel group
                      newStorageAreas:
                        - vesselToMove: barrel1
                          storageArea:
                            name: Area 51
                          aisle: 2
                          stack: Stack10
                          toStack: Stack20
                          positions:
                            - level: 3
                              orientation: LEFT
                        - vesselToMove: barrel2
                          storageArea:
                            name: Area 52
                          aisle: 3
                          stack: Stack11
                          toStack: Stack201
                          positions:
                            - level: 2
                              orientation: LEFT
      responses:
        "201":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /barrels-movements/2342
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/MoveBarrelsResponse"
              examples:
                moveBarrelsInABarrelGroup:
                  value:
                    data:
                      id: 1
                      modifiedTime: 164876283628
                      occurredTime: 164876283628
                      operator:
                        id: 39203
                      additionalInstructions: ""
                      operatorNotes: operatorNotes
                      documentIds:
                        - 41
                        - 40
                      targetBatch: null
                      movements:
                        - vessel:
                            id: 1
                          newStorageAreas:
                            - vesselToMove: barrel1
                              storageArea:
                                name: Area 51
                              aisle: 2
                              stack: Stack10
                              toStack: Stack20
                              positions:
                                - level: 3
                                  orientation: LEFT
                            - vesselToMove: barrel2
                              storageArea:
                                name: Area 52
                              aisle: 3
                              stack: Stack11
                              toStack: Stack201
                              positions:
                                - level: 2
                                  orientation: LEFT
                moveSingleBarrelGroup:
                  value:
                    data:
                      id: 1
                      occurredTime: 164876283628
                      modifiedTime: 164876283628
                      operator:
                        id: 39203
                        name: User, A
                        extId: null
                      movements:
                        - vessel:
                            id: 123
                            name: barrel group
                          newStorageAreas:
                            - storageArea:
                                id: 100
                                name: Area 51
                                code: Area51
                              aisle: 2
                              stack: Stack10
                              toStack: Stack20
                              positions:
                                - level: 3
                                  orientation: LEFT
                            - storageArea:
                                id: 101
                                name: Area 52
                                code: Area52
                              aisle: 3
                              stack: Stack11
                              toStack: Stack21
                              positions:
                                - level: 2
                                  orientation: LEFT
                moveSingleBarrel:
                  value:
                    data:
                      id: 1
                      occurredTime: 164876283628
                      modifiedTime: 164876283628
                      operator:
                        id: 39203
                        name: User, A
                        extId: null
                      movements:
                        - vessel:
                            id: 123
                            name: barrel
                          newStorageAreas:
                            - storageArea:
                                id: 101
                                name: Area 52
                                code: Area52
                              aisle: 3
                              stack: Stack11
                              toStack: Stack21
                              positions:
                                - level: 2
                                  orientation: LEFT
                moveEmptyBarrel:
                  value:
                    data:
                      dateOccurred: 164876283628
                      operator:
                        id: 39203
                        name: User, A
                        extId: null
                      movements:
                        - vessel:
                            id: 123
                            name: barrel
                          newStorageAreas:
                            - storageArea:
                                id: 101
                                name: Area 52
                                code: Area52
                              aisle: 3
                              stack: Stack11
                              toStack: Stack21
                              positions:
                                - level: 2
                                  orientation: LEFT
                moveEmptyBarrelGroup:
                  value:
                    data:
                      dateOccurred: 164876283628
                      operator:
                        id: 39203
                        name: User, A
                        extId: null
                      movements:
                        - vessel:
                            id: 123
                            name: barrel group
                          newStorageAreas:
                            - storageArea:
                                id: 100
                                name: Area 51
                                code: Area51
                              aisle: 2
                              stack: Stack10
                              toStack: Stack20
                              positions:
                                - level: 3
                                  orientation: LEFT
                            - storageArea:
                                id: 101
                                name: Area 52
                                code: Area52
                              aisle: 3
                              stack: Stack11
                              toStack: Stack21
                              positions:
                                - level: 2
                                  orientation: LEFT
                moveEmptyBarrelGroupIndividualBarrel:
                  value:
                    data:
                      dateOccurred: 164876283628
                      operator:
                        id: 39203
                        name: User, A
                        extId: null
                      movements:
                        - vessel:
                            id: 123
                            name: barrel group
                          newStorageAreas:
                            - vesselToMove: barrel1
                              storageArea:
                                id: 100
                                name: Area 51
                                code: Area51
                              aisle: 2
                              stack: Stack10
                              toStack: Stack20
                              positions:
                                - level: 3
                                  orientation: LEFT
                            - vesselToMove: barrel2
                              storageArea:
                                id: 101
                                name: Area 52
                                code: Area52
                              aisle: 3
                              stack: Stack11
                              toStack: Stack201
                              positions:
                                - level: 2
                                  orientation: LEFT
                multiMove:
                  value:
                    data:
                      occurredTime: 164876283628
                      operator:
                        id: 39203
                      additionalInstructions: ""
                      operatorNotes: operatorNotes
                      documentIds:
                        - 41
                        - 40
                      targetBatch: null
                      movements:
                        - vessel:
                            id: 1
                          newStorageAreas:
                            - vesselToMove: barrel1
                              storageArea:
                                name: Area 51
                              aisle: 2
                              stack: Stack10
                              toStack: Stack20
                              positions:
                                - level: 3
                                  orientation: LEFT
                            - vesselToMove: barrel2
                              storageArea:
                                name: Area 52
                              aisle: 3
                              stack: Stack11
                              toStack: Stack201
                              positions:
                                - level: 2
                                  orientation: LEFT
                        - vessel:
                            name: barrel group
                          newStorageAreas:
                            - vesselToMove: barrel1
                              storageArea:
                                name: Area 51
                              aisle: 2
                              stack: Stack10
                              toStack: Stack20
                              positions:
                                - level: 3
                                  orientation: LEFT
                            - vesselToMove: barrel2
                              storageArea:
                                name: Area 52
                              aisle: 3
                              stack: Stack11
                              toStack: Stack201
                              positions:
                                - level: 2
                                  orientation: LEFT
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/wine-batches:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    get:
      summary: Get a list of wine batches in the system
      description: Get the wine batches in the system
      parameters:
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: common-schemas.yaml#/components/parameters/VintraceEntityIds
        - name: include
          in: query
          required: false
          schema:
            type: string
            example: allocations,vessels
          description:
            By default, allocations and vessels won't be included in the
            response unless requested using this query param
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetWineBatchSuccessResponse"
              examples:
                successResponse:
                  value:
                    totalResults: 1000
                    offset: 0
                    limit: 10
                    first: /wine-batches?offset=0&limit=10
                    previous: null
                    next: /wine-batches?offset=10&limit=10
                    last: /wine-batches?offset=990&limit=10
                    results:
                      - id: 571
                        batchCode: test-batchCode
                        batchNumber: test-batchNumber
                        description: test
                        productionYear: 2022
                        owner:
                          id: 1
                          extId: O66253
                          name: JX2 Winery
                        grading:
                          scaleId: 2
                          scaleName: Wine
                          valueId: 67
                          valueName: A
                        program:
                          id: 33
                          name: Premium Chardonnay
                        designatedRegion:
                          id: 32
                          name: Napa Valley
                        designatedSubRegion:
                          id: 33
                          name: SubA
                        designatedVariety:
                          id: 34
                          name: Shiraz
                        winery:
                          id: 5
                          name: My Winery
                        category:
                          id: 1
                          name: Bulk Wine
                        designatedProduct:
                          id: 625
                          name: CHNAVPREM
                        costsTrackedPercentage: 100
                        ageOfSpirits: test
                        serviceOrder:
                          id: 1234
                          name: JX2 2023
                        fractionType: FREE_RUN
                        inactive: false
                        vessels:
                          - id: 1
                            name: TANK_01
                            type: TANK
                            amount:
                              value: 34
                              unit: L
                        allocations:
                          - product:
                              id: 625
                              name: CHNAVPREM
                              code: CHV
                            vintage: 2021
                            itemCode: 21CHAVPREM
                            allocationVolume:
                              value: 600
                              unit: L
                            allocationPercentageOfVessel: 100
        default:
          $ref: "#/components/responses/DefaultError"
    post:
      summary: Create a wine batch
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateWineBatchRequest"
            examples:
              createNewBatch:
                value:
                  batchCode: test-batchCode
                  batchNumber: test-batchNumber
                  description: test
                  productionYear: 2022
                  owner:
                    id: 1
                    name: JX2 Winery
                  grading:
                    scaleId: 2
                    scaleName: Wine
                    valueId: 67
                    valueName: A
                  program:
                    id: 33
                    name: Premium Chardonnay
                  designatedRegion:
                    name: Napa Valley
                  designatedSubRegion:
                    name: SubA
                  designatedVariety:
                    name: Shiraz
                  winery:
                    id: 5
                    name: My Winery
                  category:
                    id: 1
                    name: Bulk Wine
                  designatedProduct:
                    id: 625
                    name: CHNAVPREM
                  costsTrackedPercentage: 100
                  ageOfSpirits: test
                  serviceOrder:
                    id: 1234
                    name: JX2 2023
                  fractionType: FREE_RUN
      responses:
        "201":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /wine-batches/123
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CreateWineBatchSuccessResponse"
              examples:
                successResponse:
                  value:
                    data:
                      id: 571
                      batchCode: test-batchCode
                      batchNumber: test-batchNumber
                      description: test
                      productionYear: 2022
                      owner:
                        id: 1
                        name: JX2 Winery
                      grading:
                        scaleId: 2
                        scaleName: Wine
                        valueId: 67
                        valueName: A
                      program:
                        id: 33
                        name: Premium Chardonnay
                      designatedRegion:
                        name: Napa Valley
                      designatedSubRegion:
                        name: SubA
                      designatedVariety:
                        name: Shiraz
                      winery:
                        id: 5
                        name: My Winery
                      category:
                        id: 1
                        name: Bulk Wine
                      designatedProduct:
                        id: 625
                        name: CHNAVPREM
                      costsTrackedPercentage: 100
                      ageOfSpirits: test
                      serviceOrder:
                        id: 1234
                        name: JX2 2023
                      fractionType: FREE_RUN
                      inactive: false
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/operation/operation/documents:
    put:
      summary: Upload a file to an operation
      description:
        This endpoint allows users to attach a document to a specified
        operation. The document will be associated with the operation and can be viewed
        later.
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AttachDocumentsRequest"
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AttachDocumentsSuccessResponse"
              examples:
                successResponse:
                  value:
                    documents:
                      id: 12345
                      name: delivery-docket.pdf
                    process:
                      id: 789
                      type: DELIVERY
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/report/vessel-details-report:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    get:
      summary: Return vessel and contents details for bulk wines at a specified date/time
      parameters:
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
        - $ref: "#/components/parameters/ReportDate"
        - $ref: "#/components/parameters/BusinessUnit"
        - $ref: "#/components/parameters/WineBatchCode"
        - $ref: "#/components/parameters/VesselCode"
        - $ref: "#/components/parameters/Owner"
        - $ref: "#/components/parameters/ExtraFields"
        - $ref: "#/components/parameters/VesselId"
        - $ref: "#/components/parameters/ProductId"
        - $ref: "#/components/parameters/WineryId"
        - $ref: "#/components/parameters/WineryName"
        - $ref: "#/components/parameters/VesselType"
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetBulkWineDetailsReportResponse"
              examples:
                successBulkWineDetailsResponse:
                  value:
                    totalResults: 1
                    offset: 0
                    limit: 10
                    first: /bulk-wine-report?offset=0&limit=10
                    previous: null
                    next: null
                    last: /bulk-wine-report?offset=0&limit=10
                    results:
                      - id: 876
                        productId: 5252
                        name: T25-01
                        description: 25kgal tank
                        vesselType: TANK
                        detailsAsAt: 16567262652
                        beverageType:
                          id: 2
                          name: Red
                        sparklingInfo:
                          state: Bottled
                        owner:
                          id: 1
                          extId: O66253
                          name: CBI
                        winery:
                          id: 765
                          name: My Winery
                          businessUnit: US57
                        wineBatch:
                          id: 889383
                          name: 21NAVCHA-05
                          description: 2021 Napa Valley Chardonnay
                          vintage: "2021"
                          designatedRegion:
                            id: 65
                            name: Napa Valley
                            code: NAV
                          designatedSubRegion:
                            id: 66
                            name: Oakville
                            code: OAK
                          designatedVariety:
                            id: 3333
                            name: Chardonnay
                            code: CHA
                          program: XYZ
                          productCategory:
                            id: 1
                            name: Bulk Wine
                            code: TPC
                          designatedProduct:
                            id: 625
                            name: CHNAVPREM
                            code: CHV
                          grading:
                            scaleId: 2
                            scaleName: Wine
                            valueId: 67
                            valueName: A
                        productState:
                          id: 222
                          name: Filtered
                          expectedLossesPercentage: 2
                        volume:
                          value: 25000
                          unit: gal
                        capacity:
                          value: 25000
                          unit: gal
                        ullage:
                          value: 0
                          unit: gal
                        ttbDetails:
                          bond:
                            id: 727623
                            name: BW-CA-xxxxxx
                          taxState: BONDED
                          taxClass:
                            id: 653
                            name: 14 to 16%
                            federalName: <16%
                            stateName: 14 to 21%
                        liveMetrics:
                          - name: Alcohol
                            value: 15
                            interfaceMappedName: ALS
                          - name: Brix
                            value: 0
                            interfaceMappedName: BRX
                          - name: Residual Sugar
                            value: 18
                            interfaceMappedName: SUG
                          - name: Color 420
                            value: 15
                            interfaceMappedName: COL
                        cost:
                          total: 250000
                          fruit: 209383
                          overhead: 30000
                          storage: 10000
                          additive: 617
                          bulk: 0
                          packaging: 0
                          operation: 0
                          freight: 0
                          other: 0
                        composition:
                          - vintage: "2021"
                            variety:
                              id: 3333
                              name: Chardonnay
                              code: CHA
                            region:
                              id: 65
                              name: Napa Valley
                              code: NAV
                            subRegion:
                              id: null
                              name: null
                              code: null
                            weighting: 0.95
                            percentage: 95
                            componentVolume:
                              value: 23750
                              unit: gal
                          - vintage: "2021"
                            variety:
                              id: 3335
                              name: Viognier
                              code: VGN
                            region:
                              id: 65
                              name: Napa Valley
                              code: NAV
                            subRegion:
                              id: 6
                              name: Napa
                              code: NAP
                            weighting: 0.05
                            percentage: 5
                            componentVolume:
                              value: 1250
                              unit: gal
                        allocations:
                          - product:
                              id: 625
                              name: CHNAVPREM
                              code: CHV
                            vintage: "2021"
                            itemCode: 21CHNAVPREM
                            allocationVolume:
                              value: 20000
                              unit: gal
                            allocationPercentageOfVessel: 80
                          - product:
                              id: 625
                              name: CHNAVSTD
                            vintage: "2021"
                            itemCode: 21CHNAVSTD
                            allocationVolume:
                              value: 2500
                              unit: gal
                            allocationPercentageOfVessel: 10
                        unallocatedVolume:
                          value: 2500
                          unit: gal
                        unallocatedPercentageOfVessel: 10
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/stock/receivals:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    post:
      summary: Perform a receive stock operation in the system.
      description: Insert the receive stock action into the system.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReceiveStockActionSchema"
            examples:
              receiveStockActionRequest:
                value:
                  occurredTime: 1644990021000
                  operator:
                    extId: 23423
                  supplier:
                    extId: 23423
                  carrier:
                    extId: 23423
                  purchaseOrderName: VPO1
                  purchaseOrderFulfillmentState: FULFILLED
                  rego: 123ABC
                  connote: ABC123
                  driversName: someDriverName
                  receivedBy:
                    extId: 23423
                  freightCost: 25
                  stockDetails:
                    - stockItemCode: SP/BL10NVPN
                      receivedAmount:
                        value: 600
                        unit: gal
                      price: 100
                      priceType: TOTAL
                      vendorCode: someVendorCode
                      lotName: BID-001
                      manufacturedDate: 1644990021000
                      expiryDate: 1644990021000
                      routeDetails:
                        - routeStockItem:
                            quantity: 5
                            storageArea:
                              id: 1234
                            bin: testBin
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /stock/receivals/1234
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ReceiveStockActionResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/ReceiveStockActionResponseExample"
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/stock/dispatches:
    parameters:
      - $ref: "#/components/parameters/CorrelationId"
    get:
      summary: Get all stock dispatches
      description: This endpoint returns all stock dispatch actions.
      parameters:
        - $ref: "#/components/parameters/PaginationLimit"
        - $ref: "#/components/parameters/PaginationOffset"
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/GetStockDispatchesSuccessResponse"
              examples:
                successShipmentsResponse:
                  value:
                    totalResults: 1000
                    offset: 0
                    limit: 10
                    first: /api/v7/stock/dispatches?offset=0&limit=10
                    previous: null
                    next: /api/v7/stock/dispatches?offset=10&limit=10
                    last: /api/v7/stock/dispatches?offset=990&limit=10
                    results:
                      - id: 1
                        workOrderNumber: "123"
                        jobNumber: "2"
                        occurredTime: 1650412615057
                        modifiedTime: 1650412615057
                        operator:
                          id: 39203
                          name: User, A
                          extId: null
                        reversed: false
                        source:
                          id: 2342
                          name: ABC Winery
                          businessUnit: null
                        destination:
                          id: 3
                          name: Company A
                          extId: null
                        dispatchType:
                          id: 12
                          name: Export
                        stockItems:
                          - item:
                              id: 1
                              name: 2019-0012
                              code: 2019-0012
                            quantity:
                              value: 1
                              unit: x12
                            routeDetails:
                              stockRoute:
                                - quantity: 1
                                  storageArea:
                                    id: 1
                                    name: area
                                  bin: bin
                        shippingInfo:
                          carrier:
                            id: 1231
                            name: Awesome Logistics
                            extId: "121321"
                          vendor:
                            id: 1
                            name: vendor
                            extId: 2
                          containerTypes: containerTypes
                          reference: abc dispatch
                          port: port
                          packingConfig: packingConfig
                          orderNo: orderNo
                          truckNo: ABC2323
                          containerNo: containerNo
                          sentBy:
                            id: 1
                            name: vendor
                            extId: 2
                          driverName: driverName
                          sealNo: sealNo
                          freightCode:
                            id: 323423
                            name: FC1
                          scale:
                            id: 1
                            name: scale
                          totalWeight:
                            value: 1
                            unit: kg
                          shippingRemarks: shippingRemarks
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/vessel/barrels/{id}:
    get:
      summary: Get the details of a barrel
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
      responses:
        "200":
          description: Success
          headers:
            correlationId:
              $ref: common-schemas.yaml#/components/schemas/CorrelationId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BarrelSuccessResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/BarrelSuccessResponseExample"
        default:
          $ref: common-responses.yaml#/components/responses/DefaultError
  /wrw/api/v7/vessel/barrel-groups/{id}:
    get:
      summary: Get the details of a barrel group
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
      responses:
        "200":
          description: Success
          headers:
            correlationId:
              $ref: common-schemas.yaml#/components/schemas/CorrelationId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BarrelGroupSuccessResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/BarrelGroupSuccessResponseExample"
        default:
          $ref: common-responses.yaml#/components/responses/DefaultError
  /wrw/api/v7/vessel/tanks:
    post:
      summary: create a tank
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TankCreateRequest"
            examples:
              createTank:
                value:
                  name: 15-0086
                  brand: desc
                  capacity:
                    value: 225
                    unit: L
                  wineryBuilding:
                    name: WB-1
                  owner:
                    id: 2
                  purchaseDate: 1644644421000
                  purchasedUsed: false
                  firstUsedDate: 1644644421000
                  deliveredDate: 1644644421000
                  grading:
                    scale:
                      name: Wine
                    value:
                      name: A
                  usageCounter: 8
                  inactive: false
                  sanitationState:
                    name: TO_BE_CLEANED
                  lastSanitation: 1644644421000
                  assetId: 24-153
                  rfid: 12344
                  miscellaneousInfo: Some extra information
                  controlId: 14321
                  alertState: false
                  headspace: 12.5
                  temperature: 10.2
                  hasThermostat: true
                  thermostatSetting: 10
                  diameter: 1.5
                  isRefrigerated: true
                  isFermenter: false
                  isInsulated: true
                  isHeated: false
                  constructionMaterial: Stainless steel
                  tankCategory:
                    name: Double tank
                  dspAccount:
                    name: PRODUCTION
                  allowStaves: true
                  containsStaves: true
                  hasAgitator: true
                  recount: false
                  accountsReference: accountsReference
                  purchaseOrderNumber: purchaseOrderNumber
                  financialReference: financialReference
                  depreciationStartDate: 1644644421000
                  depreciationEndDate: 1644644421000
                  vendor:
                    id: 2
      responses:
        "201":
          description: Success
          headers:
            correlationId:
              $ref: common-schemas.yaml#/components/schemas/CorrelationId
            Location:
              description: The URI of newly created resource
              schema:
                type: string
              example: /tanks/7177
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TankSuccessResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/TankSuccessResponseExample"
        default:
          $ref: common-responses.yaml#/components/responses/DefaultError
  /wrw/api/v7/vessel/tanks/{id}:
    get:
      summary: Get the details of a tank
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
      responses:
        "200":
          description: Success
          headers:
            correlationId:
              $ref: common-schemas.yaml#/components/schemas/CorrelationId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TankSuccessResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/TankSuccessResponseExample"
        default:
          $ref: common-responses.yaml#/components/responses/DefaultError
  /wrw/api/v7/vessel/tankers/{id}:
    get:
      summary: Get the details of a tanker
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
      responses:
        "200":
          description: Success
          headers:
            correlationId:
              $ref: common-schemas.yaml#/components/schemas/CorrelationId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TankerSuccessResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/TankerSuccessResponseExample"
        default:
          $ref: common-responses.yaml#/components/responses/DefaultError
  /wrw/api/v7/vessel/bins/{id}:
    get:
      summary: Get the details of a bin
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
      responses:
        "200":
          description: Success
          headers:
            correlationId:
              $ref: common-schemas.yaml#/components/schemas/CorrelationId
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/BinSuccessResponse"
              examples:
                successResponse:
                  $ref: "#/components/examples/BinSuccessResponseExample"
        default:
          $ref: common-responses.yaml#/components/responses/DefaultError
  /wrw/api/v7/account/purchase-orders:
    post:
      summary: Create or update a purchase order with lines in the system
      description:
        "This endpoint will upsert the purchase order into Vintrace. \n\
        \nThe name field (required to be unique) that contains the identifier (e.g\
        \ PO number) to be used to determine if the PO has existed or not.\n\nFor\
        \ updating, the information from the request body will overwrite the existing\
        \ value in Vintrace.  \n"
      parameters:
        - $ref: "#/components/parameters/CorrelationId"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PurchaseOrder"
            examples:
              adhocPORequest:
                value:
                  name: PO-2
                  vendor:
                    extId: ABC-2342
                  vendorReference: IT-92032
                  deliverBy: 1650412615057
                  state: NEW
                  fulfillment: NOT_FULFILLED
                  winery:
                    name: A Winery
                  freightCost: 3291.2
                  notes: purchased on 01/12/2022
                  inactive: false
                  lines:
                    - type: ADHOC
                      lineNumber: 1
                      itemCode: ADDITIVES
                      vendorCode: item1
                      description: Additives item x305
                      quantityOrdered:
                        unit: units
                        value: 10
                      unitPrice: 22.5
                      totalPrice: 225
                      quantityFulfilled:
                        unit: units
                        value: 0
                      taxable: true
              stockPORequest:
                value:
                  name: PO-3
                  vendor:
                    extId: ABC-2343
                  vendorReference: IT-92032
                  deliverBy: 1650412615057
                  state: NEW
                  fulfillment: NOT_FULFILLED
                  winery:
                    name: A Winery
                  freightCost: 3291.2
                  notes: purchased on 01/12/2022
                  inactive: false
                  lines:
                    - type: STOCK
                      lineNumber: 1
                      itemCode: 10NVCHJX
                      vendorCode: item1
                      description: stock item 23432
                      quantityOrdered:
                        unit: x1
                        value: 10
                      unitPrice: 22.5
                      totalPrice: 225
                      taxable: true
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurchaseOrderSuccessResponse"
              example:
                data:
                  id: 234234
                  name: PO-2
                  vendor:
                    id: 32342
                    name: A company
                    extId: ABC-2342
                  vendorReference: IT-92032
                  deliverBy: 1650412615057
                  state: NEW
                  fulfillment: NOT_FULFILLED
                  winery:
                    id: 392023
                    name: A Winery
                    businessUnit: null
                  taxPolicy: TAX_EXCLUSIVE
                  freightCost: 3291.2
                  notes: purchased on 01/12/2022
                  inactive: false
                  items:
                    - id: 23423
                      type: ADHOC
                      lineNumber: 1
                      name: null
                      vendorCode: item1
                      description: Additives
                      quantityOrdered:
                        unit: units
                        value: 10
                      unitPrice: 22.5
                      totalPrice: 225
                      quantityFulfilled:
                        unit: units
                        value: 0
                      taxable: true
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v7/account/purchase-orders/{id}:
    get:
      summary: Get the details of a purchase order.
      description: Get the details of a purchase order.
      parameters:
        - $ref: "#/components/parameters/VintraceEntityId"
        - $ref: "#/components/parameters/CorrelationId"
      responses:
        "200":
          description: Success
          headers:
            correlation-id:
              description: Unique identifier associated with the transaction
              schema:
                type: string
                format: uuid
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurchaseOrderSuccessResponse"
              example:
                data:
                  id: 234234
                  name: PO-2
                  vendor:
                    id: 32342
                    name: A company
                    extId: ABC-2342
                  vendorReference: IT-92032
                  deliverBy: 1650412615057
                  state: NEW
                  fulfillment: NOT_FULFILLED
                  winery:
                    id: 392023
                    name: A Winery
                    businessUnit: null
                  taxPolicy: TAX_EXCLUSIVE
                  freightCost: 3291.2
                  inactive: false
                  lines:
                    - id: 23423
                      type: ADHOC
                      lineNumber: 1
                      itemCode: null
                      vendorCode: item1
                      description: Additives
                      quantityOrdered:
                        unit: units
                        value: 10
                      unitPrice: 22.5
                      totalPrice: 225
                      quantityFulfilled:
                        unit: units
                        value: 0
                      taxable: true
        default:
          $ref: "#/components/responses/DefaultError"
  /wrw/api/v6/workorders/list:
    get:
      summary: List available work orders
      operationId: List available work orders
      description:
        By default returns a list of all work orders that are in "Ready",
        "In progress", or "Submitted" states and are assigned to me or unassigned
        with a date range from 7 days ago to 3 days from now.
      tags:
        - Jobs
      parameters:
        - name: max
          in: query
          description: The starting index of results.
          example: "30"
          schema:
            type: string
        - name: first
          in: query
          description: The starting index of results.
          example: "10"
          schema:
            type: string
        - name: startsWith
          in: query
          description:
            String that matches the QuickSearchResult against the start of
            the name.
          example: TWL2
          schema:
            type: string
        - name: assignedTo
          in: query
          description:
            A high-level filter to the work order assignedTo field, from
            the operator's perspective. Possible values are AVAILABLE_TO_ME, ANYONE,
            MINE_ONLY, UNASSIGNED. Default value is AVAILABLE_TO_ME.
          example: ANYONE
          schema:
            type: string
        - name: workOrderState
          in: query
          description:
            A high-level filter for the work order status, from the operator's
            perspective. Possible values are ANY, IN_PROGRESS, NOT_STARTED, SUBMITTED,
            INCOMPLETE. Default value is ANY.
          example: INCOMPLETE
          schema:
            type: string
        - name: fromDate
          in: query
          description:
            Format in YYYY-MM-DD format. Search for work orders with a scheduled
            date on or after this date. Default value is 7 days ago.
          example: 2017-10-1
          schema:
            type: string
        - name: toDate
          in: query
          description:
            in YYYY-MM-DD format. Search for work orders with a scheduled
            date on or before this date. Default value is 3 days from now.
          example: "2017-10-30"
          schema:
            type: string
        - name: countOnly
          in: query
          description: Returns the number of results only.
          example: "true"
          schema:
            type: boolean
        - name: wineryId
          in: query
          description: Winery id to filter on for work orders
          example: "4"
          schema:
            type: integer
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkOrderSearchResponse"
              example:
                firstResult: 0
                maxResult: 100
                totalResultCount: 3
                nextURLPath: null
                prevURLPath: null
                listText: All available
                workOrders:
                  - id: 283
                    code: TWL2821
                    jobCount: 1
                    jobCountText: 0 of 1 job
                    status: Not started
                    assignedTo: Not assigned
                    assignedBy: System Administrator
                    assignedDate: 149119785000
                    scheduledDate: 1493215200000
                    assignedDateAsText: 04/03/2017
                    scheduledDateAsText: 04/27/2017
                    canAssign: true
                    summary: Measure BCF02
                    indicators: []
                    bond: null
                    winery: null
                    jobs: []
                    colourCode: "#f83a22"
                    endpointURL: /wrw/api/v/workorders/283
                  - id: 2834
                    code: TWL2819
                    jobCount: 1
                    jobCountText: 0 of 1 job
                    status: Not started
                    assignedTo: Assigned to me
                    assignedBy: System Administrator
                    assignedDate: 1491192707000
                    scheduledDate: 149330100000
                    assignedDateAsText: 04/03/2017
                    scheduledDateAsText: 04/28/2017
                    canAssign: false
                    summary: Bulk dispatch to ABC Wine Company
                    indicators: []
                    bond: null
                    winery: null
                    jobs: []
                    colourCode: "#498e7"
                    endpointURL: /wrw/api/v/workorders/2834
                  - id: 2842
                    code: TWL2827
                    jobCount: 2
                    jobCountText: 0 of 2 jobs
                    status: Not started
                    assignedTo: Not assigned
                    assignedBy: System Administrator
                    assignedDate: 149134411000
                    scheduledDate: 149330100000
                    assignedDateAsText: 04/05/2017
                    scheduledDateAsText: 04/28/2017
                    canAssign: true
                    summary: Add Gum Arabic - Stabivin, Measure BCF02
                    indicators: []
                    bond: null
                    winery: null
                    jobs: []
                    colourCode: "#f83a22"
                    endpointURL: /wrw/api/v/workorders/2842
  /wrw/api/v6/workorders/{id}:
    get:
      summary: Get work order details by id or code
      operationId: Get work order details by id or code
      description: Returns a single work order with a given id or code.
      tags:
        - Jobs
      parameters:
        - name: id
          in: path
          description: The ID of the work order.
          example: "25"
          required: true
          schema:
            type: string
        - name: code
          in: query
          description: The TWL number of the work order.
          example: TWL2827
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/WorkOrder"
              example:
                id: 2842
                code: TWL2827
                jobCount: 2
                jobCountText: 0 of 2 jobs
                status: Not started
                assignedTo: Not assigned
                assignedBy: System Administrator
                assignedDate: 149134411000
                scheduledDate: 149330100000
                assignedDateAsText: 04/05/2017
                scheduledDateAsText: 04/28/2017
                canAssign: true
                summary: Add Gum Arabic - Stabivin, Measure BCF02
                indicators:
                  - CRUSH
                  - LAB
                  - PRESS
                bond: JX2 Winery - 1234
                winery: JX2 Winery
                jobs:
                  - id: 482
                    code: AT482
                    scheduledDate: 149330100000
                    finishedDate: null
                    scheduledDateAsText: 04/28/2017
                    finishedDateAsText: ""
                    status: Not started
                    assignedBy: System Administrator
                    assignedTo: Not assigned
                    summaryText: Add Gum Arabic - Stabivin to BADD01 in T1-02
                    miniSummaryText: Add Gum Arabic - Stabivin
                    jobColour: "#f91b2"
                    jobNumber: 1
                    stepText: null
                    steps: []
                    endpointURL: /wrw/api/v/workorders/jobs/482
                    jobVersion: 0
                    workOrderId: 2842
                  - id: 4827
                    code: AT4827
                    scheduledDate: 149330100000
                    finishedDate: null
                    scheduledDateAsText: 04/28/2017
                    finishedDateAsText: ""
                    status: Not started
                    assignedBy: System Administrator
                    assignedTo: Not assigned
                    summaryText: Measure volume of batch BCF02 in 111 to 58 gal
                    miniSummaryText: Measure BCF02
                    jobColour: "#cd74e"
                    jobNumber: 2
                    stepText: null
                    steps: []
                    endpointURL: /wrw/api/v/workorders/jobs/4827
                    jobVersion: 0
                    workOrderId: 2842
                colourCode: "#f83a22"
                endpointURL: /wrw/api/v/workorders/2842
  /wrw/api/v6/workorders/assign:
    post:
      summary: Assign a work order
      operationId: Assign a work order
      description: Assign a work order to me
      tags:
        - Jobs
      parameters: []
      requestBody:
        content:
          application/json:
            example:
              workOrderId: 25
            schema:
              $ref: "#/components/schemas/AssignWorkData"
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AssignWorkResponse"
              example:
                status: OK
                message: null
                jobEndpointURL: null
                workOrderEndpointURL: /mob/api/v/workorders/25
  /wrw/api/v6/workorders/jobs/{jobId}:
    get:
      summary: Get job details by id
      operationId: Get job details by id
      description: Returns a single job with a given id or code.
      tags:
        - Jobs
      parameters:
        - name: jobId
          in: path
          description: The ID of the job.
          required: true
          example: "15480"
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Job"
  /wrw/api/v6/workorders/submit:
    post:
      summary: Submit job details
      operationId: Submit job details
      description: ""
      tags:
        - Jobs
      parameters: []
      requestBody:
        content:
          application/json:
            example:
              jobId: 15480
              submitType: draft
              fields:
                - fieldId: 59bc-0738-4a9d-bb45-f5388032d234
                  value: Tastes good x2
                - fieldId: 295b973-f22-42c8-ba15-74ac21f797c7
                  value: my notes x2
            schema:
              $ref: "#/components/schemas/SubmitJobRequest"
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SubmitWorkOrderStepsResponse"
              example:
                status: SUCCESS
                message: ""
  /wrw/api/v6/sales-order/list:
    get:
      summary: List available sales orders
      operationId: List available sales orders
      description: Returns a list of the first 100 sales orders.
      tags:
        - Sales
      parameters:
        - name: max
          in: query
          description: The starting index of results.
          example: "30"
          schema:
            type: string
        - name: first
          in: query
          description: The starting index of results.
          example: "10"
          schema:
            type: string
        - name: startsWith
          in: query
          description:
            String that matches the QuickSearchResult against the start of
            the name.
          example: VSO
          schema:
            type: string
        - name: status
          in: query
          description:
            "Status of the sales order: New, Approved, Payment in Progress,
            Paid."
          example: Approved
          schema:
            type: string
        - name: customerName
          in: query
          description: Customer on the sales order.
          example: Adobe Creek Warehouse`
          schema:
            type: string
        - name: startDate
          in: query
          description:
            Start date to filter out the results of the sales orders in YYYY-MM-DD
            format.
          example: "2017-04-01"
          schema:
            type: string
        - name: endDate
          in: query
          description:
            End date to filter out the results of the sales orders in YYYY-MM-DD
            format.
          example: "2017-04-30"
          schema:
            type: string
        - name: invStartDate
          in: query
          description:
            The starting invoiced date to filter out sales order results
            in YYYY-MM-DD format.
          example: "2017-04-01"
          schema:
            type: string
        - name: invEndDate
          in: query
          description:
            The ending invoiced date to filter out sales order results in
            YYYY-MM-DD format.
          example: "2017-04-30"
          schema:
            type: string
        - name: externalTransactionId
          in: query
          description: External transaction ID linked to the sales order.
          example: ABC:12345
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SalesOrderResponse"
              example:
                status: Success
                message: null
                salesOrders:
                  - id: 22
                    invoiceDate: null
                    invoiceDateAsText: ""
                    customerId: 43
                    customerName: ABC Wine Company
                    sendTo:
                      name: ABC Wine Company
                      phone: null
                      address:
                        street1: 1 Some Street
                        street2: null
                        city: Napa
                        state: CA
                        postalCode: "94558"
                        country: null
                    salesType: Retail
                    salesPriceListId: 7
                    salesPriceListName: GST inclusive
                    priceDetails:
                      countryCurrencyCode: AUD Australia Dollar
                      taxPolicy: Tax Inclusive
                    salesOrderStatus: New
                    salesOrderItems:
                      - id: 424
                        itemId: 2
                        itemName: 11CH-SHINER/CS
                        unitPrice: 10.5
                        quantity: 20
                        unitOfMeasure: x12
                        discountPct: null
                        adjustment: null
                        taxAmount: 19.09
                        lineTotal: 210
                        accountId: 3
                        accountCode: Revenue
                        taxRateId: 5
                        taxRateName: GST inclusive
                    code: VSO20
                    description: null
                    reference: null
                    orderDate: 1494424800000
                    orderDateAsText: 11/05/2017
                    wineryId: null
                    wineryName: null
                    fulfillment: Approved to send
                    fulfillmentDate: null
                    fulfillmentDateAsText: ""
                    salesRegionId: null
                    salesRegionCode: null
                    notes: ""
                    customerPickup: false
                    disableAccountsSync: false
                    subTotal: 210
                    taxBreakdown:
                      - name: GST
                        amount: 19.09
                        ratePct: 10
                        inclusive: true
                    total: 210
                    acctReference: b211a90-84ab-42b8-9c01-add4bfaf1bb
                    posSaleReference: null
                    ignoreStockError: false
                  - id: 24
                    invoiceDate: null
                    invoiceDateAsText: ""
                    customerId: 101
                    customerName: Adobe Creek Warehouse
                    sendTo:
                      name: Adobe Creek Warehouse
                      phone: "(707) 123-457 "
                      address:
                        street1: 123 Somewhere
                        street2: null
                        city: Petaluma
                        state: CA
                        postalCode: "94952"
                        country: null
                    salesType: Wholesale
                    salesPriceListId: null
                    salesPriceListName: WET
                    priceDetails:
                      countryCurrencyCode: AUD Australia Dollar
                      taxPolicy: Tax Exclusive
                    salesOrderStatus: New
                    salesOrderItems:
                      - id: 427
                        itemId: 2
                        itemName: 10DEMOCASE
                        unitPrice: 13.45
                        quantity: 10
                        unitOfMeasure: x12
                        discountPct: null
                        adjustment: null
                        taxAmount: 5.3
                        lineTotal: 190.85
                        accountId: 3
                        accountCode: Revenue
                        taxRateId: 4
                        taxRateName: WET+GST
                      - id: 428
                        itemId: 21
                        itemName: 10NVCH/12
                        unitPrice: 18.45
                        quantity: 20
                        unitOfMeasure: x12
                        discountPct: null
                        taxAmount: 154.1
                        lineTotal: 523.1
                        accountId: 3
                        accountCode: Revenue
                        taxRateId: 4
                        taxRateName: WET+GST
                    code: VSO22
                    description: null
                    reference: null
                    orderDate: 1494424800000
                    orderDateAsText: 11/05/2017
                    wineryId: null
                    wineryName: null
                    fulfillment: Approved to send
                    fulfillmentDate: null
                    fulfillmentDateAsText: ""
                    salesRegionId: null
                    salesRegionCode: null
                    notes: ""
                    customerPickup: false
                    disableAccountsSync: false
                    subTotal: 503.5
                    taxBreakdown:
                      - name: WET
                        amount: 14.01
                        ratePct: 29
                        inclusive: false
                      - name: GST
                        amount: 4.95
                        ratePct: 10
                        inclusive: false
                    total: 714.4
                    acctReference: null
                    posSaleReference: null
                    ignoreStockError: false
                  - id: 484
                    invoiceDate: 149570400000
                    invoiceDateAsText: 25/05/2017
                    customerId: 43
                    customerName: ABC Wine Company
                    sendTo:
                      name: ABC Wine Company
                      phone: null
                      address:
                        street1: 1 Some Street
                        street2: null
                        city: Napa
                        state: CA
                        postalCode: "94558"
                        country: null
                    salesType: Wholesale
                    salesPriceListId: null
                    salesPriceListName: WET
                    priceDetails:
                      countryCurrencyCode: AUD Australia Dollar
                      taxPolicy: Tax Exclusive
                    salesOrderStatus: New
                    salesOrderItems:
                      - id: 72
                        itemId: 39
                        itemName: 10NVCHDEMO
                        unitPrice: 88
                        quantity: 20
                        unitOfMeasure: x12
                        discountPct: 10
                        adjustment: 52.8
                        taxAmount: 199.11
                        lineTotal: 74.31
                        accountId: 3
                        accountCode: Revenue
                        taxRateId: 4
                        taxRateName: WET+GST
                      - id: 73
                        itemId: 1
                        itemName: BCF01/BLK
                        unitPrice: 30
                        quantity: 20
                        unitOfMeasure: x12
                        discountPct: 20
                        adjustment: 120
                        taxAmount: 201.12
                        lineTotal: 81.12
                        accountId: 3
                        accountCode: Revenue
                        taxRateId: 4
                        taxRateName: WET+GST
                    code: VSO47
                    description: null
                    reference: null
                    orderDate: 149570400000
                    orderDateAsText: 25/05/2017
                    wineryId: null
                    wineryName: null
                    fulfillment: Approved to send
                    fulfillmentDate: null
                    fulfillmentDateAsText: ""
                    salesRegionId: null
                    salesRegionCode: null
                    notes: null
                    customerPickup: false
                    disableAccountsSync: false
                    subTotal: 955.2
                    taxBreakdown:
                      - name: WET
                        amount: 277.01
                        ratePct: 29
                        inclusive: false
                      - name: GST
                        amount: 123.22
                        ratePct: 10
                        inclusive: false
                    total: 1355.43
                    acctReference: null
                    posSaleReference: null
                    ignoreStockError: false
  /wrw/api/v6/sales-order/{id}:
    get:
      summary: Get sales order details by id
      operationId: Get sales order details by id
      description: Returns a single sales order with a given id.
      tags:
        - Sales
      parameters:
        - name: id
          in: path
          description: The ID of the sales order.
          required: true
          example: "22"
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SalesOrder"
              example:
                id: 22
                invoiceDate: null
                invoiceDateAsText: ""
                customerId: 43
                customerName: ABC Wine Company
                sendTo:
                  name: ABC Wine Company
                  phone: null
                  address:
                    street1: 1 Some Street
                    street2: null
                    city: Napa
                    state: CA
                    postalCode: "94558"
                    country: null
                salesType: Retail
                salesPriceListId: 7
                salesPriceListName: GST inclusive
                priceDetails:
                  countryCurrencyCode: AUD Australia Dollar
                  taxPolicy: Tax Inclusive
                salesOrderStatus: New
                salesOrderItems:
                  - id: 424
                    itemId: 2
                    itemName: 11CH-SHINER/CS
                    unitPrice: 10.5
                    quantity: 20
                    unitOfMeasure: x12
                    discountPct: null
                    adjustnemt: null
                    taxAmount: 19.09
                    lineTotal: 210
                    accountId: 3
                    accountCode: Revenue
                    taxRateId: 5
                    taxRateName: GST inclusive
                code: VSO20
                description: null
                reference: null
                orderDate: 1494424800000
                orderDateAsText: 11/05/2017
                wineryId: null
                wineryName: null
                fulfillment: Approved to send
                fulfillmentDate: null
                fulfillmentDateAsText: ""
                salesRegionId: null
                salesRegionCode: null
                notes: ""
                customerPickup: false
                disableAccountsSync: false
                subTotal: 210
                taxBreakdown:
                  - name: GST
                    amount: 19.09
                    ratePct: 10
                    inclusive: true
                total: 210
                acctReference: b211a90-84ab-42b8-9c01-add4bfaf1bb
                posSaleReference: null
                ignoreStockError: false
  /wrw/api/v6/sales-order:
    get:
      summary: Get sales order details by code
      operationId: Get sales order details by code
      description: Returns a single sales order with a given code.
      tags:
        - Sales
      parameters:
        - name: code
          in: query
          description: The sales order number.
          example: VSO20
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SalesOrder"
              example:
                id: 22
                invoiceDate: null
                invoiceDateAsText: ""
                customerId: 43
                customerName: ABC Wine Company
                sendTo:
                  name: ABC Wine Company
                  phone: null
                  address:
                    street1: 1 Some Street
                    street2: null
                    city: Napa
                    state: CA
                    postalCode: "94558"
                    country: null
                salesType: Retail
                salesPriceListId: 7
                salesPriceListName: GST inclusive
                priceDetails:
                  countryCurrencyCode: AUD Australia Dollar
                  taxPolicy: Tax Inclusive
                salesOrderStatus: New
                salesOrderItems:
                  - id: 424
                    itemId: 2
                    itemName: 11CH-SHINER/CS
                    unitPrice: 10.5
                    quantity: 20
                    unitOfMeasure: x12
                    discountPct: null
                    adjustnemt: null
                    taxAmount: 19.09
                    lineTotal: 210
                    accountId: 3
                    accountCode: Revenue
                    taxRateId: 5
                    taxRateName: GST inclusive
                code: VSO20
                description: null
                reference: null
                orderDate: 1494424800000
                orderDateAsText: 11/05/2017
                wineryId: null
                wineryName: null
                fulfillment: Approved to send
                fulfillmentDate: null
                fulfillmentDateAsText: ""
                salesRegionId: null
                salesRegionCode: null
                notes: ""
                customerPickup: false
                disableAccountsSync: false
                subTotal: 210
                taxBreakdown:
                  - name: GST
                    amount: 19.09
                    ratePct: 10
                    inclusive: true
                total: 210
                acctReference: b211a90-84ab-42b8-9c01-add4bfaf1bb
                posSaleReference: null
                ignoreStockError: false
    post:
      summary: Create or update a sales order
      operationId: Create or update a sales order
      description:
        For sales order with discounts and accounting integration with
        Xero is turned on for the customer, enter the discount as percentage value
        in `discountPct` field. Otherwise, if accounting integration is off, enter
        the discount in `adjustment` field as a dollar value. To update a sales order,
        you need to provide the `id' of the sales order.
      tags:
        - Sales
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SalesOrder"
            example:
              customerName: ABC Wine Company
              salesPriceListName: WET Retail Inclusive
              salesType: Retail
              salesOrderStatus: Approved
              invoiceDate: 14920800000
              customerPickup: false
              disableAccountsSync: false
              salesOrderItems:
                - itemName: 10NVCH/12
                  unitPrice: 20
                  quantity: 20
                  unitOfMeasure: x12
                  discountPct: 10
                  adjustment: null
                  accountCode: Revenue
                - itemName: BCF01/BLK
                  unitPrice: 30
                  quantity: 20
                  unitOfMeasure: x12
                  discountPct: 20
                  adjustment: null
                  accountCode: Revenue
              orderDate: 1491300000
              ignoreStockError: true
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SalesOrderUpdateResponse"
              example:
                status: Success
                message: null
                salesOrder:
                  id: 73
                  invoiceDate: 14920800000
                  invoiceDateAsText: 05/0/2017
                  customerId: 43
                  customerName: ABC Wine Company
                  sendTo:
                    name: ABC Wine Company
                    phone: null
                    address:
                      street1: 1 Some Street
                      street2: null
                      city: Napa
                      state: CA
                      postalCode: "94558"
                      country: null
                  salesType: Retail
                  salesPriceListId: 11
                  salesPriceListName: WET Retail Inclusive
                  priceDetails:
                    countryCurrencyCode: AUD Australia Dollar
                    taxPolicy: Tax Inclusive
                  salesOrderStatus: Approved
                  salesOrderItems:
                    - id: 108
                      itemId: 21
                      itemName: 10NVCH/12
                      unitPrice: 20
                      quantity: 20
                      unitOfMeasure: x12
                      discountPct: 10
                      adjustment: 40
                      taxAmount: 32.73
                      lineTotal: 30
                      accountId: 3
                      accountCode: Revenue
                      taxRateId: null
                      taxRateName: WET + GST Inclusive
                    - id: 109
                      itemId: 1
                      itemName: BCF01/BLK
                      unitPrice: 30
                      quantity: 20
                      unitOfMeasure: x12
                      discountPct: 20
                      adjustment: 120
                      taxAmount: 43.4
                      lineTotal: 480
                      accountId: 3
                      accountCode: Revenue
                      taxRateId: null
                      taxRateName: WET + GST Inclusive
                  code: SalesOrder#1
                  description: null
                  reference: null
                  orderDate: 1491300000
                  orderDateAsText: 05/0/2017
                  wineryId: 1
                  wineryName: JX2 Winery
                  fulfillment: Approved to send
                  fulfillmentDate: null
                  fulfillmentDateAsText: ""
                  salesRegionId: null
                  salesRegionCode: null
                  notes: null
                  customerPickup: false
                  disableAccountsSync: false
                  subTotal: 840
                  taxBreakdown:
                    - name: GST
                      amount: 7.37
                      ratePct: 10
                      inclusive: true
                    - name: WET
                      amount: 0
                      ratePct: 0
                      inclusive: true
                  total: 840
                  acctReference: null
                  posSaleReference: null
                  ignoreStockError: false
  /wrw/api/v6/refund/list:
    get:
      summary: List available refunds
      operationId: List available refunds
      description: Returns a list of the first 100 refunds.
      tags:
        - Sales
      parameters:
        - name: max
          in: query
          description: The starting index of results.
          example: "30"
          schema:
            type: string
        - name: first
          in: query
          description: The starting index of results.
          example: "10"
          schema:
            type: string
        - name: startsWith
          in: query
          description:
            String that matches the QuickSearchResult against the start of
            the name.
          example: VCR10
          schema:
            type: string
        - name: status
          in: query
          description: "Status of the sales order: Awaiting approval, Approved."
          example: Approved
          schema:
            type: string
        - name: customerName
          in: query
          description: Customer on the sales order.
          example: Adobe Creek Warehouse`
          schema:
            type: string
        - name: startDate
          in: query
          description:
            Start date to filter out the results of the sales orders in YYYY-MM-DD
            format.
          example: "2017-04-01"
          schema:
            type: string
        - name: endDate
          in: query
          description:
            End date to filter out the results of the sales orders in YYYY-MM-DD
            format.
          example: "2017-04-30"
          schema:
            type: string
        - name: salesOrderName
          in: query
          description: String that matches the sales order code of the refund.
          example: VSO21
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefundResponse"
              example:
                status: Success
                message: null
                refunds:
                  - id: 73
                    name: VCR201
                    refundDate: 1493820000000
                    refundDateAsText: 04/05/2017
                    reference: null
                    stockReturned: false
                    storageAreaId: null
                    storageAreaName: null
                    customerId: 43
                    customerName: ABC Wine Company
                    refundStatus: Awaiting approval
                    notes: Created from API
                    salesOrderId: 20
                    salesOrderName: VSO258
                    subTotal: 1334.55
                    total: 1334.55
                    taxBreakdown:
                      - name: GST
                        amount: 121.32
                        ratePct: 10
                        inclusive: true
                      - name: WET
                        amount: 0
                        ratePct: 0
                        inclusive: true
                    refundLineItems:
                      - id: 152
                        itemId: 41
                        itemName: 11GCZIN - 12 X 750
                        unitPrice: 25
                        returnQuantity: 10
                        returnTotal: 250
                        taxAmount: 22.73
                      - id: 153
                        itemId: 417
                        itemName: 13GB/12
                        unitPrice: 22.5
                        returnQuantity: 10
                        returnTotal: 225
                        taxAmount: 20.45
                      - id: 154
                        itemId: 418
                        itemName: 14CS DEMO/BLK
                        unitPrice: 35.48
                        returnQuantity: 20
                        returnTotal: 709
                        taxAmount: 4.51
                      - id: 155
                        itemId: 419
                        itemName: Wine cooler
                        unitPrice: 29.99
                        returnQuantity: 5
                        returnTotal: 149.95
                        taxAmount: 13.3
                    posSaleReference: null
                  - id: 75
                    name: VCR205
                    refundDate: 1493820000000
                    refundDateAsText: 04/05/2017
                    reference: null
                    stockReturned: false
                    storageAreaId: null
                    storageAreaName: null
                    customerId: 101
                    customerName: Adobe Creek Warehouse
                    refundStatus: Awaiting approval
                    notes: Created from API
                    salesOrderId: 24
                    salesOrderName: VSO22
                    subTotal: 319
                    total: 452.5
                    taxBreakdown:
                      - name: GST
                        amount: 41.15
                        ratePct: 10
                        inclusive: false
                      - name: WET
                        amount: 92.5
                        ratePct: 29
                        inclusive: false
                    refundLineItems:
                      - id: 10
                        itemId: 427
                        itemName: 10DEMOCASE
                        unitPrice: 13.45
                        returnQuantity: 10
                        returnTotal: 190.85
                        taxAmount: 5.3
                      - id: 11
                        itemId: 428
                        itemName: 10NVCH/12
                        unitPrice: 18.45
                        returnQuantity: 10
                        returnTotal: 21.8
                        taxAmount: 77.31
                    posSaleReference: null
  /wrw/api/v6/refund/{id}:
    get:
      summary: Get refund details by id
      operationId: Get refund details by id
      description: Returns a single refund with a given id.
      tags:
        - Sales
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the refund.
          example: "75"
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Refund"
              example:
                id: 75
                name: VCR205
                refundDate: 1493820000000
                refundDateAsText: 04/05/2017
                reference: null
                stockReturned: false
                storageAreaId: null
                storageAreaName: null
                customerId: 101
                customerName: Adobe Creek Warehouse
                refundStatus: Awaiting approval
                notes: Created from API
                salesOrderId: 24
                salesOrderName: VSO22
                subTotal: 319
                total: 452.5
                taxBreakdown:
                  - name: GST
                    amount: 41.15
                    ratePct: 10
                    inclusive: false
                  - name: WET
                    amount: 92.5
                    ratePct: 29
                    inclusive: false
                refundLineItems:
                  - id: 10
                    itemId: 427
                    itemName: 10DEMOCASE
                    unitPrice: 13.45
                    returnQuantity: 10
                    returnTotal: 190.85
                    taxAmount: 5.3
                  - id: 11
                    itemId: 428
                    itemName: 10NVCH/12
                    unitPrice: 18.45
                    returnQuantity: 10
                    returnTotal: 21.8
                    taxAmount: 77.31
                posSaleReference: null
  /wrw/api/v6/refund:
    get:
      summary: Get refund details by code
      operationId: Get refund details by code
      description: Returns a single refund with a given code.
      tags:
        - Sales
      parameters:
        - name: code
          in: query
          description: The refund name.
          example: VS205
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Refund"
              example:
                id: 75
                name: VCR205
                refundDate: 1493820000000
                refundDateAsText: 04/05/2017
                reference: null
                stockReturned: false
                storageAreaId: null
                storageAreaName: null
                customerId: 101
                customerName: Adobe Creek Warehouse
                refundStatus: Awaiting approval
                notes: Created from API
                salesOrderId: 24
                salesOrderName: VSO22
                subTotal: 319
                total: 452.5
                taxBreakdown:
                  - name: GST
                    amount: 41.15
                    ratePct: 10
                    inclusive: false
                  - name: WET
                    amount: 92.5
                    ratePct: 29
                    inclusive: false
                refundLineItems:
                  - id: 10
                    itemId: 427
                    itemName: 10DEMOCASE
                    unitPrice: 13.45
                    returnQuantity: 10
                    returnTotal: 190.85
                    taxAmount: 5.3
                  - id: 11
                    itemId: 428
                    itemName: 10NVCH/12
                    unitPrice: 18.45
                    returnQuantity: 10
                    returnTotal: 21.8
                    taxAmount: 77.31
                posSaleReference: null
    post:
      summary: Create or update a refund
      operationId: Create or update a refund
      description: To update a refund, you need to provide the `id' of the refund.
      tags:
        - Sales
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Refund"
            example:
              refundDate: 1493820000000
              salesOrderName: VSO22
              notes: Created from API
              refundLineItems:
                - itemName: 10DEMOCASE
                  returnQuantity: 10
                - itemName: 10NVCH/12
                  returnQuantity: 10
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RefundUpdateResponse"
              example:
                status: Success
                message: null
                refund:
                  id: 75
                  name: VCR205
                  refundDate: 1493820000000
                  refundDateAsText: 04/05/2017
                  reference: null
                  stockReturned: false
                  storageAreaId: null
                  storageAreaName: null
                  customerId: 101
                  customerName: Adobe Creek Warehouse
                  refundStatus: Awaiting approval
                  notes: Created from API
                  salesOrderId: 24
                  salesOrderName: VSO22
                  subTotal: 319
                  total: 452.5
                  disableAccountsSync: false
                  acctReference: null
                  taxBreakdown:
                    - name: WET
                      amount: 92.5
                      ratePct: 29
                      inclusive: false
                    - name: GST
                      amount: 41.15
                      ratePct: 10
                      inclusive: false
                  refundLineItems:
                    - id: 10
                      itemId: 427
                      itemName: 10DEMOCASE
                      unitPrice: 13.45
                      returnQuantity: 10
                      returnTotal: 190.85
                      taxAmount: 5.3
                    - id: 11
                      itemId: 428
                      itemName: 10NVCH/12
                      unitPrice: 18.45
                      returnQuantity: 10
                      returnTotal: 21.8
                      taxAmount: 77.31
                  posSaleReference: null
  /wrw/api/v6/party/list:
    get:
      summary: List parties
      operationId: List parties
      description: Returns a list of the first 100 parties.
      tags:
        - Sales
      parameters:
        - name: max
          in: query
          description: "The starting index of results. Default: 100."
          example: "30"
          schema:
            type: string
        - name: first
          in: query
          description: The starting index of results.
          example: "10"
          schema:
            type: string
        - name: startsWith
          in: query
          description:
            String that matches the primeName (Surname field in vintrace
            for individuals, Company Name for organisations) with the given string against
            the start of the name.
          example: ABC Wine Company
          schema:
            type: string
        - name: category
          in: query
          description: "Category of the party: All, Individuals, Organisations."
          example: All
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PartyResponse"
              example:
                status: Success
                message: null
                parties:
                  - id: 43
                    primeName: ABC Wine Company
                    givenName: "03123457"
                    phone: null
                    email: null
                    address:
                      street1: 1 Some Street
                      street2: null
                      city: Napa
                      state: CA
                      postalCode: "94558"
                      country: null
                    isOrganization: true
                  - id: 13
                    primeName: Smith
                    givenName: Adam
                    phone: "04123457"
                    email: smith@123.com
                    address:
                      street1: 22 Rainbow Walk
                      street2: null
                      city: HACKHAM
                      state: VIC
                      postalCode: "513"
                      country: AUSTRALIA
                    isOrganization: false
  /wrw/api/v6/party/{id}:
    get:
      summary: Get party details by id
      operationId: Get party details by id
      description: Returns a single party with a given id.
      tags:
        - Sales
      parameters:
        - name: id
          in: path
          required: true
          description: The ID of the party.
          example: "18"
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Party"
              example:
                id: 17
                primeName: Smith
                givenName: Adam
                phone: null
                email: smith@123.com
                address:
                  street1: 22 Rainbow Walk
                  street2: null
                  city: HACKHAM
                  state: VIC
                  postalCode: "513"
                  country: AUSTRALIA
                isOrganization: false
  /wrw/api/v6/party:
    get:
      summary: Get party details by name
      operationId: Get party details by name
      description: Returns a single party with a given code.
      tags:
        - Sales
      parameters:
        - name: name
          in: query
          description:
            The primeName (surname) if the party is an individual or the
            primeName (company name) if the party is an organisation.
          example: Smith
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Party"
              example:
                id: 17
                primeName: Smith
                givenName: Adam
                phone: null
                email: smith@123.com
                address:
                  street1: 22 Rainbow Walk
                  street2: null
                  city: HACKHAM
                  state: VIC
                  postalCode: "513"
                  country: AUSTRALIA
                isOrganization: false
    post:
      summary: Create or update a party
      operationId: Create or update a party
      description: To update a party, you need to provide the `id` of the party.
      tags:
        - Sales
      parameters: []
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/Party"
            example:
              primeName: Smith
              givenName: Adam
              phone: 0411192922
              email: smith@123.com
              address:
                street1: 22 Rainbow Walk
                street2: null
                city: HACKHAM
                state: VIC
                postalCode: "513"
                country: AUSTRALIA
              isOrganization: false
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PartyUpdateResponse"
              example:
                status: Success
                message: null
                party:
                  id: 17
                  primeName: Smith
                  givenName: Adam
                  phone: 0411192922
                  email: smith@123.com
                  address:
                    street1: 22 Rainbow Walk
                    street2: null
                    city: HACKHAM
                    state: VIC
                    postalCode: "513"
                    country: AUSTRALIA
                  isOrganization: false
  /wrw/api/v6/products/{id}:
    get:
      summary: Search for a product by id
      operationId: productSearch
      description:
        Searches for a product using an id and returns the product details
        and vessel information.
      tags:
        - Bulk wine
      parameters:
        - name: barcode
          in: query
          required: false
          description: The barcode to search for.
          schema:
            type: string
      responses:
        "200":
          description: Successful response with product and vessel details.
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductResponse"
              example:
                status: Success
                product:
                  id: 1
                  batchCode: 23SP_CO_1
                  vesselId: null
                  description: 2023 Spirits
                  descriptionCanEdit: true
                  volume:
                    value: 0
                    unit: gal
                  vesselCode: null
                  hasDipTable: false
                  dipTableEndpoint: null
                  colour: Spirits
                  beverageTypeProperties:
                    iconColour: "#a19f9f"
                    statusCharacter: W
                    statusString: Wine (spirits)
                    textColour: "#FFFFFF"
                    linkedBeverageType:
                      id: 16
                      name: Spirits
                      summary: null
                      type: BeverageType
                  physicalProductState: Wine
                  vesselType: null
                  productStatus: SPIRITS-W
                  productAnalysisEndpoint: /wrw/api/v/product-analysis/1
                  productCompositionEndpoint: /wrw/api/v/product-composition/1
                  productEndpoint: /wrw/api/v/products/1
                  productJobEndpoint: /wrw/api/v/product-jobs/1
                  liveMetrics: []
                  fieldValuePairs:
                    - field: Product State
                      value: null
                      fieldId: null
                      canEdit: true
                      canDeselect: false
                      fieldGroup: null
                      subText: null
                      actionType: null
                      editableFieldType: ProductState
                    - field: Owner
                      value: JX2 Winery
                      fieldId: null
                      canEdit: false
                      canDeselect: false
                      fieldGroup: null
                      subText: null
                      actionType: null
                      editableFieldType: null
                  canAccessNotes: true
                  notesCount: 0
                  notesEndpoint: /wrw/api/v/product-notes/1
                  measureEndpoint: /wrw/api/v/measure
                  barrelGroupEndpoint: null
                  enableVolumeAdjustment: false
                  capacity: null
                  tags: []
                  canEditTags: true
                  canSubmitOperations: true
                  batchHasMovableVessels: false
                vessel:
                  id: 123
                  vesselType: Tank
  /wrw/api/v6/products/list:
    get:
      summary: List available products
      operationId: List available products
      description: Returns a list of all active products.
      tags:
        - Bulk wine
      parameters:
        - name: barcode
          in: query
          description: Can either be the vessel code or the asset ID.
          example: BX54
          schema:
            type: string
        - name: max
          in: query
          description: "The starting index of results. Default: 100."
          example: "30"
          schema:
            type: string
        - name: first
          in: query
          description: The starting index of results.
          example: "10"
          schema:
            type: string
        - name: skipMetrics
          in: query
          description:
            False by default,if true will not include the metric data in
            the results.
          example: "true"
          schema:
            type: boolean
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductListResponse"
              example:
                status: Success
                products:
                  - id: 2407
                    batchCode: 10CHHPR02
                    vesselId: 193
                    description: null
                    descriptionCanEdit: true
                    volume:
                      value: 0.99045188
                      unit: gal
                    vesselCode: TIR14
                    hasDipTable: false
                    dipTableEndpoint: null
                    colour: White
                    physicalProductState: Wine
                    vesselType: Bin Group
                    productStatus: WHITE-WINE
                    productAnalysisEndpoint: /wrw/api/v/product-analysis/2407
                    productCompositionEndpoint: /wrw/api/v/product-composition/2407
                    productEndpoint: /wrw/api/v/products/2407
                    liveMetrics:
                      - id: 1
                        name: TSO2
                        unit: ppm
                        dataType: STRING
                        dataTypeValues: null
                        minVal: 0
                        maxVal: 200
                        measurements:
                          - value: "88"
                            rateOfChange: null
                            measurementDateText: 4 Years ago
                            measurementDate: 1371779280000
                            resultId: 43144
                            canDelete: false
                      - id: 20
                        name: Brix
                        unit: "\xB0"
                        dataType: STRING
                        dataTypeValues: null
                        minVal: null
                        maxVal: null
                        measurements:
                          - value: "24"
                            rateOfChange: null
                            measurementDateText: 4 Years ago
                            measurementDate: 1371779280000
                            resultId: 43145
                            canDelete: false
                      - id: 11
                        name: pH
                        unit: ""
                        dataType: STRING
                        dataTypeValues: null
                        minVal: 2.8
                        maxVal: 4.2
                        measurements:
                          - value: "3.27"
                            rateOfChange: null
                            measurementDateText: 4 Years ago
                            measurementDate: 1371779280000
                            resultId: 43143
                            canDelete: false
                      - id: 15
                        name: TA
                        unit: g/L
                        dataType: STRING
                        dataTypeValues: null
                        minVal: 0
                        maxVal: 11
                        measurements:
                          - value: "0.5"
                            rateOfChange: null
                            measurementDateText: 4 Years ago
                            measurementDate: 1371779280000
                            resultId: 43142
                            canDelete: false
                      - id: 7
                        name: FSO2
                        unit: ppm
                        dataType: STRING
                        dataTypeValues: null
                        minVal: 0
                        maxVal: 0
                        measurements:
                          - value: "43"
                            rateOfChange: null
                            measurementDateText: 9 Months ago
                            measurementDate: 147501870000
                            resultId: 523
                            canDelete: false
                    fieldValuePairs:
                      - field: Product State
                        value: Ready for Bottling
                        fieldId: 5
                        canEdit: true
                        canDeselect: false
                        editableFieldType: ProductState
                      - field: Owner
                        value: Bubb Lee Wines
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                      - field: Program
                        value: null
                        fieldId: null
                        canEdit: true
                        canDeselect: true
                        editableFieldType: Program
                      - field: Grading
                        value: null
                        fieldId: null
                        canEdit: true
                        canDeselect: false
                        editableFieldType: Grading
                      - field: Location
                        value: Dispatch
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                      - field: Varietal
                        value: Zinfandel
                        fieldId: 5
                        canEdit: true
                        canDeselect: true
                        editableFieldType: Varietal
                      - field: Sub AVA
                        value: Paso Robles
                        fieldId: 3
                        canEdit: true
                        canDeselect: true
                        editableFieldType: Region
                      - field: Last Topping
                        value: 11 Months ago
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                      - field: Last Addition
                        value: 9 Months ago
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                    canAccessNotes: true
                    notesCount: 0
                    notesEndpoint: /wrw/api/v/product-notes/2407
                  - id: 2413
                    batchCode: 10CHVHV02
                    vesselId: 122
                    description: null
                    descriptionCanEdit: true
                    volume:
                      value: 84.5
                      unit: gal
                    vesselCode: BX13
                    hasDipTable: false
                    dipTableEndpoint: null
                    colour: Blend
                    physicalProductState: Wine
                    vesselType: Barrel Group
                    productStatus: BLEND-WINE
                    productAnalysisEndpoint: /wrw/api/v/product-analysis/2413
                    productCompositionEndpoint: /wrw/api/v/product-composition/2413
                    productEndpoint: /wrw/api/v/products/2413
                    liveMetrics:
                      - id: 1
                        name: TSO2
                        unit: ppm
                        dataType: STRING
                        dataTypeValues: null
                        minVal: 0
                        maxVal: 200
                        measurements:
                          - value: "101.12"
                            rateOfChange: null
                            measurementDateText: 3 Years ago
                            measurementDate: 139753470000
                            resultId: 43388
                            canDelete: false
                      - id: 7
                        name: FSO2
                        unit: ppm
                        dataType: STRING
                        dataTypeValues: null
                        minVal: 0
                        maxVal: 0
                        measurements:
                          - value: "25"
                            rateOfChange: null
                            measurementDateText: 3 Years ago
                            measurementDate: 139753470000
                            resultId: 43389
                            canDelete: false
                    fieldValuePairs:
                      - field: Product State
                        value: Post ML Racking
                        fieldId: 7
                        canEdit: true
                        canDeselect: false
                        editableFieldType: ProductState
                      - field: Barrel count
                        value: "12"
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                      - field: Owner
                        value: JX2 Winery
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                      - field: Program
                        value: null
                        fieldId: null
                        canEdit: true
                        canDeselect: true
                        editableFieldType: Program
                      - field: Grading
                        value: null
                        fieldId: null
                        canEdit: true
                        canDeselect: false
                        editableFieldType: Grading
                      - field: Location
                        value: 12 @ Warehouse
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                      - field: Varietal
                        value: CHARDONNAY
                        fieldId: 2
                        canEdit: true
                        canDeselect: true
                        editableFieldType: Varietal
                      - field: Sub AVA
                        value: Russian River Valley
                        fieldId: null
                        canEdit: true
                        canDeselect: true
                        editableFieldType: Region
                      - field: Last Topping
                        value: 11 Months ago
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                      - field: Last Addition
                        value: 11 Months ago
                        fieldId: null
                        canEdit: false
                        canDeselect: false
                        editableFieldType: null
                    canAccessNotes: true
                    notesCount: 0
                    notesEndpoint: /wrw/api/v/product-notes/2413
  /wrw/api/v6/product-update:
    post:
      summary: Update a product
      operationId: Update a product
      description:
        To update a product, you need to provide the `productId` of the
        product. The propertyTypes that are available to be updated from this endpoint
        Grading, ProductState, Program, ProductCategory, Varietal, Region, Vintage,
        Description. You can query for the `propertyId` of the propertyType by using
        the /search endpoint.
      tags:
        - Bulk wine
      parameters: []
      requestBody:
        content:
          application/json:
            example:
              productId: 4339
              updateFields:
                - propertyValue: 2014 Napa Carneros Pinot Gris
                  propertyType: Description
                - propertyId: 5
                  propertyType: Grading
            schema:
              $ref: "#/components/schemas/ProductUpdateData"
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProductUpdateResponse"
              example:
                status: Success
                errorList: []
                product:
                  id: 4339
                  batchCode: 11CHBLRR-DEMO
                  vesselId: 3271
                  description: 2014 Napa Carneros Pinot Gris
                  descriptionCanEdit: true
                  volume:
                    value: 100
                    unit: gal
                  vesselCode: T0-30
                  hasDipTable: false
                  dipTableEndpoint: null
                  colour: White
                  beverageTypeProperties:
                    iconColour: "#D4C389"
                    statusCharacter: W
                    statusString: Wine (white)
                    textColour: "#FFFFFF"
                  physicalProductState: Wine
                  vesselType: Tank
                  productStatus: WHITE-W
                  productAnalysisEndpoint: /wrw/api/v/product-analysis/4339
                  productCompositionEndpoint: /wrw/api/v/product-composition/4339
                  productEndpoint: /wrw/api/v/products/4339
                  liveMetrics:
                    - id: 1
                      name: Alcohol
                      unit: "%"
                      dataType: STRING
                      dataTypeValues: null
                      minVal: null
                      maxVal: null
                      grouping: null
                      canAddValue: true
                      measurements:
                        - value: "14.5"
                          rateOfChange: null
                          measurementDateText: 3 Years ago
                          measurementDate: 143155200000
                          resultId: 73924
                          canDelete: false
                          measurementValidity: MEASURED
                    - id: 20
                      name: Brix
                      unit: "\xB0"
                      dataType: STRING
                      dataTypeValues: null
                      minVal: null
                      maxVal: null
                      grouping: null
                      canAddValue: true
                      measurements:
                        - value: "-1"
                          rateOfChange: null
                          measurementDateText: 7 Years ago
                          measurementDate: 1317122820000
                          resultId: 73925
                          canDelete: false
                          measurementValidity: MEASURED
                    - id: 7
                      name: FSO2
                      unit: ppm
                      dataType: STRING
                      dataTypeValues: null
                      minVal: 0
                      maxVal: 0
                      grouping: null
                      canAddValue: true
                      measurements:
                        - value: "18"
                          rateOfChange: null
                          measurementDateText: 2 Years ago
                          measurementDate: 1480390200000
                          resultId: 73928
                          canDelete: false
                          measurementValidity: MEASURED
                    - id: 14
                      name: Temp
                      unit: "\xB0"
                      dataType: STRING
                      dataTypeValues: null
                      minVal: null
                      maxVal: null
                      grouping: null
                      canAddValue: true
                      measurements:
                        - value: "8"
                          rateOfChange: null
                          measurementDateText: 7 Years ago
                          measurementDate: 1317122820000
                          resultId: 7392
                          canDelete: false
                          measurementValidity: MEASURED
                    - id: 1
                      name: TSO2
                      unit: ppm
                      dataType: STRING
                      dataTypeValues: null
                      minVal: 0
                      maxVal: 200
                      grouping: null
                      canAddValue: true
                      measurements:
                        - value: "85"
                          rateOfChange: null
                          measurementDateText: 3 Years ago
                          measurementDate: 1427407200000
                          resultId: 73927
                          canDelete: false
                          measurementValidity: MEASURED
                  fieldValuePairs:
                    - field: Product State
                      value: Ready for Bottling
                      fieldId: 5
                      canEdit: true
                      canDeselect: false
                      fieldGroup: null
                      editableFieldType: ProductState
                    - field: Owner
                      value: JX2 Winery
                      fieldId: null
                      canEdit: false
                      canDeselect: false
                      fieldGroup: null
                      editableFieldType: null
                    - field: Program
                      value: 2011 CH
                      fieldId: 13
                      canEdit: true
                      canDeselect: true
                      fieldGroup: null
                      editableFieldType: Program
                    - field: Grading
                      value: 2ND TIER
                      fieldId: 5
                      canEdit: true
                      canDeselect: false
                      fieldGroup: null
                      editableFieldType: Grading
                    - field: Location
                      value: Main Shed
                      fieldId: null
                      canEdit: false
                      canDeselect: false
                      fieldGroup: null
                      editableFieldType: null
                    - field: Variety
                      value: Pinot Gris
                      fieldId: 10
                      canEdit: true
                      canDeselect: true
                      fieldGroup: null
                      editableFieldType: Varietal
                    - field: Sub AVA
                      value: null
                      fieldId: null
                      canEdit: true
                      canDeselect: true
                      fieldGroup: null
                      editableFieldType: Region
                    - field: Last Topping
                      value: 2 Years ago
                      fieldId: null
                      canEdit: false
                      canDeselect: false
                      fieldGroup: null
                      editableFieldType: null
                    - field: Last Addition
                      value: 2 Years ago
                      fieldId: null
                      canEdit: false
                      canDeselect: false
                      fieldGroup: null
                      editableFieldType: null
                  canAccessNotes: true
                  notesCount: 1
                  notesEndpoint: /wrw/api/v/product-notes/4339
                  measureEndpoint: /wrw/api/v/measure
                  barrelGroupEndpoint: null
                  enableVolumeAdjustment: true
                  capacity: 10000
  /wrw/api/v6/transaction/search:
    get:
      summary: Transaction search
      operationId: Transaction search
      description:
        Returns a list of all operations. These are the same transactions
        that get generated from Work Detail Report in vintrace.
      tags:
        - Bulk wine
      parameters:
        - name: dateFrom
          in: query
          description:
            Format in YYYY-MM-DD format. Defaults to current date if not
            provided. Search for operations completed on or after this date.
          example: "2017-07-18"
          schema:
            type: string
        - name: dateTo
          in: query
          description:
            Format in YYYY-MM-DD format.  Defaults to current date if not
            provided. Search for operations completed on or before this date.
          example: "2017-08-08"
          schema:
            type: string
        - name: ownerName
          in: query
          description: String that matches the owner name.
          example: JX2 Winery
          schema:
            type: string
        - name: batchName
          in: query
          description: String that matches the batch name.
          example: 2017CH-Prog
          schema:
            type: string
        - name: wineryName
          in: query
          description: String that matches the winery name.
          example: JX2 Winery
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TransactionSummaryResponse"
              example:
                status: Success
                message: null
                transactionSummaries:
                  - formattedDate: 08/10/2018
                    date: 1533874920000
                    operationId: 4205
                    operationTypeId: 3
                    operationTypeName: Transfer
                    subOperationTypeId: 7805
                    subOperationTypeName: Transfer
                    workorder: null
                    jobNumber: null
                    treatment: null
                    assignedBy: null
                    completedBy: A, cristelle
                    winery: JX2 Winery
                    fromVessel:
                      name: T1-0
                      id: null
                      beforeDetails:
                        contentsId: 5401
                        batch: 2017CH-Prog
                        batchId: 4342
                        volume: 237
                        volumeUnit: gal
                        dip: "237"
                        state: null
                        rawTaxClass: Not over 14%
                        federalTaxClass: Not over 1%
                        stateTaxClass: Not over 14%
                        program: 2017 CH
                      afterDetails:
                        contentsId: 5401
                        batch: 2017CH-Prog
                        batchId: 4342
                        volume: 137
                        volumeUnit: gal
                        dip: "137"
                        state: null
                        rawTaxClass: Not over 14%
                        federalTaxClass: Not over 1%
                        stateTaxClass: Not over 14%
                        program: 2017 CH
                      volOut: 100
                      volOutUnit: gal
                    toVessel:
                      name: TJX-110
                      id: 439
                      beforeDetails:
                        contentsId: null
                        batch: null
                        batchId: null
                        volume: 0
                        volumeUnit: gal
                        dip: ""
                        state: null
                        rawTaxClass: null
                        federalTaxClass: null
                        stateTaxClass: null
                        program: null
                      afterDetails:
                        contentsId: 538
                        batch: 2017CH-Prog
                        batchId: 4342
                        volume: 100
                        volumeUnit: gal
                        dip: ""
                        state: null
                        rawTaxClass: Not over 14%
                        federalTaxClass: Not over 1%
                        stateTaxClass: Not over 14%
                        program: 2017 CH
                      volIn: 100
                      volInUnit: gal
                    lossDetails:
                      volume: 0
                      volumeUnit: gal
                      reason: null
                    additionOps: null
                    analysisOps: null
                    additionalDetails: null
                  - formattedDate: 08/10/2018
                    date: 1533874920000
                    operationId: 420
                    operationTypeId: 4
                    operationTypeName: Intake delivery
                    subOperationTypeId: 7807
                    subOperationTypeName: Intake
                    workorder: null
                    jobNumber: null
                    treatment: null
                    assignedBy: null
                    completedBy: BROWN, Mr Lewis
                    winery: JX2 Winery
                    fromVessel: null
                    toVessel: null
                    lossDetails: null
                    additionOps: null
                    analysisOps: null
                    additionalDetails:
                      varietal: CHARDONNAY
                      summary: Delivery intake
                      vintage: "2018"
                      subAva: Napa Valley
                      grower: JX2 Winery
                      bookingNo: BN81
                      owner: JX2 Winery
                      block: B2 - CH
                      netAmountUnit: T
                      netAmount: 2
                      dockets:
                        - 479 / 1
                  - formattedDate: 08/10/2018
                    date: 1533875280000
                    operationId: 4207
                    operationTypeId: 0
                    operationTypeName: Extraction
                    subOperationTypeId: 7809
                    subOperationTypeName: Transfer
                    workorder: null
                    jobNumber: null
                    treatment: null
                    assignedBy: null
                    completedBy: BROWN, Mr Lewis
                    winery: JX2 Winery
                    fromVessel: null
                    toVessel:
                      name: TJX-112
                      id: 4371
                      beforeDetails:
                        contentsId: null
                        batch: null
                        batchId: null
                        volume: 0
                        volumeUnit: gal
                        dip: ""
                        state: null
                        rawTaxClass: null
                        federalTaxClass: null
                        stateTaxClass: null
                        program: null
                      afterDetails:
                        contentsId: 542
                        batch: JX18CH130
                        batchId: 540
                        volume: 500
                        volumeUnit: gal
                        dip: ""
                        state: null
                        rawTaxClass: null
                        federalTaxClass: null
                        stateTaxClass: null
                        program: null
                      volIn: 500
                      volInUnit: gal
                    lossDetails:
                      volume: 0
                      volumeUnit: gal
                      reason: null
                    additionOps: null
                    analysisOps: null
                    additionalDetails:
                      press: Winery Press
                      crusher: WHOLE BUNCH
                      fractionType: Pressings
                      extraction:
                        parcels:
                          - docket: 479 / 1
                            bookingNo: BN81
                            growerId: 3
                            growerName: JX2 Winery
                            vineyardId: 1
                            vineyardName: JX2 Napa Vineyard
                            blockId: 2
                            blockName: B2 - CH
                            weight: 2
                            weightUnit: T
                      dockets:
                        - 479 / 1
                  - formattedDate: 08/10/2018
                    date: 153387530000
                    operationId: 4208
                    operationTypeId: 4
                    operationTypeName: Intake delivery
                    subOperationTypeId: 7811
                    subOperationTypeName: Intake
                    workorder: null
                    jobNumber: null
                    treatment: null
                    assignedBy: null
                    completedBy: ADMINISTRATOR, System
                    winery: JX2 Winery
                    fromVessel: null
                    toVessel: null
                    lossDetails: null
                    additionOps: null
                    analysisOps: null
                    additionalDetails:
                      varietal: CHARDONNAY
                      summary: Delivery intake
                      vintage: "2018"
                      subAva: Napa Valley
                      grower: GILCHRIST, Mr Jamie
                      bookingNo: BN84
                      owner: JX2 Winery
                      block: B1 - CH
                      netAmountUnit: T
                      netAmount: 2
                      dockets:
                        - 480 / 1
  /wrw/api/v6/intake-operations/search:
    get:
      summary: Fruit intake operation search
      operationId: Fruit intake operation search
      description: Returns a list of fruit intake operations matching search criteria.
      tags:
        - Harvest
      parameters:
        - name: modifiedSince
          in: query
          description:
            Filter on records that have been added/modified/reversed since
            this date - represented as milliseconds since 01/01/1970 00:00:00 GMT
          example: "157813337000"
          schema:
            type: string
        - name: operationId
          in: query
          description: Operation id to filter on for a specific fruit intake operation
          example: "492"
          schema:
            type: integer
        - name: processId
          in: query
          description: Delivery process id to filter all intakes for a specific delivery
          example: "3038"
          schema:
            type: integer
        - name: deliveryDocket
          in: query
          description:
            Docket/Weigh Tag number as generated by vintrace to identify
            a specific fruit delivery
          example: 407 / 1
          schema:
            type: string
        - name: intakeDocket
          in: query
          description:
            Docket/Weigh Tag number as generated by vintrace to identify
            a specific fruit intake
          example: 407 / 1
          schema:
            type: string
        - name: externalWeighTag
          in: query
          description:
            3rd party weigh tag as provided by external system to identify
            a specific fruit intake
          example: PB-TT-1231
          schema:
            type: string
        - name: externalSystemBlocksOnly
          in: query
          description: Only show fruit intakes for blocks that have an external id set
          example: "true"
          schema:
            type: boolean
        - name: externalBlockId
          in: query
          description: Only show fruit intakes for the block with matching externalBlockId
          example: "89712"
          schema:
            type: string
        - name: blockId
          in: query
          description:
            Only show fruit intakes for the block with matching vintrace
            internal identifier
          example: "1"
          schema:
            type: integer
        - name: blockName
          in: query
          description: Only show fruit intakes for the blocks with matching this name
          example: CH1
          schema:
            type: string
        - name: vineyardId
          in: query
          description:
            Only show fruit intakes for the vineyard with matching vintrace
            internal identifier
          example: "1"
          schema:
            type: integer
        - name: vineyardName
          in: query
          description: Only show fruit intakes for the vineyards matching this name
          example: Eastern Vineyard
          schema:
            type: string
        - name: wineryId
          in: query
          description:
            Only show fruit intakes for the winery with matching vintrace
            internal identifier
          example: "1"
          schema:
            type: integer
        - name: wineryName
          in: query
          description: Only show fruit intakes for the wineries matching this name
          example: JX2 Winery
          schema:
            type: string
        - name: growerType
          in: query
          description: Only show fruit intakes for the grower type matching
          example: External
          schema:
            type: string
        - name: growerId
          in: query
          description:
            Only show fruit intakes for the grower with matching vintrace
            internal identifier
          example: "3"
          schema:
            type: integer
        - name: growerName
          in: query
          description: Only show fruit intakes for the grower matching this name
          example: JX2 Winery
          schema:
            type: string
        - name: ownerId
          in: query
          description:
            Only show fruit intakes for the owner with matching vintrace
            internal identifier
          example: "2"
          schema:
            type: integer
        - name: ownerName
          in: query
          description: Only show fruit intakes for the owner matching this name
          example: JX2 Winery
          schema:
            type: string
        - name: vintage
          in: query
          description: Only show fruit intakes for this vintage in YYYY format
          example: "2020"
          schema:
            type: string
        - name: recordedAfter
          in: query
          description:
            Filter on records with an effective date after this date - represented
            as milliseconds since 01/01/1970 00:00:00 GMT
          example: "157813337000"
          schema:
            type: string
        - name: recordedBefore
          in: query
          description:
            Filter on records with an effective date before this date - represented
            as milliseconds since 01/01/1970 00:00:00 GMT
          example: "157813337000"
          schema:
            type: string
        - name: customAdapter
          in: query
          description:
            Special adapter reference to provide customized fields in additionalDetails
            map.  Use as directed by vintrace
          example: ZZZ
          schema:
            type: string
        - name: maxResults
          in: query
          description: Maximum results to fetch in a page of data
          example: "20"
          schema:
            type: integer
        - name: firstResult
          in: query
          description: Skip over this many results
          example: "40"
          schema:
            type: integer
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/IntakeOperationSearchResponse"
  /wrw/api/v6/sample-operations/search:
    get:
      summary: Maturity samples search
      operationId: Maturity samples search
      description: Returns a list of fruit intake operations matching search criteria.
      tags:
        - Harvest
      parameters:
        - name: modifiedSince
          in: query
          description:
            Filter on records that have been added/modified/reversed since
            this date - represented as milliseconds since 01/01/1970 00:00:00 GMT
          example: "157813337000"
          schema:
            type: string
        - name: operationId
          in: query
          description: Operation id to filter on for a specific fruit intake operation
          example: "492"
          schema:
            type: integer
        - name: processId
          in: query
          description: Delivery process id to filter all intakes for a specific delivery
          example: "3038"
          schema:
            type: integer
        - name: externalSystemBlocksOnly
          in: query
          description: Only show fruit intakes for blocks that have an external id set
          example: "true"
          schema:
            type: boolean
        - name: externalBlockId
          in: query
          description: Only show fruit intakes for the block with matching externalBlockId
          example: "89712"
          schema:
            type: string
        - name: blockId
          in: query
          description:
            Only show fruit intakes for the block with matching vintrace
            internal identifier
          example: "1"
          schema:
            type: integer
        - name: blockName
          in: query
          description: Only show fruit intakes for the blocks with matching this name
          example: CH1
          schema:
            type: string
        - name: vineyardId
          in: query
          description:
            Only show fruit intakes for the vineyard with matching vintrace
            internal identifier
          example: "1"
          schema:
            type: integer
        - name: vineyardName
          in: query
          description: Only show fruit intakes for the vineyards matching this name
          example: Eastern Vineyard
          schema:
            type: string
        - name: growerId
          in: query
          description:
            Only show fruit intakes for the grower with matching vintrace
            internal identifier
          example: "3"
          schema:
            type: integer
        - name: growerName
          in: query
          description: Only show fruit intakes for the grower matching this name
          example: JX2 Winery
          schema:
            type: string
        - name: ownerId
          in: query
          description:
            Only show fruit intakes for the owner with matching vintrace
            internal identifier
          example: "2"
          schema:
            type: integer
        - name: ownerName
          in: query
          description: Only show fruit intakes for the owner matching this name
          example: JX2 Winery
          schema:
            type: string
        - name: vintage
          in: query
          description: Only show fruit intakes for this vintage in YYYY format
          example: "2020"
          schema:
            type: string
        - name: recordedAfter
          in: query
          description:
            Filter on records with an effective date after this date - represented
            as milliseconds since 01/01/1970 00:00:00 GMT
          example: "157813337000"
          schema:
            type: string
        - name: recordedBefore
          in: query
          description:
            Filter on records with an effective date before this date - represented
            as milliseconds since 01/01/1970 00:00:00 GMT
          example: "157813337000"
          schema:
            type: string
        - name: customAdapter
          in: query
          description:
            Special adapter reference to provide customized fields in additionalDetails
            map.  Use as directed by vintrace
          example: ZZZ
          schema:
            type: string
        - name: maxResults
          in: query
          description: Maximum results to fetch in a page of data
          example: "20"
          schema:
            type: integer
        - name: firstResult
          in: query
          description: Skip over this many results
          example: "40"
          schema:
            type: integer
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SampleOperationSearchResponse"
              example:
                status: OK
                message: null
                resultCount: null
                resultLimit: 2
                nextResult: 2
                samples:
                  - operationId: 1
                    processId: 9
                    reversed: false
                    modified: 138274092000
                    block:
                      id: 1
                      name: Block 1
                      summary: null
                      type: Block
                      shortCode: null
                      externalCode: "7177"
                    vineyard:
                      id: 1
                      name: V1
                      summary: null
                      type: Vineyard
                      shortCode: null
                      externalCode: null
                    grower:
                      id: 2
                      name: CB Wines
                      summary: null
                      type: Grower
                      shortCode: null
                      externalCode: null
                    region:
                      id: null
                      name: Central Coast
                      summary: null
                      type: Region
                      shortCode: CEN
                      externalCode: null
                    variety:
                      id: null
                      name: Chardonnay
                      summary: null
                      type: Varietal
                      shortCode: CH
                      externalCode: null
                    owner:
                      id: 1
                      name: CB Wines
                      summary: null
                      type: Owner
                      shortCode: null
                      externalCode: null
                    vintage: 2021
                    recordedDate: 135941220000
                    reference: null
                    row: null
                    vine: null
                    grading: null
                    sampleArea: null
                    sampleType: null
                    laboratory:
                      id: 3
                      name: CB Wines
                      summary: null
                      type: Laboratory
                      shortCode: null
                      externalCode: null
                    analysisTemplate:
                      id: 15
                      name: Sampling
                      summary: null
                      type: AnalysisTemplate
                    metrics:
                      - metricName: Brix
                        metricShortCode: Bx
                        value: "2"
                        unit: deg
                        recorded: 135941220000
                        metricId: 3
                      - metricName: Glucose/Fructose
                        metricShortCode: G/F
                        value: "4"
                        unit: g/L
                        recorded: 135941220000
                        metricId: 7
                      - metricName: pH
                        metricShortCode: pH
                        value: ""
                        unit: pH
                        recorded: 135941220000
                        metricId: 4
                      - metricName: Temp
                        metricShortCode: Temp
                        value: "9"
                        unit: deg
                        recorded: 135941220000
                        metricId: 2
                    additionalDetails: {}
                  - operationId: 10
                    processId: 2
                    reversed: false
                    modified: 1393212000
                    block:
                      id: 1
                      name: Block 1
                      summary: null
                      type: Block
                      shortCode: null
                      externalCode: "7177"
                    vineyard:
                      id: 1
                      name: V1
                      summary: null
                      type: Vineyard
                      shortCode: null
                      externalCode: null
                    grower:
                      id: 2
                      name: CB Wines
                      summary: null
                      type: Grower
                      shortCode: null
                      externalCode: null
                    region:
                      id: null
                      name: Central Coast
                      summary: null
                      type: Region
                      shortCode: CEN
                      externalCode: null
                    variety:
                      id: null
                      name: Chardonnay
                      summary: null
                      type: Varietal
                      shortCode: CH
                      externalCode: null
                    owner:
                      id: 1
                      name: CB Wines
                      summary: null
                      type: Owner
                      shortCode: null
                      externalCode: null
                    vintage: 2021
                    recordedDate: 130800000
                    reference: null
                    row: null
                    vine: null
                    grading: null
                    sampleArea: null
                    sampleType: Bunch
                    laboratory:
                      id: 3
                      name: CB Wines
                      summary: null
                      type: Laboratory
                      shortCode: null
                      externalCode: null
                    analysisTemplate:
                      id: 55
                      name: Sample 1
                      summary: null
                      type: AnalysisTemplate
                    metrics:
                      - metricName: Temp
                        metricShortCode: Temp
                        value: "25"
                        unit: deg
                        recorded: 130800000
                        metricId: 2
                    additionalDetails: {}
                    externalWeighTag: null
  /wrw/api/v6/block-assessments/create:
    post:
      summary: Create a block assessment
      operationId: Create a block assessment
      description: Create a block assessment for a specific block and vintage
      tags:
        - Harvest
      parameters: []
      requestBody:
        content:
          application/json:
            example:
              block:
                externalCode: "7177"
              vintage: 2021
              producingForecast:
                value: 15
                unit: t
              availableForecast:
                value: 9
                unit: t
              harvestMethod: HAND
              expectedHarvestDate: 144990021000
              earliestHarvestDate: 14444421000
              sprayReportReceived: 143780421000
              cropInspected: 143780421000
              comments: Start of powdery mildew in row 5
              locationDetails:
                latitude: -37.8042445
                longitude: 144.9818109
                formattedAddress: 5 Little Oxford St, Collingwood, VIC, 305
            schema:
              $ref: "#/components/schemas/FullBlockAssessmentRequest"
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                    example: OK
                  message:
                    type: string
                    example: Block assessment created
                  exceptionList:
                    type: string
                    format: nullable
                  assessment:
                    $ref: "#/components/schemas/FullBlockAssessment"
              example:
                status: OK
                message: Block assessment created
                exceptionList: null
                assessment:
                  id: 1
                  block:
                    id: 1
                    name: Block 1
                    type: Block
                    externalCode: "7177"
                  vintage: 2021
                  assessmentDate: 13972019811
                  assessedBy:
                    id: 1
                    name: ADMINISTRATOR,  System
                    summary: null
                    type: Person
                  harvestMethod: HAND
                  producingForecast:
                    value: 15
                    unit: t
                  availableForecast:
                    value: 9
                    unit: t
                  expectedHarvestDate: 144990021000
                  earliestHarvestDate: 14444421000
                  intendedUse: null
                  grading: null
                  expectedProgram: null
                  contract: null
                  sprayReportReceived: 143780421000
                  cropInspected: 143780421000
                  comments: Start of powdery mildew in row 5
                  locationDetails:
                    latitude: -37.8042445
                    longitude: 144.9818109
                    formattedAddress: 5 Little Oxford St, Collingwood, VIC, 305
  /wrw/api/v6/mrp/stock/{id}:
    get:
      summary: View a single stock item
      operationId: View a single stock item
      description: ""
      tags:
        - Stock
      parameters:
        - name: id
          in: path
          description: Stock item id
          required: true
          example: "123"
          schema:
            type: number
        - name: expand
          in: query
          description:
            Comma separated list of the details that you want to expand.
            Possible values are `fields`, `distributions`, `notes`, `historyItems`,
            `rawComponents`, `bulkInfo`
          example: distributions,notes
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockItem"
  /wrw/api/v6/mrp/stock/{id}/fields:
    get:
      summary: View list of details fields
      operationId: View list of details fields
      description: Returns a list of detail fields for a stock item.
      tags:
        - Stock
      parameters:
        - name: id
          in: path
          description: Stock item id
          required: true
          example: "123"
          schema:
            type: number
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockFieldsDetail"
              example:
                endpoint: /mob/api/v/mrp/stock/123/fields
                fields:
                  - field: Unit
                    value: Single x1
                    canEdit: false
                    canDeselect: false
                  - field: Owner
                    value: JX2 Winery
                    canEdit: false
                    canDeselect: false
                  - field: Stock category
                    value: Packaged wine
                    canEdit: false
                    canDeselect: false
                  - field: Stock type
                    value: Single x1
                    canEdit: false
                    canDeselect: false
                  - field: Batch tracked
                    value: "No"
                    canEdit: false
                    canDeselect: false
                  - field: Stock tracked
                    value: "Yes"
                    canEdit: false
                    canDeselect: false
  /wrw/api/v6/mrp/stock/{id}/distributions:
    get:
      summary: View distributions
      operationId: View distributions
      description: Returns a list of distributions for a stock item.
      tags:
        - Stock
      parameters:
        - name: id
          in: path
          description: Stock item id
          required: true
          example: "123"
          schema:
            type: number
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockDistributionDetail"
              example:
                endpoint: /mob/api/v/stock/123/distributions/
                distributions:
                  - id: 1234
                    item:
                      id: 899
                      code: 20YAVCHA01/1
                      description: 20YAVCHA01/1
                      endpoint: /mob/api/v/mrp/stock/899
                    winery:
                      id: 1
                      name: JX2 Winemakers
                    building:
                      id: 1
                      name: Cellar door
                    storageArea:
                      id: 2
                      name: Cellar door storage 1
                    bay: "1"
                    lot:
                      id: 92
                      name: LOT_12357
                    unit:
                      description: Single x1
                      abbreviation: x1
                      key: BOTTLE
                      precision: 0
                    quantity:
                      onHand: 72
                      committed: 22
                      ordered: 8
                      available: 59
                    taxState:
                      id: 12
                      name: Tax paid
                      code: Txt
                      defaultForInventory: false
                    virtual: false
  /wrw/api/v6/mrp/stock/{id}/history-items:
    get:
      summary: View History items
      operationId: View History items
      description: A paginated list of history items for a stock item.
      tags:
        - Stock
      parameters:
        - name: id
          in: path
          description: Stock item id
          required: true
          example: "123"
          schema:
            type: number
        - name: firstResult
          in: query
          description: ""
          required: true
          example: "0"
          schema:
            type: number
        - name: maxResult
          in: query
          description: ""
          required: true
          example: "20"
          schema:
            type: number
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockHistoryItemsDetail"
              example:
                endpoint: /mob/api/v/mrp/stock/123/history
                firstResult: 0
                maxResult: 20
                totalResultCount: 1
                historyItems:
                  - operationId: 123
                    operatorName: John Johns
                    quantity: -12
                    balance: 512
                    date: 1482348234
                    workorder:
                      id: 12
                      code: TWL1000
                    actionType: Adjustment
                    batch: DAP_LOT_2015032
                    item:
                      id: 123
                      code: 20YAVCHA01/1
                      description: 20YAVCHA01/1
                      endpoint: /mob/api/v/mrp/stock/123
                    attachments:
                      - id: 322
                        fileName: PIC_77.PNG
                        contentType: image/jpeg
                        fileContext: PHOTO
                        viewEndpoint: /mob/api/v/file/view/322
                        thumbEndpoint: /mob/api/v/file/thumb/322
                    canReverse: true
  /wrw/api/v6/mrp/stock/{id}/raw-components:
    get:
      summary: View raw components
      operationId: View raw components
      description: Returns a paginated list of raw components for a stock item.
      tags:
        - Stock
      parameters:
        - name: id
          in: path
          description: ""
          required: true
          example: "123"
          schema:
            type: number
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockRawComponentsDetail"
              example:
                endpoint: /mob/api/v/mrp/stock/123/raw
                rawComponents:
                  - endpoint: /mob/api/v/mrp/stock/123/history-items
                    id: 253
                    code: 20YAVCHA01/BLK
                    description: 20FC1
                    unit:
                      description: Litres
                      abbreviation: L
                      key: LITRES
                      precision: 0
                    type:
                      id: 4
                      name: Wine Batch
                      code: WINE BATCH
                      form:
                        group: BULK
                        variant: "null"
                    bomQuantity: 0.75
  /wrw/api/v6/mrp/stock/{id}/notes:
    get:
      summary: View all notes
      operationId: View all notes
      description: A paginated list of notes for a stock item.
      tags:
        - Stock
      parameters:
        - $ref: "#/components/parameters/Id"
        - name: firstResult
          in: query
          description: ""
          example: "0"
          schema:
            type: number
        - name: maxResult
          in: query
          description: ""
          example: "20"
          schema:
            type: number
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockNotesDetail"
              example:
                endpoint: /wrw/api/v/mrp/stock/81/notes/
                firstResult: 0
                maxResult: 20
                totalResultCount: 1
                notes:
                  - id: 12
                    date: 15972798000
                    dateText: 17/08/20
                    who: JOHNS, John
                    detail: Note text
                    inactive: false
                    item:
                      id: 123
                      name: 20YAVCHA01/1
                      type: StockItem
                    attachments:
                      - id: 322
                        fileName: PIC_77.PNG
                        contentType: image/jpeg
                        fileContext: PHOTO
                        viewEndpoint: /mob/api/v/file/view/322
                        thumbEndpoint: /mob/api/v/file/thumb/322
    post:
      summary: Add a Note
      operationId: Add a Note
      description: Add a note to a stock item.
      tags:
        - Stock
      parameters:
        - $ref: "#/components/parameters/Id"
      requestBody:
        content:
          application/json:
            example:
              detail: Note text
              attachments:
                - id: 123
                  fileName: Document 1.jpg
                  fileContext: PHOTO
            schema:
              $ref: "#/components/schemas/StockNote"
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  note:
                    $ref: "#/components/schemas/StockNote"
              example:
                status: Success
                message: Note was successfully added
                note:
                  id: 12
                  date: 15972798000
                  dateText: 17/08/20
                  who: JOHNS, John
                  detail: Note text
                  inactive: false
                  item:
                    id: 123
                    name: 20YAVCHA01/1
                    type: StockItem
                  attachments:
                    - id: 322
                      fileName: PIC_77.PNG
                      contentType: image/jpeg
                      fileContext: PHOTO
                      viewEndpoint: /mob/api/v/file/view/322
                      thumbEndpoint: /mob/api/v/file/thumb/322
        "400":
          description: Bad Request
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
              example:
                status: Error
                message: A note must contain a detail text
  /wrw/api/v6/mrp/stock/{id}/notes/{noteId}:
    get:
      summary: View a single Note
      operationId: View a single Note
      description: View a note for a stock item.
      tags:
        - Stock
      parameters:
        - name: id
          in: path
          description: id of the note
          required: true
          example: "12"
          schema:
            type: number
        - name: noteId
          in: path
          description: id of the note
          required: true
          example: "12"
          schema:
            type: number
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockNote"
              example:
                id: 12
                date: 15972798000
                dateText: 17/08/20
                who: JOHNS, John
                detail: Note text
                inactive: false
                item:
                  id: 123
                  name: 20YAVCHA01/1
                  type: StockItem
                attachments:
                  - id: 322
                    fileName: PIC_77.PNG
                    contentType: image/jpeg
                    fileContext: PHOTO
                    viewEndpoint: /mob/api/v/file/view/322
                    thumbEndpoint: /mob/api/v/file/thumb/322
  /wrw/api/v6/mrp/stock/{id}/notes/{noteId}/updates:
    post:
      summary: Update a Note
      operationId: Update a Note
      description: Update a note attached to a stock item
      tags:
        - Stock
      parameters:
        - name: id
          in: path
          description: id of the note
          required: true
          example: "12"
          schema:
            type: number
        - name: noteId
          in: path
          description: id of the note
          required: true
          example: "12"
          schema:
            type: number
      requestBody:
        content:
          application/json:
            example:
              detail: Note text
              attachments:
                - id: 123
                  fileName: Document 1.jpg
                  fileContext: PHOTO
            schema:
              $ref: "#/components/schemas/StockNote"
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
                  note:
                    $ref: "#/components/schemas/StockNote"
              example:
                status: Success
                message: Note was successfully updated
                note:
                  id: 12
                  date: 15972798000
                  dateText: 17/08/20
                  who: JOHNS, John
                  detail: Note text
                  inactive: false
                  item:
                    id: 123
                    name: 20YAVCHA01/1
                    type: StockItem
                  attachments:
                    - id: 322
                      fileName: PIC_77.PNG
                      contentType: image/jpeg
                      fileContext: PHOTO
                      viewEndpoint: /mob/api/v/file/view/322
                      thumbEndpoint: /mob/api/v/file/thumb/322
        "400":
          description: Bad Request
          headers: {}
          content:
            application/json:
              schema:
                type: object
                properties:
                  status:
                    type: string
                  message:
                    type: string
              example:
                status: Error
                message: A note must contain a detail text
  /wrw/api/v6/mrp/stock/{id}/bulk-info:
    get:
      summary: View bulk product details
      operationId: View bulk product details
      description:
        Returns details like metrics, compositions, allergens and additives
        (from last bottling) about the bulk product linked to a stock item.
      tags:
        - Stock
      parameters:
        - name: id
          in: path
          description: ""
          required: true
          example: "123"
          schema:
            type: number
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockBulkInfoDetail"
              example:
                endpoint: /mob/api/v/mrp/stock/123/bulk
                message: These details are from the latest bottling on 14/0/2021
                metrics:
                  - metricName: Brix
                    value: "0"
                    unit: deg
                    recorded: 150391499000
                    metricId: 3
                compositionDetails:
                  - compositionView: Vintage
                    elementData:
                      - key: "2019"
                        value: 100
                        valueStr: 100%
                        volume: "0"
                        unit: L
                  - compositionView: Variety
                    elementData:
                      - key: SVB
                        value: 100
                        valueStr: 100%
                        volume: "0"
                        unit: L
                additionsSummary:
                  allergens:
                    - Sulphur Dioxide
                  additions:
                    - additive:
                        id: 1
                        name: Bentonite
                        type: Additive
                      rate:
                        amount: "183.9079"
                        rate: g/KL
  /wrw/api/v6/inventory:
    get:
      summary: List available stock
      operationId: List available stock
      description: Returns a list of all stock items.
      tags:
        - Stock
      parameters:
        - name: max
          in: query
          description: The starting index of results.
          example: "30"
          schema:
            type: string
        - name: first
          in: query
          description: The starting index of results.
          example: "10"
          schema:
            type: string
        - name: date
          in: query
          description:
            The date to report stock up to, excluding stock changes done
            after it in YYYY-MM-DD format.
          example: "2017-04-01"
          schema:
            type: string
        - name: stockType
          in: query
          description:
            String that matches the Stock Type of the Stock Items. Possible
            values are Additive, Closure, Glass/Container, Other, Wine batch, Single
            x1, Case x3, Case x, Case x12, Case x2, Pallet (full), Dry goods.
          example: Single x1
          schema:
            type: string
        - name: ownerName
          in: query
          description: String that matches the Owner's name on the Stock Items.
          example: ABC Wine Company
          schema:
            type: string
        - name: showEquivalentType
          in: query
          description:
            Displays the ratio of what the inventory item's volume/qty is
            equivalent to the given showEquivalentType Possible values 750ml bottle,
            375ml bottle, 9L case (dozen), 4.5L case, Litres.
          example: 750ml bottle
          schema:
            type: string
        - name: breakoutCosting
          in: query
          description:
            When true, this retrieves each costing's category of costs and
            details each types cost. User needs "Can view costs" permission to view
            the costs.
          example: "true"
          schema:
            type: boolean
        - name: disableCommitHeaders
          in: query
          description: When true, does not show an item's committed stock amount details.
          example: "true"
          schema:
            type: boolean
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/InventorySummaryResponse"
              example:
                status: Success
                message: null
                inventorySummaries:
                  - date: 15312232984
                    dateAsText: 07/11/2018
                    winery: JX2 Winery
                    quantity: 787
                    committed: 5
                    onOrder: 10
                    available: 732
                    unit: Case x12
                    type: Case x12
                    code: 08MARW-SH-CS
                    name: 08MARW-SH-CS
                    description: 2008 Medlock Ames Red - SHINER Case
                    lotBatch: null
                    lotExpiryDate: null
                    lotExpiryDateAsText: null
                    lotManufactureDate: null
                    lotManufactureDateAsText: null
                    reorderCode: null
                    location: Warehouse / Warehouse
                    stockCategory: Bottled Wine
                    grading:
                      id: 1
                      value: A Grade
                      scaleName: Quality
                      scaleId: 1
                    price: null
                    priceAsText: null
                    taxClass: 1 to 21%
                    federalTaxClass: 1 to 21%
                    stateTaxClass: 14 to 21%
                    taxState: Bonded
                    bond: JX2 Winery - 1234
                    sizeRatio: null
                    finalProducts: ""
                    vintage: null
                    variety: null
                    region: null
                    program: null
                    productState: Filtered
                    beverageType: Red
                    baseMaterial: Grape
                    owner: JX2 Winery
                    assetAccount: Bottled Wine - Asset
                    cogsAccount: Bottled Cost of Goods
                    unitCost: 0.1
                    unitCostAsText: $0.10
                    totalCost: 75.22
                    totalCostAsText: $75.22
                    fruitCost: null
                    fruitCostAsText: null
                    bulkCost: null
                    bulkCostAsText: null
                    additiveCost: null
                    additiveCostAsText: null
                    operationCost: null
                    operationCostAsText: null
                    packagingCost: null
                    packagingCostAsText: null
                    storageCost: null
                    storageCostAsText: null
                    overheadCost: null
                    overheadCostAsText: null
                    freightCost: null
                    freightCostAsText: null
                    otherCost: null
                    otherCostAsText: null
                    sku: null
                    stockItemDetailsEndpoint: /wrw/api/v/stock/lookup?id=423
                  - date: 15312232984
                    dateAsText: 07/11/2018
                    winery: JX2 Winery
                    quantity: 1.84
                    committed: 0.22
                    onOrder: 0
                    available: 1.2
                    unit: Kilograms
                    type: Additive
                    code: ADD/KMBS
                    name: KMBS
                    description: KMBS
                    lotBatch: lot2
                    lotExpiryDate: null
                    lotExpiryDateAsText: ""
                    lotManufactureDate: null
                    lotManufactureDateAsText: ""
                    reorderCode: null
                    location: Warehouse / Dry Goods
                    stockCategory: Additive
                    price: 0.1
                    priceAsText: $0.10
                    taxClass: ""
                    federalTaxClass: ""
                    stateTaxClass: ""
                    taxState: ""
                    bond: ""
                    sizeRatio: null
                    finalProducts: ""
                    vintage: null
                    variety: null
                    region: null
                    program: null
                    productState: null
                    beverageType: null
                    baseMaterial: null
                    owner: JX2 Winery
                    assetAccount: Asset
                    cogsAccount: Cost Of Goods
                    unitCost: 0.1
                    unitCostAsText: $0.10
                    totalCost: 0.18
                    totalCostAsText: $0.18
                    fruitCost: null
                    fruitCostAsText: null
                    bulkCost: null
                    bulkCostAsText: null
                    additiveCost: null
                    additiveCostAsText: null
                    operationCost: null
                    operationCostAsText: null
                    packagingCost: null
                    packagingCostAsText: null
                    storageCost: null
                    storageCostAsText: null
                    overheadCost: null
                    overheadCostAsText: null
                    freightCost: null
                    freightCostAsText: null
                    otherCost: null
                    otherCostAsText: null
                    sku: null
                    stockItemDetailsEndpoint: /wrw/api/v/stock/lookup?id=414
  /wrw/api/v6/search/list:
    get:
      summary: List results for item type
      operationId: List results for item type
      description: ""
      tags:
        - Search
      parameters:
        - name: type
          in: query
          description:
            Supported types are grading, owner, program, varietal, vintage,
            productState, region, block, grower, productCategory, batch, product, tank,
            vessel, containerEquipment, barrel, bin
          required: true
          example: grading
          schema:
            type: string
        - name: first
          in: query
          description: The starting index of results.
          example: "10"
          schema:
            type: string
        - name: startsWith
          in: query
          description:
            String that matches the search result against the start of the
            name.
          example: RESERVE
          schema:
            type: string
        - name: exactMatch
          in: query
          description:
            If false - we do a 'like' query where 'T-50' would return 'T-50',
            'T-500'. When true it only returns 'T-50'
          example: "false"
          schema:
            type: boolean
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/SimpleSearchResponse"
              example:
                firstResult: 0
                maxResult: 100
                totalResultCount: 11
                type: grading
                nextURLPath: null
                prevURLPath: null
                simpleSearchResults:
                  - id: 1
                    name: A
                    type: Grading
                    summary: Premium Juice/Wine
                    additionalDetails: {}
                  - id: 2
                    name: B
                    type: Grading
                    summary: Good Wine/Juice
                    additionalDetails: {}
                  - id: 3
                    name: C
                    type: Grading
                    summary: Substandar Wine/Juice should sell as bull
                    additionalDetails: {}
                  - id: 4
                    name: RESERVE
                    type: Grading
                    summary: ""
                    additionalDetails: {}
                  - id: 5
                    name: 2ND TIER
                    type: Grading
                    summary: ""
                    additionalDetails: {}
                  - id: null
                    name: SALE
                    type: Grading
                    summary: ""
                    additionalDetails: {}
                  - id: 7
                    name: BDX
                    type: Grading
                    summary: ""
                    additionalDetails: {}
                  - id: 8
                    name: BGY
                    type: Grading
                    summary: ""
                    additionalDetails: {}
                  - id: 9
                    name: <22
                    type: Grading
                    summary: Less Than 22 Brix
                    additionalDetails: {}
                  - id: 10
                    name: 22-24
                    type: Grading
                    summary: 22 to 24 Brix
                    additionalDetails: {}
                  - id: 11
                    name: ">24"
                    type: Grading
                    summary: Greater than 24 Brix
                    additionalDetails: {}
  /wrw/api/v6/stock/lookup:
    get:
      summary: Get stock item by code or id
      operationId: Get stock item by code or id
      description: Returns a single stock item by code or id.
      tags:
        - Legacy
      parameters:
        - name: code
          in: query
          description:
            String that matches the code of the Stock Item matching against
            the start of the name.
          example: 10NVCHDEMO
          schema:
            type: string
        - name: id
          in: query
          description: The ID of the Stock Item.
          example: "37"
          schema:
            type: string
      responses:
        "200":
          description: OK
          headers: {}
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/StockItemDetails"
              example:
                id: 37
                code: 10NVCHDEMO
                description: 2010 JX Napa Chard
                itemType: Single x1
                unit:
                  description: Single x1
                  abbreviation: x1
                owner:
                  id: 2
                  name: JX2 Winery
                  summary: JX2 Winery
                  type: Owner
                assetAccount: Bottled Assets
                cogsAccount: Bottled Cost of Goods
                category: null
                product: null
                federalTaxClass: Not over 1%
                stateTaxClass: 14 to 21%
                rawTaxClass: 14 to 1%
                sku: null
                labelAlcohol: 15
                lotTracked: false
                levelTracked: true
                subComponents:
                  - quantity: 1
                    unit: units
                    item:
                      id: 5
                      itemType: Glass/Container
                      code: BOT/5314/AG
                      description: 5314 Antique Green
                  - quantity: 0.75
                    unit: L
                    item:
                      id: 19
                      itemType: Wine Batch
                      code: JX-10NVCH01/BLK
                      description: 2010 JX Napa Chard
                      vintage: "2010"
                      designatedVariety: CHARDONNAY
                      designatedRegion: Napa Valley
                      programName: null
                      grading: A
                  - quantity: 1
                    unit: units
                    item:
                      id: 9
                      itemType: Closure
                      code: CRK-SP
                      description: CRK-Standard Sparkling
                rawComponents:
                  - quantity: 0.75
                    unit: L
                    item:
                      id: 19
                      itemType: Wine Batch
                      code: JX-10NVCH01/BLK
                      description: 2010 JX Napa Chard
                      vintage: "2010"
                      designatedVariety: CHARDONNAY
                      designatedRegion: Napa Valley
                      programName: null
                      grading: A
                  - quantity: 1
                    unit: units
                    item:
                      id: 5
                      itemType: Glass/Container
                      code: BOT/5314/AG
                      description: 5314 Antique Green
                  - quantity: 1
                    unit: units
                    item:
                      id: 9
                      itemType: Closure
                      code: CRK-SP
                      description: CRK-Standard Sparkling
                distributions:
                  - id: 301
                    itemCode: 10NVCHDEMO
                    qty: 10
                    available: 10
                    areaName: SA2 - Main Shed
                    areaId: 99
                    buildingName: Main Shed
                    wineryName: JX2 Winery
                    bay: null
                    lotCode: null
                    bondName: JX2 Winery
                    bondNumber: "1234"
                    taxState: Bonded
                  - id: 239
                    itemCode: 10NVCHDEMO
                    qty: 1150
                    available: 870
                    areaName: Warehouse
                    areaId: 7
                    buildingName: Warehouse
                    wineryName: JX2 Winery
                    bay: null
                    lotCode: null
                    bondName: JX2 Winery
                    bondNumber: "1234"
                    taxState: Bonded
components:
  schemas:
    GetBusinessUnitTransactionsResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/TransactionDetails"
    TransactionDetails:
      description: The transaction details for a cost movement
      type: object
      properties:
        activityDate:
          description: The effective date of the activity related to this transaction
          type: integer
          format: Int64
        postedDate:
          description:
            The date that the cost movement related to the transaction
            was posted
          type: integer
          format: Int64
        resultOfCorrection:
          description:
            flag to indicate if this cost movement was triggered from the
            original activity or a subsequent correction
          type: boolean
        activityId:
          description:
            "The id of the activity that initiated the cost movement (format:
            XX:nnnnnnnn)"
          type: string
        postedId:
          description: The unique internal event id of this cost movement
          type: integer
        activityType:
          description: The type of activity that triggered this cost movement
          type: string
        activitySummary:
          description: A summary of the activity that triggered this transaction
          type: string
        primaryCostTarget:
          description:
            Human readable code/name of the main batch/item that this cost
            acted on
          type: string
        secondaryCostTarget:
          description:
            Human readable code/name of the secondary batch/item that this
            cost acted on
          type: string
        primaryWinery:
          description: The main winery involved in the transaction
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
        secondaryWinery:
          description: The secondary winery involved in the transaction
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
        location:
          description: The winery building within the primary winery
          type: string
        vessel:
          description: The vessel related to this cost movement
          type: string
        wineBatch:
          description: The wine batch involved in the movement
          type: string
        productCategory:
          description: The designated product category for this batch
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        program:
          description: The assigned program for this batch
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        volumeDelta:
          description: The change in volume related to this transaction
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        costDelta:
          description: The cost (in dollars) for this cost movement
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CostBreakdown
        otherWinery:
          description: The other winery involved in the transaction
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
        notes:
          description: Summary of the transaction
          type: string
        customer:
          description:
            The customer who purchased bulk wine for this transaction (if
            applicable for transaction type)
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        vendor:
          description:
            The vendor bulk wine was purchased from for this transaction
            (if applicable for transaction type)
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        lossReason:
          description: The optional loss reason associated with a write-off transaction
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        allocationDescription:
          description:
            A summary of the allocation changes related to the winemaking
            transaction
          type: string
        impactedAllocations:
          description: The allocations impacted by this transaction
          type: object
          properties:
            productName:
              description: The name of the allocated product
              type: string
            vintage:
              description: The vintage for the allocated product
              type: string
            itemCode:
              description: The external code for this vintage + product combination
              type: string
            name:
              description: The human readable name for this vintage + product combination
              type: string
        references:
          description:
            Different references for this transaction depending on the
            transaction type
          type: object
          properties:
            bulkSalesOrder:
              description: The bulk sales order number if applicable
              type: string
            bulkPurchaseOrder:
              description: The bulk purchase order number if applicable
              type: string
            externalWorkOrder:
              description:
                Future use; To capture the external work order number for
                bottling jobs in ERP system
              type: string
            workOrder:
              description:
                The vintrace work order number for the job relating to
                this question
              type: string
            jobNUmber:
              description: The position of this job on the vintrace work order
              type: string
            billOfLadingNumber:
              description: The Bill Of Lading number for this transaction if applicable
              type: string
    VineyardIdentifiableEntity:
      description:
        An entity created for looking up vineyard in vintrace. Name and
        grower must be provided.
      required:
        - name
        - grower
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
      properties:
        grower:
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
    BlockResponse:
      description: Response object for returning the block data
      properties:
        data:
          $ref: "#/components/schemas/Block"
    Block:
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
      type: object
      required:
        - extId
        - name
        - vineyard
        - variety
      properties:
        name:
          description: The name of this block.
          type: string
        estate:
          description: TBD
          type: boolean
        vineyard:
          description: The vineyard where the block is.
          allOf:
            - $ref: "#/components/schemas/VineyardIdentifiableEntity"
        variety:
          description: The varietal of this block
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        countyCode:
          description: The county code
          type: string
        inactive:
          description: The inactive status of this block
          type: boolean
        noOfVines:
          description: The number of vines
          type: integer
        area:
          description: The size of this block.
          type: number
          format: double
        rootStock:
          description: The root stock of this block.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        clone:
          description: The clone of this block.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        vineSpacing:
          description: The space of vine.
          type: string
        rowSpacing:
          description: The space of row.
          type: string
        soilProfile:
          description: The profile of the soil.
          type: string
        trellis:
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        aspect:
          $ref: "#/components/schemas/Aspect"
        plantedTime:
          description:
            The planted time that is represented in milliseconds of epoch
            time.
          type: integer
          format: int64
        pruningType:
          $ref: "#/components/schemas/PruningType"
        averageGradient:
          description: Average gradient
          type: number
          format: double
        irrigationType:
          description: Irrigation type
          type: string
        frostProtection:
          description: Frost protection
          type: string
        organic:
          description: Flag that indicates if this block is organic
          type: boolean
        organicCertifiedTime:
          description:
            The time when the organic is certified. This is represented
            in milliseconds of epoch time.
          type: integer
          format: int64
        township:
          description: Township
          type: string
        range:
          description: Range
          type: string
        section:
          description: Section
          type: string
        emitterRate:
          description: The rate of emitter
          type: number
          format: double
        emitterSize:
          description: The size of emitter.
          type: string
        siteId:
          description: The id of the site
          type: string
        noOfRows:
          description: The number of rows
          type: integer
        districtCode:
          description: The district code.
          type: string
        regionalAdminCode:
          description: The regional admin code.
          type: string
        comments:
          description: The comments for this block.
          type: string
        code:
          description: A short code that represents the block.
          type: string
        defaultHarvestMethod:
          description: The default harvest method.
          type: string
          enum:
            - HAND
            - MACHINE
        description:
          description: The description of this block.
          type: string
        graftedDate:
          description: The grafted date of this block. Expected to be in epoch milliseconds.
          type: integer
          format: int64
        intendedUse:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        rowNumbers:
          description: The row numbers of this block.
          type: string
        vineStructure:
          description: The vine structure of this block.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
    GetBlocksSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              description: The response object for returning the blocks data
              items:
                $ref: "#/components/schemas/BlockData"
    BlockData:
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
      type: object
      required:
        - id
        - name
        - grower
        - vineyard
        - region
        - variety
      properties:
        code:
          type: string
          description: A short code that represents the block.
        description:
          type: string
          description: The description of this block.
        grower:
          description: The grower
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        vineyard:
          description: The vineyard where the block is.
          allOf:
            - $ref: "#/components/schemas/VineyardIdentifiableEntity"
        region:
          description: The associated region/sub-AVA of this block.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        subRegion:
          description: The associated sub-region/micro-ava of this vineyard.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        variety:
          description: The variety of this block
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        rowNumbers:
          type: string
          description: The row numbers of this block.
        estate:
          type: boolean
          description: Indicates if this block is an estate.
        intendedUse:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        grading:
          description: The designated quality of this block
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Grading
        inactive:
          type: boolean
          description: Indicates if this block is inactive.
        fruitPlacement:
          description: The fruit placement of this block.
          allOf:
            - $ref: "#/components/schemas/FruitPlacement"
    FruitPlacement:
      type: object
      properties:
        vintage:
          description: The designated vintage/production year for this block
          type: string
        bulkStocks:
          description: The bulk stocks associated with this block.
          type: array
          items:
            $ref: "#/components/schemas/BulkStock"
    BulkStock:
      allOf:
        - $ref: "#/components/schemas/BatchInfo"
      type: object
      properties:
        grading:
          description: The designated quality of this batch
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Grading
        totalVolume:
          description: The total volume of the batch.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        compWeighting:
          type: number
          format: double
          description: The component weighting of the batch.
        equivalentVolume:
          description: The equivalent volume of the batch.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        equivalentWeight:
          description: The equivalent weight of the batch.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        percentageOfFruit:
          type: number
          format: double
          description: The percentage of fruit in the batch.
    BatchInfo:
      type: object
      properties:
        batchId:
          type: integer
          description: The batch id.
        batchName:
          type: string
          description: The batch name.
    VineyardResponse:
      description: Response object for returning the vineyard data
      properties:
        data:
          $ref: "#/components/schemas/Vineyard"
    Vineyard:
      description: Vineyard data
      required:
        - name
        - grower
      properties:
        id:
          description: The identifier of this vineyard
          type: integer
        extId:
          description: An optional identifier for this vineyard from external system.
          type: string
        name:
          description: The name of this vineyard. Must be unique
          type: string
        code:
          description: The code of this vineyard.
          type: string
        grower:
          description: The grower
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        region:
          description:
            The associated region/sub-AVA of this vineyard. Optional if
            a sub region is provided.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        adminAgridDivision:
          description: The agricultural division.
          type: string
        subRegion:
          description:
            The associated sub-region/micro-ava of this vineyard. Note
            there will be validation error if the supplied subRegion does not belong
            to the supplied region.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
    BlockAssessmentResponse:
      description: Response object for returning the block assessment data
      properties:
        data:
          $ref: "#/components/schemas/BlockAssessment"
    BlockAssessment:
      allOf:
        - $ref: "#/components/schemas/BlockAssessmentOverview"
        - type: object
          required:
            - vintage
            - assessmentTime
          properties:
            harvestMethod:
              description: The harvest method
              type: string
              enum:
                - HAND
                - MACHINE
            expectedHarvestTime:
              description:
                The expected harvest time. This is represented in milliseconds
                of epoch time.
              type: integer
              format: int64
            earliestHarvestTime:
              description:
                The earliest harvest time. This is represented in milliseconds
                of epoch time.
              type: integer
              format: int64
            sprayReportReceivedTime:
              description:
                The received time of spray report. This is represented in
                milliseconds of epoch time.
              type: integer
              format: int64
            cropInspectedTime:
              description:
                The inspected time of crop. This is represented in milliseconds
                of epoch time.
              type: integer
              format: int64
            quarantineStatus:
              description: The status of quarantine.
              type: string
            clearQuarantineStatus:
              description: Flag to clear the quarantine status.
              type: boolean
            grading:
              description: Grading
              type: string
            intendedProduct:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            comments:
              description: The comments left on this assessment
              type: string
            locationDetails:
              description: The location details where this block assessment is performed.
              type: object
              properties:
                latitude:
                  type: number
                  format: double
                  description: The latitude of the address
                longitude:
                  type: number
                  format: double
                  description: The longitude of the address
                formattedAddress:
                  type: string
                  description: The formatted address line
            intendedUse:
              $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
            expectedProgram:
              $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
            contract:
              $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
            expectedCrushSite:
              $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
            capitalBlock:
              description: Flag to denote if this block is part of a capital project
              type: boolean
            capitalProjectNumber:
              description: The capital project number
              type: string
            diseaseStatus:
              description: The disease status of this block (case sensitive)
              type: string
              enum:
                - APPROVED
                - DISEASE_ASSESSMENT
                - REJECTED
    Aspect:
      description: The aspect of this block
      type: string
      enum:
        - North
        - North East
        - East
        - South East
        - South
        - South West
        - West
        - North West
        - Flat
        - Ridge
        - Undulating
    PruningType:
      description: The pruning type
      type: string
      enum:
        - Cane
        - Spur
        - Hand
        - Cordon
        - Other
    GetAssessmentsResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/BlockAssessmentOverview"
    BlockAssessmentOverview:
      required:
        - block
        - vintage
        - assessmentTime
      properties:
        id:
          description: The unique id of this entity.
          type: integer
        block:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        vintage:
          description: Vintage
          type: integer
        assessmentTime:
          description:
            The time when this assessment is made. This is represented
            in milliseconds of epoch time.
          type: integer
          format: int64
        assessedBy:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        producingForecast:
          $ref: common-schemas.yaml#/components/schemas/Measurement
        availableForecast:
          $ref: common-schemas.yaml#/components/schemas/Measurement
        createdAt:
          description:
            The time when this assessment record is created in system.
            This is represented in milliseconds of epoch time.
          type: integer
          format: int64
    MaturitySampleResponse:
      description: Response object for creating the Maturity data
      properties:
        data:
          $ref: "#/components/schemas/MaturitySample"
    MaturitySample:
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        - type: object
          required:
            - occurredTime
            - vintage
            - block
            - metrics
          properties:
            occurredTime:
              description: The sample record time. Expected to be in epoch millisecond.
              type: integer
              format: int64
            operator:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            block:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            vintage:
              description: The vintage of this sample
              type: integer
            grower:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            region:
              $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
            variety:
              $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
            analysisTemplate:
              $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
            laboratory:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            type:
              description: The type of this sample
              type: string
              enum:
                - BUNCH
                - BERRY
            rows:
              type: string
            vines:
              type: string
            area:
              type: string
            reference:
              description: Reference number of this sample
              type: string
            metrics:
              description:
                The metrics done for this sample. At least one metric must
                be provided.
              type: array
              items:
                $ref: common-schemas.yaml#/components/schemas/AnalysisResult
    UpsertPartyRequest:
      allOf:
        - $ref: "#/components/schemas/Party"
        - type: object
          description: These phone fields are deprecated and kept for backwards compatible
          properties:
            mobilePhone:
              description: Full phone number
              example: 6149238323
              type: string
            businessPhone:
              description: Full phone number
              type: string
              example: 613923832342
            homePhone:
              description: Full phone number
              type: string
              example: 613923832342
    Party:
      type: object
      required:
        - type
      properties:
        id:
          type: integer
          format: int32
        type:
          $ref: "#/components/schemas/PartyType"
        extId:
          type: string
          description: Stores the id of this party from external system
        roles:
          type: array
          description: The roles of this party
          items:
            $ref: "#/components/schemas/PartyRole"
        organizationName:
          type: string
          description: Store the name of this party. Mandatory when type is an organization.
        givenName:
          type: string
          description:
            Store the given name of this party if it is a person. Mandatory
            when type is a person.
        surname:
          type: string
          description:
            Store the surname of this party if it is a person. Mandatory
            when type is a person.
        contactNumbers:
          type: array
          items:
            $ref: "#/components/schemas/PhoneNumber"
        email:
          type: string
          format: email
        address:
          $ref: "#/components/schemas/Address"
        postalAddress:
          $ref: "#/components/schemas/Address"
        billingAddress:
          $ref: "#/components/schemas/Address"
        governmentNumber:
          type: string
          description: Stores the government identifier of this party
    PartyType:
      type: string
      enum:
        - carrier
        - cooper
        - customer
        - grower
        - laboratory
        - owner
        - vendor
        - distributor
        - harvester
    PartyRole:
      type: string
      enum:
        - carrier
        - cooper
        - customer
        - grower
        - laboratory
        - owner
        - vendor
        - distributor
        - harvester
    Address:
      type: object
      properties:
        id:
          type: integer
          format: int32
        mailingName:
          type: string
        street1:
          type: string
        street2:
          type: string
        city:
          type: string
        state:
          type: string
        postalCode:
          type: string
        country:
          type: string
    PhoneNumber:
      type: object
      required:
        - type
      properties:
        id:
          type: integer
          format: int32
        type:
          description: The type of this phone number. e.g mobile, business, home
          type: string
          enum:
            - MOBILE
            - BUSINESS
            - HOME
            - FAX
        areaCode:
          type: string
        number:
          type: string
        extension:
          type: string
    UpsertPartySuccessResponse:
      type: object
      properties:
        data:
          $ref: "#/components/schemas/Party"
    GetPartiesSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/Party"
    GetShipmentsSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/ShipmentData"
    ShipmentData:
      description:
        This shipment object contains the data from the bulk dispatch operation
        and inter-winery dispatch operation.
      type: object
      properties:
        id:
          description:
            The unique internal identifier of this shipment generated by
            system
          type: integer
        workOrderNumber:
          description:
            The associated work order number. Only set when the operation
            is scheduled in work order
          type: string
        jobNumber:
          description: The job sequence on the work order for this shipment
          type: string
        shipmentNumber:
          description: The unique business identifier of this shipment
          type: string
        type:
          description: The type of the operation that triggers this shipment.
          type: string
          enum:
            - BULK
            - INTER_WINERY
        source:
          $ref: common-schemas.yaml#/components/schemas/Winery
        destination:
          $ref: "#/components/schemas/ShipmentDestination"
        occurredTime:
          description:
            The time when this shipment occurs. Time is returned in epoch
            milliseconds
          type: integer
          format: int64
        modifiedTime:
          description:
            The last modified time of this shipment. Time is returned in
            epoch milliseconds
          type: integer
          format: int64
        wineDetails:
          type: array
          items:
            $ref: "#/components/schemas/ShipmentWineDetails"
        carrier:
          description: The carrier that does the logistics
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        reference:
          description: The reference number of this shipment
          type: string
        dispatchType:
          description: The type of this shipment.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        freightCode:
          description: The freight code of this shipment.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        reversed:
          description: This flag indicates if the operation has been reversed.
          type: boolean
    ShipmentDestination:
      description:
        This object represents the entity that's receiving the wine in
        dispatch operation.
      properties:
        winery:
          $ref: common-schemas.yaml#/components/schemas/Winery
        party:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
    ShipmentWineDetails:
      description: Contains the details of wine that's dispatched
      properties:
        vessel:
          description: The name of the vessel
          type: string
        batch:
          description: The name of the batch. Deprecated. Use wineBatch.name instead
          type: string
          deprecated: true
        wineBatch:
          description:
            The details of the wine batch the wine in this vessel belongs
            to
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/WineBatchDetails
        wineryBuilding:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        volume:
          description: The volume that's been shipped
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        loss:
          $ref: "#/components/schemas/WineTransferLoss"
        bottlingDetails:
          description: The extra details when the dispatch type is bottling
          type: string
        weight:
          description: The weight of the wine
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        cost:
          description: The cost of the batch at the operation time
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CostBreakdown
        allocations:
          description: The latest allocations of the wine
          type: array
          items:
            allOf:
              - $ref: common-schemas.yaml#/components/schemas/AllocationSlice
        metrics:
          description: The latest metrics of the wine
          type: array
          items:
            allOf:
              - $ref: common-schemas.yaml#/components/schemas/AnalysisResult
        composition:
          description: The composition of the wine
          type: array
          items:
            $ref: "#/components/schemas/Composition"
    HarvestMethod:
      description: Was the fruit harvested by hand or machine?
      type: string
      enum:
        - HAND
        - MACHINE
    DeliveryType:
      description: Delivery method for the harvested fruit
      type: string
      enum:
        - BINS
        - TIPPER
        - OTHER
    PmsRate:
      description: PMS (SO2) addition rate planned
      type: object
      properties:
        id:
          description: The unique identifier for the PMS rate.
          type: integer
        value:
          description: The numeric value of the PMS (SO2) addition rate
          type: number
          format: double
        unit:
          description: The unit for the PMS (SO2) addition rate (e.g. 'ppm')
          type: string
    JobStatus:
      description: The job status of the operation
      type: string
      enum:
        - draft
        - ready
        - pending
        - in progress
        - submitted
        - complete
    GetBarrelTreatmentsSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/BarrelTreatmentData"
    BarrelTreatmentData:
      description: This object contains the data from the barrel treatment operation.
      allOf:
        - $ref: "#/components/schemas/ScheduleOperationDetails"
      properties:
        treatment:
          $ref: "#/components/schemas/BarrelTreatmentType"
        barrels:
          type: array
          items:
            $ref: "#/components/schemas/ShipmentBarrelDetails"
        totalWeight:
          $ref: common-schemas.yaml#/components/schemas/Measurement
        scale:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        carrier:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        party:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        source:
          $ref: common-schemas.yaml#/components/schemas/Winery
        reference:
          description: The reference number of this treatment
          type: string
        bolCode:
          description: The bill of lading code of this treatment
          type: string
        freightCode:
          description: The freight code of this treatment.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
    BarrelTreatmentType:
      description: Contains barrel treatment info.
      properties:
        id:
          description: id of the barrel treatment definition
          type: integer
        name:
          description: name of the barrel treatment definition
          type: string
        description:
          description: description of the barrel treatment definition
          type: string
        barrelState:
          $ref: "#/components/schemas/BarrelState"
        bolRequired:
          description: Require a Bill Of Lading be printed
          type: boolean
    ShipmentBarrelDetails:
      description: Contains the details of the barrel that has been dispatched
      properties:
        id:
          description: id of the barrel
          type: integer
        name:
          description: name of the barrel
          type: string
        capacity:
          $ref: common-schemas.yaml#/components/schemas/Measurement
    BarrelState:
      description: state of the barrel
      type: string
      enum:
        - SOUSED
        - WINE
        - OFFLINE
        - QC
    CreateBookingSuccessResponse:
      description: The response object of creating booking
      properties:
        data:
          $ref: "#/components/schemas/Booking"
    Booking:
      type: object
      required:
        - bookingNumber
        - block
        - expectedTime
        - owner
        - vintage
      properties:
        id:
          description: The unique identifier of this booking. Generated by vintrace.
          type: integer
        bookingNumber:
          description: The human identifiable unique number for this booking.
          type: string
        bookedBy:
          description: User who created/booked this fruit booking.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        winery:
          description: The winery that the fruit is being delivered to.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
        block:
          description: The block that the fruit will be picked from.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        grower:
          description: The grower supplying the fruit.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        vineyard:
          description: The vineyard the fruit originates from.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        variety:
          description: Variety of the fruit being received.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        region:
          description: Region/Sub AVA of the fruit being received.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        subRegion:
          description: Sub region/Micro AVA of the fruit being received.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        appellations:
          description: List of appellations associated with the fruit being received.
          type: array
          items:
            type: string
        vintage:
          description: Vintage of the fruit being received.
          type: integer
        growerContract:
          description: The grower contract linked to this booking.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        intendedProduct:
          description: The product that the extracted fruit is destined for.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        expectedTime:
          description:
            The booking time of the fruit receival. It's returned in epoch
            milliseconds.
          type: integer
          format: int64
        expectedEndTime:
          type: integer
          format: int64
          description:
            The expected end time of the receival. It's returned in epoch
            milliseconds.
        expectedDurationInMinutes:
          description: How long you expect the fruit receival to take in minutes.
          type: integer
        expectedQuantity:
          description: The expected amount to be received against this load.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        bookingState:
          $ref: "#/components/schemas/BookingState"
        harvester:
          description: The company or team harvesting the fruit.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        note:
          description: Any notes / comments against the booking.
          type: string
        crusher:
          description: The crusher or press that is planned to be used at extraction.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        owner:
          description: The owner of the fruit (who you are receiving it for).
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        carrier:
          description: The transporter of the fruit.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        receivingScales:
          description: The scales to receive the fruit at.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        receivingVessel:
          description: The vessel that the extracted fruit is destined for.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        harvestMethod:
          allOf:
            - $ref: "#/components/schemas/HarvestMethod"
        referenceNumber:
          type: string
          description: External or internal reference number associated with the booking.
        pickTime:
          type: integer
          format: int64
          description:
            The time the fruit is expected to be picked. It's returned
            in epoch milliseconds.
        program:
          description: Program associated with the booking.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        intendedUse:
          description:
            Intended use of the fruit to be extracted. e.g., table, still
            or sparkling.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        numberOfLoads:
          type: integer
          description: Planned number of loads expected.
        areaEstimate:
          type: number
          format: double
          description:
            Estimated area (e.g. hectares or acres) represented by this
            booking.
        deliveryType:
          description: Delivery type for the harvested fruit.
          allOf:
            - $ref: "#/components/schemas/DeliveryType"
        pmsRate:
          description: The PMS (SO2) addition rate planned.
          allOf:
            - $ref: "#/components/schemas/PmsRate"
        serviceOrder:
          description: Service order or work reference tied to this booking.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        grading:
          $ref: common-schemas.yaml#/components/schemas/GradingValue
        inactive:
          type: boolean
          description: Indicates if this booking is inactive.
        bulkBooking:
          type: boolean
          description: Indicates if this is a bulk booking.
        lastBooking:
          type: boolean
          description: Indicates if this is the final booking for the block.
    BookingDeactivationResponse:
      description:
        The response object when successfully deactivating the booking
        record
      properties:
        data:
          type: object
          properties:
            inactive:
              description:
                The inactive flag indicates that booking is deactivated
                or not
              type: boolean
    CreateFruitIntakeSuccessResponse:
      description: The response object when successfully creating a fruit intake
      properties:
        data:
          $ref: "#/components/schemas/FruitIntake"
    FruitIntake:
      type: object
      required:
        - net
        - vintage
        - scale
        - dateOccurred
      properties:
        id:
          type: integer
        block:
          description:
            The block that the fruit was picked from. Mandatory if booking
            number is not provided
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        vintage:
          description: vintage of the fruit being received
          type: integer
        bookingNumber:
          description:
            the booking related to this fruit intake. Mandatory if block
            is not provided
          type: string
        owner:
          description: The owner of the fruit (who it was received for)
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        dateOccurred:
          description: The date and time that the fruit was received
          type: integer
          format: int64
        timeIn:
          description: The date and time that the truck was weighed in (gross)
          type: integer
          format: int64
        timeOut:
          description: The date and time that the truck was weighed out (tare)
          type: integer
          format: int64
        weighTag:
          description: The unique identifier for this weight event in vintrace
          type: string
        externalWeighTag:
          description: Third-party weigh tag reference number
          type: string
        winery:
          description: The winery that the fruit was received at
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
        scale:
          description: The scale that weighed the fruit
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        gross:
          description: The gross weight of the fruit for this weight event
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        tare:
          description: The tare weight of the truck/bins for this weight event
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        net:
          description: The net weight of the fruit for this weight event
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        jobStatus:
          allOf:
            - $ref: "#/components/schemas/JobStatus"
        intendedProduct:
          description: The vessel that the extracted fruit is destined for
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        unitPrice:
          description: The unit price and rate for this fruit
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        metrics:
          description: an array of analysis results for the received fruit
          type: array
          items:
            type: object
            allOf:
              - $ref: common-schemas.yaml#/components/schemas/AnalysisResult
        harvestMethod:
          allOf:
            - $ref: "#/components/schemas/HarvestMethod"
        weighMasterText:
          description: The official weigh master name
          type: string
        carrier:
          description: The transporter of the fruit
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        consignmentNote:
          description:
            This is the Con. note / Shipping reference for the fruit that
            was received.
          type: string
        driverName:
          description: This is the driver name of the truck.
          type: string
        lastLoad:
          description:
            A flag that indicates to the system that this is the last load
            for the booking.
          type: boolean
        operatorNotes:
          description:
            These are the operator notes as shown on the Notes tab of the
            completed operation.
          type: string
        truckRegistration:
          description: This is the license plate number of the truck.
          type: string
    FruitIntakeRequest:
      description: Request object for creating fruit intake
      allOf:
        - $ref: "#/components/schemas/FruitIntake"
      properties:
        linkEarliestBooking:
          type: boolean
          description:
            A flag that indicates the system to automatically link this
            intake to earliest booking with 0 intake for same block in the same day
            when a booking number is not provided
          default: false
    UpdateFruitIntakePricing:
      description: Object for the pricing in fruit intake
      properties:
        gross:
          description: The gross weight of the fruit for this weight event
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        tare:
          description: The tare weight of the truck/bins for this weight event
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        net:
          description: The net weight of the fruit for this weight event
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        unitPrice:
          description: The unit price and rate for this fruit
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
    UpdateFruitIntakePricingResponse:
      description: Response for updating the pricing in fruit intake
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/UpdateFruitIntakePricing"
    UpdateMetrics:
      description: Object for updating metrics
      properties:
        metrics:
          description: an array of analysis results for the received fruit
          type: array
          items:
            type: object
            allOf:
              - $ref: common-schemas.yaml#/components/schemas/AnalysisResult
    UpdateMetricsResponse:
      description: Response object for updating metrics
      properties:
        data:
          allOf:
            - $ref: "#/components/schemas/UpdateMetrics"
    BulkIntakeRequest:
      type: object
      required:
        - occurredTime
        - wineDetails
        - composition
        - cost
      properties:
        occurredTime:
          description: The occurrence time of this intake
          type: integer
          format: int64
        wineDetails:
          $ref: "#/components/schemas/WineDetailsInRequest"
        composition:
          type: array
          items:
            $ref: "#/components/schemas/Composition"
        cost:
          $ref: "#/components/schemas/Cost"
        deliveryDetails:
          $ref: "#/components/schemas/DeliveryDetails"
        metrics:
          description: an array of analysis results for the received fruit
          type: array
          items:
            type: object
            allOf:
              - $ref: common-schemas.yaml#/components/schemas/AnalysisResult
    BulkIntake:
      type: object
      required:
        - occurredTime
        - wineDetails
        - composition
        - cost
      properties:
        id:
          type: integer
        occurredTime:
          description: The occurrence time of this intake
          type: integer
          format: int64
        reversed:
          description: Indicate if the record has been reversed
          type: boolean
        wineDetails:
          $ref: "#/components/schemas/WineDetails"
        composition:
          type: array
          items:
            $ref: "#/components/schemas/Composition"
        cost:
          $ref: "#/components/schemas/Cost"
        deliveryDetails:
          $ref: "#/components/schemas/DeliveryDetails"
        metrics:
          description: an array of analysis results for the received fruit
          type: array
          items:
            type: object
            allOf:
              - $ref: common-schemas.yaml#/components/schemas/AnalysisResult
    WineDetails:
      type: object
      required:
        - batch
        - volume
        - productType
        - fractionType
        - fermentState
        - beverageType
      properties:
        vessel:
          description: The destination vessel that the wine is allocated to.
          type: string
        batch:
          description: the batch that the vessel belongs to
          type: string
        ownership:
          description: The ownership of this wine. Can contain multiple ownerships.
          type: array
          items:
            $ref: "#/components/schemas/Ownership"
        volume:
          description: The total volume of this intake.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        fractionType:
          $ref: "#/components/schemas/FractionType"
        fermentState:
          $ref: "#/components/schemas/FermentState"
        malolacticState:
          $ref: "#/components/schemas/FermentState"
        beverageType:
          description: The beverage type. E.g Red, Rose or Sparkling
          type: string
        productType:
          $ref: "#/components/schemas/ProductType"
        reference:
          description: The reference of this wine
          type: string
        yieldRate:
          description: The yield rate of the wine
          type: number
        batchOwner:
          description: The owner of the batch
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
    WineDetailsInRequest:
      allOf:
        - $ref: "#/components/schemas/WineDetails"
      properties:
        virtualVessel:
          description:
            "This flag indicates whether the received wine will be allocated\
            \ to a virtual vessel in system. \n\nWhen this field is true, vessel is\
            \ not required.\n"
          type: boolean
          default: false
        winery:
          description:
            The winery that owns the liquid and batch. Mandatory if virtualVessel
            flag is true.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
    Ownership:
      type: object
      properties:
        owner:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        percentage:
          type: number
          format: double
    FractionType:
      type: string
      enum:
        - FREE_RUN
        - PRESSINGS
        - MUST
        - LEES
        - UNKNOWN
        - COMBINED
        - CONDENSATE
        - PRESSINGS_LIGHT
        - PRESSINGS_HEAVY
        - DRAININGS
        - PRESSINGS_OVERNIGHT
        - SAIGNEE
    ProductType:
      description: The product type. Default to LIQUID if not provided.
      type: string
      default: LIQUID
      enum:
        - LIQUID
        - NEUTRAL_CONDENSATE
    FermentState:
      type: string
      enum:
        - UNFERMENTED
        - STARTED
        - STOPPED
    BookingState:
      description: The booking state.
      type: string
      enum:
        - Scheduled
        - Underway
        - Completed
        - Confirmed
    Composition:
      type: object
      required:
        - percentage
        - vintage
      properties:
        percentage:
          type: number
          format: double
        weighting:
          type: number
          format: double
        vintage:
          type: integer
        block:
          description:
            The block. Mandatory if the other details like region and variety
            are not provided.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        region:
          description: Mandatory if block is not provided
          allOf:
            - $ref: "#/components/schemas/CodeableEntity"
        subRegion:
          description: Mandatory if block is not provided
          allOf:
            - $ref: "#/components/schemas/CodeableEntity"
        variety:
          description: Mandatory if block is not provided
          allOf:
            - $ref: "#/components/schemas/CodeableEntity"
        componentVolume:
          $ref: common-schemas.yaml#/components/schemas/Measurement
    CodeableEntity:
      description: Represents an entity at vintrace that contains a code
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
      properties:
        code:
          description: The code associated with this entity
          type: string
    Cost:
      type: object
      properties:
        amount:
          description: The numerical value of the cost amount
          type: number
          format: double
        rate:
          description: The rate of the cost amount. e.g Total
          type: string
          enum:
            - TOTAL
            - PER_LITRE
            - PER_GALLON_US
        freight:
          description: The cost of freight
          type: number
          format: double
        ttbDetails:
          description:
            The TTB details for this wine as of the report date. Mandatory
            for customer in USA.
          allOf:
            - $ref: "#/components/schemas/TaxDetails"
    TaxDetails:
      description: Bond, tax state and tax class information
      type: object
      required:
        - taxState
      properties:
        bond:
          description: The bonded wine facility the wine is stored at
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        taxState:
          description: The bonded status of the wine
          type: string
          enum:
            - BONDED
            - TAXPAID
            - NON_DECLARED
        taxClass:
          description: The TTB tax class for the wine
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
          properties:
            federalName:
              description: The federal tax class name
              type: string
            stateName:
              description: The state tax class name
              type: string
        alcoholPercentage:
          description: The alcohol percentage of the liquid
          type: number
          format: double
    DeliveryDetails:
      properties:
        purchaseOrder:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        receivedFrom:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        carrier:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        shippingRefNo:
          description: The reference number of this shipment
          type: string
        truckNo:
          description: The truck number
          type: string
        driverName:
          description: The driver name
          type: string
        sealNo:
          description: The seal number
          type: string
        compartmentNo:
          description: The compartment number
          type: string
        cipNo:
          description: The CIP number
          type: string
        container:
          description: The container
          type: string
        customsEntryNumber:
          description: The custom entry number
          type: string
        purchaseReference:
          description: Purchase reference
          type: string
        deliveryState:
          description: The state of this liquid delivery
          type: string
          enum:
            - IN_TRANSIT
            - ON_DOCK
            - RECEIVED
    CreateBulkIntakeSuccessResponse:
      description: The response object when successfully creating a fruit intake
      properties:
        data:
          $ref: "#/components/schemas/BulkIntake"
    GetBulkIntakesSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/BulkIntake"
    GetTrialBlendsSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/TrialBlend"
    TrialBlend:
      description: Trial blend object.
      properties:
        reference:
          description:
            The internal reference number that uniquely identifies this
            trial blend
          type: string
        name:
          type: string
        description:
          type: string
        year:
          type: string
        winery:
          description: The winery of this trial blend
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
        operator:
          description: The operator who created this trial blend in system.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        trialDate:
          description:
            The time when this trial blend is recorded in system. Time
            is returned in epoch milliseconds
          type: integer
          format: int64
        modifiedTime:
          description: The last modified time of this trial blend
          type: integer
          format: int64
        cost:
          description: The calculated cost in dollar of this trial blend
          type: number
          format: double
        amount:
          description: The amount of this trial blend
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        sampleVolume:
          description: The volume of the sample in this trial blend
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        status:
          description: The status of this trial blend
          type: string
          enum:
            - DRAFT
            - FINAL
            - REQUEST_APPROVAL
            - APPROVED
        composition:
          description: The composition of this trial blend
          type: object
          properties:
            summary:
              type: array
              items:
                $ref: "#/components/schemas/CompositionSummary"
    CompositionSummary:
      type: object
      properties:
        type:
          description: The type that the composition is summarised by. E.g vintage
          type: string
        elements:
          description: The collection that contains the summarised data
          type: array
          items:
            type: object
            properties:
              name:
                description: The name of this composition element.
                type: string
              percentage:
                description: The percentage of this composition type.
                type: number
                format: double
    GetWorkOrdersSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/WorkOrder"
    WorkOrder:
      description: Represents a work order
      required:
        - id
        - name
        - issuedBy
        - status
        - scheduledTime
      properties:
        id:
          description: The unique identifier of this work order. Generated by vintrace
          type: integer
        name:
          description: The human readable work order number.
          type: string
        assignedTo:
          description: The user whom this work order is assigned to execute
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        issuedBy:
          description: The user who creates this work order
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        status:
          description: The status of this work order
          type: string
          enum:
            - DRAFT
            - READY
            - IN_PROGRESS
            - SUBMITTED
            - COMPLETED
            - CANCELLED
            - REPLAY
        scheduledTime:
          description: When this work order is scheduled for
          type: integer
          format: int64
        summary:
          description: The work order summary
          type: string
        jobs:
          description: The work order jobs scheduled in this work order
          type: array
          items:
            anyOf:
              - $ref: "#/components/schemas/WineryWorkOrderJob"
    WorkOrderJob:
      description:
        Represents a base model of work order job that has the basic fields
        of a job
      required:
        - id
        - type
        - jobNumber
        - scheduledTime
        - status
      properties:
        id:
          description: The unique identifier of this job. Generated by vintrace
          type: integer
        type:
          description: The type of this work order job
          type: string
          enum:
            - WINERY
            - MRP
        jobNumber:
          description: The sequence of this job in the work order
          type: number
          format: double
        status:
          description: The status of this job
          type: string
          enum:
            - INCOMPLETE
            - ASSIGNED
            - COMPLETED
            - ROLLBACK_REPLAY
            - IN_PROGRESS
            - PENDING_APPROVAL
        scheduledTime:
          description: When this work order job is scheduled for.
          type: integer
          format: int64
        finishedTime:
          description: When this work order job is finished.
          type: integer
          format: int64
        link:
          description: Contain the link to get details of this job
          allOf:
            - $ref: "#/components/schemas/ResourceLink"
    WineryWorkOrderJob:
      description:
        Represents the winery operation that can be added to work order
        such as bulk intake, tirage and so on.
      allOf:
        - $ref: "#/components/schemas/WorkOrderJob"
        - properties:
            operationType:
              description: The type of this winery job
              type: string
    ResourceLink:
      description: Contains the information of a hyper link to the resource
      properties:
        href:
          description: Contains the absolute or relative hyperlink to the resource
          type: string
        rel:
          description: Contains a text that describes what this entity is
          type: string
        method:
          description:
            Contains the HTTP method that should be used to access this
            related resource
          type: string
    TirageSuccessResponse:
      description: The response object for tirage operation
      properties:
        data:
          $ref: "#/components/schemas/Tirage"
    ScheduleOperationDetails:
      description:
        An object that contains basic details of operation. Designed for
        extending.
      type: object
      properties:
        id:
          description:
            The id of this operation. This field can be null when this
            operation scheduled in work order is not completed yet.
          type: integer
        workOrderNumber:
          description: The work order number in which this operation is scheduled.
          type: string
          example: TWL-123
        jobNumber:
          description: The job number of this operation in the scheduled work order.
          type: integer
          example: 1
        occurredTime:
          description:
            "The time when this operation occurs. Time is returned in epoch
            milliseconds.


            This field can contain a future date when the operation is scheduled in
            a work order.

            "
          type: integer
          format: int64
        modifiedTime:
          description:
            "The last modified time of this operation. Time is returned
            in epoch milliseconds


            This field can be null when the operation hasn't occurred.

            "
          type: integer
          format: int64
        operator:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        reversed:
          description: The flag that indicates if this operation has been reversed
          type: boolean
    Tirage:
      description: The object that contains details of a tirage operation
      allOf:
        - $ref: "#/components/schemas/ScheduleOperationDetails"
      properties:
        groupName:
          description: The group name of produced bottles
          type: string
        sourceWine:
          $ref: "#/components/schemas/TirageSourceWineDetails"
        outVolume:
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        loss:
          $ref: "#/components/schemas/WineTransferLoss"
        package:
          $ref: "#/components/schemas/TiragePackageDetails"
    WineTransferLoss:
      description: An object that contains the details of wine loss during transfer
      type: object
      properties:
        volume:
          $ref: common-schemas.yaml#/components/schemas/Measurement
        reason:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
    TirageSourceWineDetails:
      description: The source where the wines are drew off
      type: object
      properties:
        vessel:
          description: The name of the vessel
          type: string
        batch:
          description: The batch that contains the vessel
          type: string
        designatedProduct:
          description: The designated product of the source batch
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        productionYear:
          description: The production year of the source batch
          type: string
        winery:
          $ref: common-schemas.yaml#/components/schemas/Winery
        wineryBuilding:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
    TiragePackageDetails:
      description: The object that contains the Tirage/Packing details.
      type: object
      properties:
        quantity:
          description: The quantity that's been packaged
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        tirageItem:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        tirageBatch:
          type: string
        totalPackagedVolume:
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
    MoveBarrelsRequest:
      description: Request object for move barrels
      allOf:
        - $ref: "#/components/schemas/MoveBarrels"
    MoveBarrelsResponse:
      description: Response object for move barrels
      type: object
      properties:
        data:
          $ref: "#/components/schemas/MoveBarrelsResponseData"
    MoveBarrelsResponseData:
      type: object
      allOf:
        - $ref: "#/components/schemas/MoveBarrels"
      properties:
        id:
          description:
            "The unique identifier of this resource. It is generated by\
            \ vintrace internally. \nOnly used for operation task.\n"
          type: integer
        modifiedTime:
          description:
            "The last modified time of this operation. Time is returned\
            \ in epoch milliseconds. \nOnly used for operation task.\n"
          type: integer
          format: int64
    MoveBarrels:
      type: object
      required:
        - movements
      properties:
        userActions:
          x-internal: true
          type: array
          items:
            type: string
            x-sl-internally-excluded: true
            x-sl-error-message: You do not have permission to view this reference
        occurredTime:
          description: Defaults to the current system time if not provided.
          type: integer
          format: int64
        operator:
          description:
            The initiator of this action. Defaults to the current system
            user if not provided.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        operatorNotes:
          description: the notes of the operator (ignored when moving empty barrels).
          type: string
        documentIds:
          description:
            the document ids of this operation (ignored when moving an
            empty barrels).
          type: array
          items:
            type: integer
        targetBatch:
          description: The batch that the vessel change to
          type: string
        additionalInstructions:
          description: The additional instructions
          type: string
        movements:
          type: array
          items:
            type: object
            properties:
              vessel:
                description: barrel or barrel group
                allOf:
                  - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
              newStorageAreas:
                type: array
                items:
                  $ref: "#/components/schemas/NewDestinationStorageArea"
    NewDestinationStorageArea:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/StackCoordinates
      properties:
        vesselToMove:
          description:
            Only available when fixed barrel coords system policy and feature
            are enabled
          type: string
    WineBatchData:
      type: object
      properties:
        id:
          description:
            The unique internal identifier of this wine batch generated
            by system
          type: integer
          readOnly: true
        batchCode:
          description: The code for this batch. Defaults to auto code if not provided.
          type: string
        batchNumber:
          description: The number for this batch.
          type: string
        description:
          description: The description for this batch.
          type: string
        productionYear:
          description:
            The vintage for this batch. Defaults to the DEFAULT_VINTAGE
            in setting if not provided.
          type: integer
        owner:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        grading:
          $ref: common-schemas.yaml#/components/schemas/GradingValue
        program:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        designatedRegion:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        designatedSubRegion:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        designatedVariety:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        winery:
          $ref: common-schemas.yaml#/components/schemas/Winery
        category:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        designatedProduct:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        costsTrackedPercentage:
          description: The costs tacked (%) for this batch.
          type: number
          format: double
          default: 100
        ageOfSpirits:
          description: The age of spirits for this batch.
          type: string
        serviceOrder:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        fractionType:
          $ref: "#/components/schemas/FractionType"
        inactive:
          type: boolean
          default: false
        vessels:
          description: List of vessels where the batch hold liquid
          readOnly: true
          type: array
          items:
            type: object
            properties:
              id:
                type: integer
              name:
                type: string
              type:
                description: The vessel type
                type: string
                enum:
                  - TANK
                  - BIN
                  - BARREL
                  - BARREL_GROUP
                  - BIN_GROUP
                  - PRESS
                  - TANKER
              amount:
                $ref: common-schemas.yaml#/components/schemas/Measurement
        allocations:
          description: The latest allocations of the wine batch
          readOnly: true
          type: array
          items:
            $ref: common-schemas.yaml#/components/schemas/AllocationSlice
    GetWineBatchSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/WineBatchData"
    CreateWineBatchSuccessResponse:
      description: The response object when successfully creating a batch
      properties:
        data:
          $ref: "#/components/schemas/WineBatchData"
    CreateWineBatchRequest:
      description: Request object for creating wine batch
      required:
        - batchCode
        - vintage
        - winery
        - owner
      allOf:
        - $ref: "#/components/schemas/WineBatchData"
    AttachDocumentsRequest:
      description: Request object for attaching documents to a process
      properties:
        processId:
          description: The unique identifier for the process
          type: integer
        documentIds:
          description: The unique identifiers for the documents
          type: array
          items:
            type: integer
    AttachDocumentsSuccessResponse:
      description: The response object when successfully uploading documents
      type: object
      properties:
        documents:
          type: array
          items:
            $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
          description: A list of document objects
        process:
          type: object
          description: Represents the process associated with the documents
          properties:
            id:
              type: integer
              description: The unique identifier of the process
            type:
              type: string
              enum:
                - EXTRACTION
                - BLEND
                - TRIAL_BLEND
                - LIQUID_TRANSFER
                - DELIVERY
                - SAMPLING
                - START_FERMENT
                - STOP_FERMENT
                - MEASUREMENT
                - ANALYSIS
                - ADDITION
                - BATCHCREATE
                - RACKING
                - RACK_AND_RETURN
                - RACK_TO_BARREL_GROUP
                - PACKAGING_RUN
                - PRODUCT_TREATMENT
                - EQUIPMENT_TREATMENT
                - PRESS_CYCLE
                - CREATE_STOCK
                - TASTING_NOTE
                - IMPORT_COMPOSITION
                - LIQUIDBATCHCREATE
                - BREAK_AND_TOP
                - TOPPING
                - MOVE_TO_BATCH
                - TASK
                - BULK_DISPATCH
                - RESURRECT
                - CHANGE_OWNER
                - BULK_INTAKE
                - BARREL_TREATMENT
                - REVERSE_BLEND
                - INTAKE_CORRECTION
                - REVERSE_EXTRACTION
                - FIXUP
                - NEW_PACKAGING_RUN
                - NEW_BULK_DISPATCH
                - TIRAGE
                - RIDDLING
                - TIRAGE_ADMIN
                - MULTI_TRANSFER
                - MULTI_TOPPING
                - MULTI_ADDITION
                - BIN_TRANSFER_BLEND
                - BLEND_TRANSFER
                - INTER_WINERY_BULK_DISPATCH
              description: The type of the winery process
    GetBulkWineDetailsReportResponse:
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
      type: object
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/BulkWineDetails"
    BulkWineDetails:
      description: The bulk wine details for a vessel
      type: object
      properties:
        id:
          description: The internal unique identifier of this vessel
          type: integer
        productId:
          description:
            The product ID of the wine/product/contents in the vessel as
            of the asAtDate. Depending on the value of asAtDate, it may contain an
            ID from the historical product revision.
          type: integer
        name:
          description: The human-readable name of this vessel
          type: string
        description:
          description: The description of this vessel
          type: string
        vesselType:
          description: The vessel type
          type: string
          enum:
            - TANK
            - BIN
            - BARREL
            - BARREL_GROUP
            - BIN_GROUP
            - PRESS
            - TANKER
        detailsAsAt:
          description: The date that these details were effective
          type: integer
          format: int64
        sparklingInfo:
          description: This provides the sparkling information of the wine
          type: object
          properties:
            state:
              type: string
              enum:
                - BASE_WINE
                - TIRAGED
                - RIDDLING
                - RIDDLED
                - DISGORGED
                - DOSAGED
                - BOTTLED
                - TRANSFERRED
        beverageType:
          description: This provides the beverage type of the wine
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        owner:
          description: The owner of the fruit (who you are receiving it for)
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        winery:
          $ref: common-schemas.yaml#/components/schemas/Winery
        wineBatch:
          description:
            The details of the wine batch the wine in this vessel belongs
            to
          allOf:
            - $ref: "#/components/schemas/BulkWineBatchDetails"
        productState:
          description: The state of the product at the effective date of the report
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
          properties:
            expectedLossesPercentage:
              description:
                A weighting value of the expected losses for wines in this
                state before production finished
              type: number
              format: double
        volume:
          description: The volume of the wine as of the report date
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        capacity:
          description: The vessel capacity
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        ullage:
          description:
            The ullage volume (available space) in the vessel at the report
            date
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        ttbDetails:
          description: The TTB details for this wine as of the report date
          allOf:
            - $ref: "#/components/schemas/TaxDetails"
        liveMetrics:
          description: The analysis result for this wine as of the report date
          type: array
          items:
            allOf:
              - $ref: common-schemas.yaml#/components/schemas/AnalysisResult
        cost:
          description: The cost (in dollars) for this bulk wine as at the report date
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CostBreakdown
        composition:
          description:
            Details of the composition slices that the wine is composed
            of
          type: array
          items:
            allOf:
              - $ref: "#/components/schemas/CompositionSlice"
        allocations:
          description:
            Details of the products that this wine was allocated to as
            of the report date
          type: array
          items:
            allOf:
              - $ref: common-schemas.yaml#/components/schemas/AllocationSlice
        unallocatedVolume:
          description:
            The volume of unallocated wine (total volume less all allocation
            slices))
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        unallocatedPercentageOfVessel:
          description:
            The unallocated wine represented as a percentage of the total
            volume
          type: number
          format: double
    BulkWineBatchDetails:
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/WineBatchDetails
        - type: object
          description: Wine batch details
          properties:
            designatedSubRegion:
              $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
    CompositionSlice:
      type: object
      properties:
        weighting:
          description:
            The composition value expressed as a weighting  (between 0.0
            to 1.0)
          type: number
          format: double
        percentage:
          description:
            The composition value expressed as a percentage (between 0.0
            -> 100.0)
          type: number
          format: double
        componentVolume:
          description: The composition value calculated as a volume
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        vintage:
          description: The composition vintage
          type: string
        block:
          description: The composition block (if specified)
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        region:
          description: The Composition Region/Appellation
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        subRegion:
          description: The Composition Sub-Region
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        variety:
          description: The Composition Variety
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
    stockDetailBody:
      description: Represents a receive stock action detail.
      properties:
        stockItemCode:
          description: The code of the stock item for this stock detail.
          type: string
        receivedAmount:
          description: The amount received in stock units.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        price:
          description: The price of the stock units.
          type: number
          format: double
        priceType:
          description: The type of price.
          type: string
          enum:
            - PER_UNIT
            - TOTAL
        vendorCode:
          description: The vendor code.
          type: string
        lotName:
          description: The lot (stock item batch) name of the route info item.
          type: string
        manufacturedDate:
          description: The manufactured date. Expected to be in epoch millisecond.
          type: integer
          format: int64
        expiryDate:
          description: The expiry date. Expected to be in epoch millisecond.
          type: integer
          format: int64
        routeDetails:
          description: The route details information.
          type: array
          items:
            type: object
            allOf:
              - $ref: "#/components/schemas/RouteDetail"
    RouteDetail:
      description: Represents a route detail.
      properties:
        routeStockItem:
          description: The route stock item.
          allOf:
            - $ref: "#/components/schemas/RouteStockItem"
    RouteStockItem:
      description: Represents a route stock item.
      properties:
        quantity:
          description: The quantity of the route stock item.
          type: number
          format: double
        storageArea:
          description: The storage area of the route stock item.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        bin:
          description: The bin of the route stock item.
          type: string
    ReceiveStockActionResponse:
      description: Response object for returning the stock action data
      properties:
        data:
          $ref: "#/components/schemas/ReceiveStockActionSchema"
    ReceiveStockActionSchema:
      allOf:
        - type: object
          required:
            - vendor
            - carrier
            - receiveStockActionDetails
          properties:
            id:
              description: The unique identifier of this job. Generated by vintrace
              type: integer
            occurredTime:
              description:
                The date/time this action is taking place. Expected to be
                in epoch millisecond. Defaults to today's date if not provided.
              type: integer
              format: int64
            operator:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            orderNo:
              description: The order number of this action.
              type: string
            supplier:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            carrier:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            purchaseOrder:
              $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
            purchaseOrderFulfillmentState:
              description: The state of the purchase order.
              type: string
              enum:
                - NOT_FULFILLED
                - PART_FULFILLED
                - FULFILLED
                - OVER_FULFILLED
            rego:
              description: The truck license plate registration number.
              type: string
            connote:
              description: The reference number of the shipping order.
              type: string
            driversName:
              description: The name of the driver.
              type: string
            receivedBy:
              $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
            freightCost:
              description: The cost of freight.
              type: number
              format: double
            stockDetails:
              description: The stock detail information.
              type: array
              items:
                $ref: "#/components/schemas/stockDetailBody"
            receiptNo:
              description: The receipt number of this action.
              type: string
            purchaseOrderId:
              description: The purchase order ID of this action.
              type: string
    GetStockDispatchesSuccessResponse:
      type: object
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/Shared-openapi_PageRoot
        - type: object
          properties:
            results:
              type: array
              items:
                $ref: "#/components/schemas/StockDispatchData"
    StockDispatchData:
      description: This object contains the data from the barrel treatment operation.
      allOf:
        - $ref: "#/components/schemas/ScheduleOperationDetails"
      properties:
        source:
          description: The source of this dispatch.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
        destination:
          description: The destination of the dispatch.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        dispatchType:
          description: The dispatch type of the dispatch.
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        stockItems:
          description: The stock items of the dispatch.
          type: array
          items:
            type: object
            allOf:
              - $ref: "#/components/schemas/DispatchedStockItemData"
        shippingInfo:
          description: The shipping info of the dispatch.
          allOf:
            - $ref: "#/components/schemas/StockDispatchShippingInfoData"
    DispatchedStockItemData:
      description:
        This object contains the stock item data from the stock dispatch
        operation.
      properties:
        item:
          $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        quantity:
          $ref: common-schemas.yaml#/components/schemas/Measurement
        routeDetails:
          description: The route details information.
          type: array
          items:
            type: object
            allOf:
              - $ref: "#/components/schemas/DispatchRouteData"
    DispatchRouteData:
      description:
        This object contains the route details of stock item in the stock
        dispatch operation
      properties:
        stockRoute:
          description: Contains route stock from storage area(s)
          type: object
          allOf:
            - $ref: "#/components/schemas/RouteStockItem"
    StockDispatchShippingInfoData:
      description:
        This object contains the shipping info data from the stock dispatch
        operation.
      properties:
        carrier:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        vendor:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        containerTypes:
          type: string
        reference:
          type: string
        port:
          type: string
        packingConfig:
          type: string
        orderNo:
          type: string
        truckNo:
          type: string
        containerNo:
          type: string
        sentBy:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        driverName:
          type: string
        sealNo:
          type: string
        freightCode:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        scale:
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        totalWeight:
          $ref: common-schemas.yaml#/components/schemas/Measurement
        shippingRemarks:
          type: string
    Barrel:
      description: Represents a barrel entity in vintrace
      allOf:
        - $ref: "#/components/schemas/Vessel"
      properties:
        cooper:
          description: Cooper that made the barrel
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        forest:
          description: The forest present on the barrel
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/CodedIdentifiableEntity
        seasoning:
          $ref: "#/components/schemas/BarrelSeasoningWrapper"
        seasoningMonths:
          description: The number of months the barrel was seasoned for
          type: integer
        toasting:
          description: The toasting of the barrel
          type: string
        toastedHeads:
          description: Flag to denote whether the barrel has toasted heads or not
          type: boolean
        grain:
          description: The grain used in the barrel
          type: string
        lastContained:
          description: Provides the beverage type of the barrel
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        oakType:
          $ref: "#/components/schemas/OakTypeWrapper"
        year:
          description: The year the barrel was made
          type: integer
        barrelCategory:
          description: The category of the barrel
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        location:
          $ref: common-schemas.yaml#/components/schemas/StackCoordinates
        barrelType:
          $ref: "#/components/schemas/BarrelTypeWrapper"
        barrelGroups:
          description: A collection of the Barrel Groups that the barrel belongs to
          type: array
          items:
            $ref: "#/components/schemas/BarrelGroupShort"
        constructionMaterial:
          description: The material used in the construction of the barrel
          type: string
        currentBillOfLadingDetails:
          description: The current Bill of Lading details for the barrel
          type: string
        dspAccount:
          $ref: "#/components/schemas/DspAccount"
        recount:
          description: Flag to denote whether the barrel has been flagged for a recount
          type: boolean
        lastFilledDate:
          description:
            The last filled date of the barrel. Time is returned in epoch
            milliseconds
          type: integer
          format: int64
    BarrelShort:
      description: Represents a barrel entity in vintrace in short form
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
      properties:
        link:
          $ref: common-schemas.yaml#/components/schemas/ResourceLink
    BarrelGroupShort:
      description: Represents a barrel group entity in vintrace in short form
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
      properties:
        link:
          $ref: common-schemas.yaml#/components/schemas/ResourceLink
    BarrelGroup:
      description: Represents a barrel group entity in vintrace
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
      properties:
        barrels:
          description: A collection of barrels' short info
          type: array
          items:
            $ref: "#/components/schemas/BarrelShort"
        locations:
          type: array
          items:
            $ref: common-schemas.yaml#/components/schemas/StackCoordinates
        instructions:
          description: Any instructions present for the barrel group
          type: string
        beenUsed:
          description: Flag to denote whether the barrel group has been used
          type: boolean
        currentBillOfLadingDetails:
          description: The current Bill of Lading details for the barrel group
          type: string
        lastFilledDate:
          description:
            The last filled date of the barrel. Time is returned in epoch
            milliseconds
          type: integer
          format: int64
    Bin:
      description: Represents a bin entity in vintrace
      allOf:
        - $ref: "#/components/schemas/Vessel"
      properties:
        tareWeight:
          $ref: common-schemas.yaml#/components/schemas/Measurement
        commonTare:
          description: Flag to denote if the bin has common tare
          type: boolean
        commonTareCertificateNumber:
          description: The certificate number of the common tare
          type: string
        canAdjustTare:
          description: Flag to denote whether the tare of the bin can be adjusted
          type: boolean
        maxBottles:
          description: The maximum amount of bottles from this bin
          type: integer
        bottlesInUse:
          description: The number of bottles currently in use
          type: integer
        location:
          $ref: common-schemas.yaml#/components/schemas/StackCoordinates
        stackMultiplier:
          description: The stack multiplier of the bin
          type: integer
        dspAccount:
          $ref: "#/components/schemas/DspAccount"
    TankCreateRequest:
      description: The request object for create a tank
      allOf:
        - $ref: "#/components/schemas/Tank"
    Tank:
      description: Represents a tank entity in vintrace
      allOf:
        - $ref: "#/components/schemas/Vessel"
      properties:
        headspace:
          description: The empty space in the tank
          type: number
          format: double
        temperature:
          description: The temperature of the tank
          type: number
          format: double
        hasThermostat:
          description: Flag to denote whether the tank has a thermostat
          type: boolean
        thermostatSetting:
          description: Temperature the thermostat is set to
          type: number
          format: double
        diameter:
          description: The diameter of the tank
          type: number
          format: double
        isRefrigerated:
          description: Flag to denote whether the tank is refrigerated
          type: boolean
        isFermenter:
          description: Flag to denote whether the tank is a fermenter
          type: boolean
        isInsulated:
          description: Flag to denote whether the tank is insulated
          type: boolean
        isHeated:
          description: Flag to denote whether the tank is heated
          type: boolean
        constructionMaterial:
          description: The material used in the construction of the tank
          type: string
        tankCategory:
          description: The category of the tank
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        dspAccount:
          $ref: "#/components/schemas/DspAccount"
        allowStaves:
          description: Flag to denote whether the tank allows staves
          type: boolean
        containsStaves:
          description: Flag to denote whether the tank contains staves
          type: boolean
        hasAgitator:
          description: Flag to denote whether the tank has an agitator
          type: boolean
        recount:
          description: Flag to denote whether the tank has been flagged for a recount
          type: boolean
        accountsReference:
          description: accounts reference
          type: string
        depreciationStartDate:
          description: depreciation start date
          type: integer
          format: int64
        depreciationEndDate:
          description: depreciation end date
          type: integer
          format: int64
        purchaseOrderNumber:
          description: purchase order number
          type: string
        financialReference:
          description: financial reference
          type: string
        vendor:
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        dipTables:
          description: A collection of the dip tables on the tank
          type: array
          items:
            $ref: "#/components/schemas/DipTable"
    Tanker:
      description: Represents a tanker entity in vintrace
      allOf:
        - $ref: "#/components/schemas/Vessel"
      properties:
        truckNumber:
          description: The number of the truck
          type: string
        sealNumber:
          description: The seal number of the tanker
          type: string
        compartmentNumber:
          description: The compartment number of the tanker
          type: string
        cleanInPlaceNumber:
          description: The clean in place number of the tanker
          type: string
        currentBillOfLadingDetails:
          description: The current Bill of Lading details for the tanker
          type: string
    Vessel:
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
      type: object
      description: An entity that represents the details that all vessels share
      required:
        - id
        - name
        - owner
        - capacity
        - wineryBuilding
      properties:
        capacity:
          $ref: common-schemas.yaml#/components/schemas/Measurement
        wineryBuilding:
          description:
            The wineryBuilding of the vessel (The default is the winery
            of setting `Winery Building`)
          $ref: common-schemas.yaml#/components/schemas/IdentifiableEntity
        owner:
          description:
            The owner of the vessel (The default is the owner of setting
            `Owner`)
          $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        brand:
          description: The brand name of the vessel
          type: string
        purchaseDate:
          description:
            The date and time when the vessel was purchased. Time is returned
            in epoch milliseconds
          type: integer
          format: int64
        purchasedUsed:
          description: Flag to denote whether the vessel was purchased used
          type: boolean
        firstUsedDate:
          description:
            The date and time when the vessel was first used. Time is returned
            in epoch milliseconds
          type: integer
          format: int64
        deliveredDate:
          description:
            The date and time when the vessel was delivered. Time is returned
            in epoch milliseconds
          type: integer
          format: int64
        grading:
          description: The designated quality of this vessel
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Grading
        position:
          $ref: "#/components/schemas/VesselPosition"
        usageCounter:
          description: The amount of times this vessel has been used
          type: integer
        dimensions:
          $ref: "#/components/schemas/VesselDimensions"
        inactive:
          description: Flag to denote whether the vessel is inactive
          type: boolean
        sanitationState:
          $ref: "#/components/schemas/SanitationStateWrapper"
        lastSanitation:
          description:
            The last date and time when this vessel was cleaned. Time is
            returned in epoch milliseconds
          type: integer
          format: int64
        assetId:
          description: The unique asset ID of the vessel
          type: string
        rfid:
          description: The Radio Frequency Identification tag on the vessel
          type: string
        miscellaneousInfo:
          description: Any other information about the vessel
          type: string
        controlId:
          description: The control ID of the vessel
          type: string
        alertState:
          description: Flag to denote whether the vessel is in an alert state
          type: boolean
      discriminator:
        propertyName: vesselType
        mapping:
          barrel: "#/components/schemas/Barrel"
          barrelGroup: "#/components/schemas/BarrelGroup"
          bin: "#/components/schemas/Bin"
          tank: "#/components/schemas/Tank"
          tanker: "#/components/schemas/Tanker"
    VesselPosition:
      type: object
      properties:
        x:
          description: X coordinate of this position
          type: integer
        y:
          description: Y coordinate of this position
          type: integer
    VesselDimensions:
      type: object
      properties:
        length:
          description: Length
          type: number
          format: double
        width:
          description: Width
          type: number
          format: double
        height:
          description: Height
          type: number
          format: double
    BarrelSeasoningWrapper:
      description: The seasoning of the barrel
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/TranslatedFieldWrapper
      properties:
        name:
          description: The name of the BarrelSeasoning enum itself
          type: string
          enum:
            - UNKNOWN
            - KILN
            - KILN_AND_NATURAL
            - NATURAL
    OakTypeWrapper:
      description: The type of oak
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/TranslatedFieldWrapper
      properties:
        name:
          description: The name of the OakType enum itself
          type: string
          enum:
            - FRENCH
            - AMERICAN
            - CANADIAN
            - RUSSIAN
            - SLOVENIAN
            - HUNGARIAN
            - OTHER
            - BULGARIAN
            - EASTERN_EUROPEAN
            - CENTRAL_EUROPEAN
            - SLOVAKIAN
            - ACACIA
            - FRENCH_OAK_ACACIA
            - SLAVONIAN
    BarrelTypeWrapper:
      description: The type of the barrel
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/TranslatedFieldWrapper
      properties:
        name:
          description: The name of the BarrelType enum itself
          type: string
          enum:
            - BARREL
            - KEG
            - GLASS
    DipTable:
      description: Represents a dip table entity in vintrace
      properties:
        id:
          description: Unique identifier of this dip table
          type: integer
        version:
          description: Version of the dip table
          type: integer
        tickResolution:
          description: Decimal the dip tick will be rounded to
          type: number
          format: double
        volumeResolution:
          description: Decimal the volume will be rounded to
          type: number
          format: double
        dipMeasurementType:
          $ref: "#/components/schemas/DipMeasurementTypeWrapper"
        default:
          description:
            Flag to denote whether or not the dip table is the current
            default
          type: boolean
    DipMeasurementTypeWrapper:
      description: The type of the dip table
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/TranslatedFieldWrapper
      properties:
        name:
          description: The name of the DipMeasurementType enum itself
          type: string
          enum:
            - WET
            - DRY
    DspAccount:
      description:
        The DSP (Distilled Spirits Plant) tax account of the vessel - only
        applicable to USA
      allOf:
        - $ref: "#/components/schemas/DspAccountWrapper"
    DspAccountWrapper:
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/TranslatedFieldWrapper
      properties:
        name:
          description: The name of the DspAccount enum itself
          type: string
          enum:
            - PROCESSING
            - PRODUCTION
            - STORAGE
            - TAXPAID
            - STORAGE_IMPORTED
    SanitationStateWrapper:
      description: The sanitation state of the vessel
      allOf:
        - $ref: common-schemas.yaml#/components/schemas/TranslatedFieldWrapper
      properties:
        name:
          description: The name of the SanitationState enum itself
          type: string
          enum:
            - TO_BE_CLEANED
            - READY_FOR_USE
            - OFFLINE_FOR_CLEANING
    BarrelSuccessResponse:
      description: The response object for a barrel
      properties:
        data:
          $ref: "#/components/schemas/Barrel"
    BarrelGroupSuccessResponse:
      description: The response object for a barrel group
      properties:
        data:
          $ref: "#/components/schemas/BarrelGroup"
    BinSuccessResponse:
      description: The response object for a bin
      properties:
        data:
          $ref: "#/components/schemas/Bin"
    TankSuccessResponse:
      description: The response object for a tank
      properties:
        data:
          $ref: "#/components/schemas/Tank"
    TankerSuccessResponse:
      description: The response object for a tanker
      properties:
        data:
          $ref: "#/components/schemas/Tanker"
    PurchaseOrderSuccessResponse:
      description:
        The response object for creating, updating and getting a particular
        purchase order
      properties:
        data:
          $ref: "#/components/schemas/PurchaseOrder"
    PurchaseOrder:
      description: Represents a purchase order entity in vintrace
      required:
        - id
        - name
        - vendor
      properties:
        id:
          description: Unique identifier of this purchase order.
          type: integer
        name:
          description:
            The name of this purchase order. It is normally used to store
            the purchase order number. The value in this field is required to be unique.
          type: string
        vendor:
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/ExtIdentifiableEntity
        vendorReference:
          description: The reference number from vendor
          type: string
        deliverBy:
          description:
            The date when the line items in this purchase order are fully
            delivered by. Default to current date if not provided. Expected to be
            in epoch milliseconds.
          type: integer
          format: int64
        state:
          $ref: "#/components/schemas/PurchaseOrderState"
        fulfillment:
          $ref: "#/components/schemas/Fulfillment"
        winery:
          description:
            The winery of this purchase order. Default to the winery specified
            in the default setting if not provided
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Winery
        taxPolicy:
          $ref: "#/components/schemas/TaxPolicy"
        freightCost:
          description: The freight cost of this purchase order
          type: number
        inactive:
          description: Flag that indicates if the PO is inactive or not
          type: boolean
          default: false
        notes:
          description: Notes about this purchase order
          type: string
        lines:
          description: The line items of this purchase order
          type: array
          items:
            $ref: "#/components/schemas/PurchaseOrderLine"
    PurchaseOrderLine:
      description: Stores general information of a purchase order line
      type: object
      required:
        - id
        - type
        - itemName
        - quantityOrdered
      properties:
        id:
          description: Unique identifier of this purchase order line
          type: integer
        type:
          description: The type of this line item
          type: string
          enum:
            - GENERAL
            - ADHOC
            - WINE_BATCH
            - STOCK
        lineNumber:
          description:
            Optional line number for identifying the line. It's normally
            used to store the line id from external party
          type: string
        itemCode:
          description:
            The code of this line item in Vintrace. Depending on the line
            type, the value of this field will be used to lookup corresponding entities
            in Vintrace.
          type: string
        vendorCode:
          description: The vendor code of this line
          type: string
        description:
          type: string
        quantityOrdered:
          description: This is the quantity that's been ordered for this line
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        unitPrice:
          description: The unit price
          type: number
          format: double
        totalPrice:
          description: The total price of this line
          type: number
          format: double
        quantityFulfilled:
          description:
            "This is the quantity that's been fulfilled for this line.


            For general and adhoc type lines, this field is modifiable. For other
            types, it's readonly field and normally updated by associated operations.

            "
          allOf:
            - $ref: common-schemas.yaml#/components/schemas/Measurement
        taxable:
          description:
            Flag that indicates whether this line is taxable. Default to
            true
          type: boolean
          default: true
    PurchaseOrderState:
      description: The state of this purchase order.
      type: string
      default: NEW
      enum:
        - NEW
        - APPROVED
    Fulfillment:
      description:
        The fulfillment status of this purchase order tracking the received
        wines.
      type: string
      default: NOT_FULFILLED
      enum:
        - NOT_FULFILLED
        - PART_FULFILLED
        - FULFILLED
        - OVER_FULFILLED
    TaxPolicy:
      description: The tax policy
      type: string
      default: TAX_EXCLUSIVE
      enum:
        - TAX_INCLUSIVE
        - TAX_EXCLUSIVE
        - NO_TAX
    WorkOrderSearchResponse:
      type: object
      properties:
        firstResult:
          type: integer
          format: int32
          example: 0
        maxResult:
          type: integer
          format: int32
          example: 100
        totalResultCount:
          type: integer
          format: int32
          example: 3
        nextURLPath:
          type: string
          format: nullable
        prevURLPath:
          type: string
          format: nullable
        listText:
          type: string
          example: All available
        workOrders:
          type: array
          items:
            $ref: "#/components/schemas/WorkOrder"
    Job:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 482
        code:
          type: string
          example: AT482
        scheduledDate:
          type: integer
          format: int4
          example: 149330100000
        finishedDate:
          type: string
          format: nullable
        scheduledDateAsText:
          type: string
          example: 04/28/2017
        finishedDateAsText:
          type: string
          example: null
        status:
          type: string
          example: Not started
        assignedBy:
          type: string
          example: System Administrator
        assignedTo:
          type: string
          example: Not assigned
        summaryText:
          type: string
          example: Add Gum Arabic - Stabivin to BADD01 in T1-02
        miniSummaryText:
          type: string
          example: Add Gum Arabic - Stabivin
        jobColour:
          type: string
          example: null
        jobNumber:
          type: integer
          format: int32
          example: 1
        stepText:
          type: string
          format: nullable
        steps:
          type: array
          items:
            $ref: "#/components/schemas/JobStep"
        endpointURL:
          type: string
          example: /wrw/api/v/workorders/jobs/482
        jobVersion:
          type: integer
          format: int32
          example: 0
        workOrderId:
          type: integer
          format: int32
          example: 2842
        type:
          type: string
          example: WINERY
        operationType:
          type: string
          example: MEASUREMENT
    JobStep:
      type: object
      properties:
        stepId:
          type: integer
          format: int32
          example: 7177
        stepNumber:
          type: integer
          format: int32
          example: 1
        stepName:
          type: string
          example: Taste
        instructionText:
          type: string
          example:
            Take a sample of 11CHBLRR-DEMO from T0-07 for tasting.Taste sample
            in mouth and write down notes regarding flavours and potential additions
            needed to be made
        fields:
          type: array
          items:
            $ref: "#/components/schemas/JobField"
        endpointURL:
          type: string
          example: /wrw/api/v/workorders/jobs/482
    JobField:
      type: object
      properties:
        fieldId:
          type: string
          example: 59bc-0738-4a9d-bb45-f5388032d234
        fieldName:
          type: string
          example: Tasting notes
        fieldType:
          type: string
          example: multilineText
        dataType:
          type: string
          format: nullable
        mandatory:
          type: boolean
        minSelections:
          type: integer
          format: int32
          example: 0
        maxSelections:
          type: integer
          format: int32
          example: 0
        selectedValues:
          type: array
          items:
            $ref: "#/components/schemas/JobFieldValue"
        stringValue:
          type: string
          example: Tastes good x2
    JobFieldValue:
      type: object
      properties:
        id:
          type: integer
          format: int32
        name:
          type: string
        dataType:
          type: string
        code:
          type: string
        fillType:
          description: Language-agnostic values for fill types, such as `Full`, `Half`
          type: string
          example: Full
        fillTypeDisplay:
          description:
            Localised version of `fillType` for display purpose. If language
            settings is English, this will have the same value as `fillType`.
          type: string
          example: Lleno
        confirmed:
          type: boolean
        amount:
          type: string
        extraDetailKey:
          type: string
        preferred:
          type: boolean
        breakdownMap:
          type: array
          items:
            type: string
        additionalDetails:
          type: array
          items:
            type: string
    SubmitJobRequestField:
      type: object
      properties:
        fieldId:
          type: string
        value:
          type: string
        dataType:
          type: string
        parentFieldId:
          type: string
        selectedValues:
          type: array
          items:
            $ref: "#/components/schemas/SubmitJobRequestFieldValue"
    SubmitJobRequestFieldValue:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        type:
          type: string
        code:
          type: string
        fillType:
          type: string
        checked:
          type: boolean
        amount:
          type: string
        preferred:
          type: boolean
    LocationDetails:
      type: object
      properties:
        latitude:
          type: number
        longitude:
          type: number
        formattedAddress:
          type: string
    Attachment:
      type: object
      properties:
        id:
          type: integer
        fileName:
          type: string
        fileType:
          type: string
        description:
          type: string
        contentType:
          type: string
        fileContext:
          type: string
        viewEndpoint:
          type: string
        thumbEndpoint:
          type: string
        dateStamp:
          type: string
        fileSize:
          type: number
        fileLocation:
          $ref: "#/components/schemas/LocationDetails"
    SubmitJobRequest:
      type: object
      properties:
        jobId:
          type: integer
        submitType:
          type: string
        dateStarted:
          type: string
        fields:
          type: array
          items:
            $ref: "#/components/schemas/SubmitJobRequestField"
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/Attachment"
    SubmitWorkOrderStepsResponse:
      type: object
      properties:
        status:
          type: string
        message:
          type: string
    AssignWorkData:
      type: object
      properties:
        workOrderId:
          type: integer
        jobId:
          type: integer
        dateStarted:
          type: string
        assignOperatorId:
          type: integer
        reassignWorkOrder:
          type: boolean
    AssignWorkResponse:
      type: object
      properties:
        status:
          type: string
        message:
          type: string
        jobEndpointURL:
          type: string
        workOrderEndpointURL:
          type: string
    SalesOrderItem:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 424
        itemId:
          type: integer
          format: int32
          example: 2
        itemName:
          type: string
          example: 11CH-SHINER/CS
        unitPrice:
          type: number
          example: 10.5
        quantity:
          type: integer
          format: int32
          example: 20
        unitOfMeasure:
          type: string
          example: x12
        discountPct:
          type: string
          format: nullable
        adjustment:
          type: string
          format: nullable
        taxAmount:
          type: number
          example: 19.09
        lineTotal:
          type: integer
          format: int32
          example: 210
        accountId:
          type: integer
          format: int32
          example: 3
        accountCode:
          type: string
          example: Revenue
        taxRateId:
          type: integer
          format: int32
          example: 5
        taxRateName:
          type: string
          example: GST inclusive
        sku:
          type: string
        externalReference:
          type: string
    PriceList:
      type: object
      properties:
        countryCurrencyCode:
          type: string
          example: AUD Australia Dollar
        taxPolicy:
          type: string
          example: Tax Inclusive
    TaxAmount:
      type: object
      properties:
        name:
          type: string
          example: GST
        amount:
          type: number
          example: 19.09
        ratePct:
          type: integer
          format: int32
          example: 10
        inclusive:
          type: boolean
    SalesOrder:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 22
        invoiceDate:
          type: string
          format: nullable
        invoiceDateAsText:
          type: string
          example: null
        customerId:
          type: integer
          format: int32
          example: 43
        customerName:
          type: string
          example: ABC Wine Company
        sendTo:
          $ref: "#/components/schemas/Party"
        salesType:
          type: string
          example: Retail
        salesPriceListId:
          type: integer
          format: int32
          example: 7
        salesPriceListName:
          type: string
          example: GST inclusive
        priceDetails:
          $ref: "#/components/schemas/PriceList"
        salesOrderStatus:
          type: string
          example: New
        salesOrderItems:
          type: array
          items:
            $ref: "#/components/schemas/SalesOrderItem"
        code:
          type: string
          example: VSO20
        description:
          type: string
          format: nullable
        reference:
          type: string
          format: nullable
        orderDate:
          type: integer
          format: int4
          example: 1494424800000
        orderDateAsText:
          type: string
          example: 11/05/2017
        wineryId:
          type: string
          format: nullable
        wineryName:
          type: string
          format: nullable
        fulfillment:
          type: string
          example: Approved to send
        fulfillmentDate:
          type: string
          format: nullable
        fulfillmentDateAsText:
          type: string
          example: null
        salesRegionId:
          type: string
          format: nullable
        salesRegionCode:
          type: string
          format: nullable
        notes:
          type: string
          example: null
        customerPickup:
          type: boolean
        disableAccountsSync:
          type: boolean
        subTotal:
          type: integer
          format: int32
          example: 210
        taxBreakdown:
          type: array
          items:
            $ref: "#/components/schemas/TaxAmount"
        total:
          type: integer
          format: int32
          example: 210
        acctReference:
          type: string
          example: b211a90-84ab-42b8-9c01-add4bfaf1bb
        posSaleReference:
          type: string
          format: nullable
        ignoreStockError:
          type: boolean
        externalTransactionId:
          type: string
          example: ABC:12345
    SalesOrderResponse:
      type: object
      properties:
        status:
          type: string
          example: Success
        message:
          type: string
          format: nullable
        salesOrders:
          type: array
          items:
            $ref: "#/components/schemas/SalesOrder"
    SalesOrderUpdateResponse:
      type: object
      properties:
        status:
          type: string
          example: Success
        message:
          type: string
          format: nullable
        salesOrders:
          $ref: "#/components/schemas/SalesOrder"
    RefundLineItem:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 152
        itemId:
          type: integer
          format: int32
          example: 41
        itemName:
          type: string
          example: 11GCZIN - 12 X 750
        unitPrice:
          type: integer
          format: int32
          example: 25
        returnQuantity:
          type: integer
          format: int32
          example: 10
        returnTotal:
          type: integer
          format: int32
          example: 250
        taxAmount:
          type: number
          example: 22.73
    Refund:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 73
        name:
          type: string
          example: VCR201
        refundDate:
          type: integer
          format: int4
          example: 1493820000000
        refundDateAsText:
          type: string
          example: 04/05/2017
        reference:
          type: string
          format: nullable
        stockReturned:
          type: boolean
        storageAreaId:
          type: string
          format: nullable
        storageAreaName:
          type: string
          format: nullable
        customerId:
          type: integer
          format: int32
          example: 43
        customerName:
          type: string
          example: ABC Wine Company
        refundStatus:
          type: string
          example: Awaiting approval
        notes:
          type: string
          example: Created from API
        salesOrderId:
          type: integer
          format: int32
          example: 20
        salesOrderName:
          type: string
          example: VSO258
        subTotal:
          type: number
          example: 1334.55
        total:
          type: number
          example: 1334.55
        taxBreakdown:
          type: array
          items:
            $ref: "#/components/schemas/TaxAmount"
        refundLineItems:
          type: array
          items:
            $ref: "#/components/schemas/RefundLineItem"
        posSaleReference:
          type: string
          format: nullable
    RefundResponse:
      type: object
      properties:
        status:
          type: string
          example: Success
        message:
          type: string
          format: nullable
        refund:
          type: array
          items:
            $ref: "#/components/schemas/Refund"
    RefundUpdateResponse:
      type: object
      properties:
        status:
          type: string
          example: Success
        message:
          type: string
          format: nullable
        refund:
          $ref: "#/components/schemas/Refund"
    PartyResponse:
      type: object
      properties:
        status:
          type: string
          example: Success
        message:
          type: string
          format: nullable
        parties:
          type: array
          items:
            $ref: "#/components/schemas/Party"
    PartyUpdateResponse:
      type: object
      properties:
        status:
          type: string
          example: Success
        message:
          type: string
          format: nullable
        party:
          $ref: "#/components/schemas/Party"
    VolumeMeasurement:
      type: object
      properties:
        value:
          type: number
        unit:
          type: string
    BeverageTypeProperties:
      type: object
      properties:
        iconColour:
          type: string
        statusCharacter:
          type: string
        statusString:
          type: string
        textColour:
          type: string
        linkedBeverageType:
          $ref: "#/components/schemas/Searchable"
    Searchable:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        summary:
          type: string
        type:
          type: string
    RateOfChangeResponse:
      type: object
      properties:
        value:
          type: number
        sign:
          type: string
        absValue:
          type: number
        unit:
          type: string
        description:
          type: string
    ProductLiveMetricMeasurement:
      type: object
      properties:
        value:
          type: string
          example: 88
        rateOfChange:
          $ref: "#/components/schemas/RateOfChangeResponse"
        measurementDateText:
          type: string
          example: 4 Years ago
        measurementDate:
          type: integer
          format: int4
          example: 1371779280000
        resultId:
          type: integer
          format: int32
          example: 43144
        canDelete:
          type: boolean
    FieldValuePair:
      type: object
      properties:
        field:
          type: string
          example: Product State
        value:
          type: string
          example: Ready for Bottling
        fieldId:
          type: integer
          format: int32
          example: 5
        canEdit:
          type: boolean
        canDeselect:
          type: boolean
        editableFieldType:
          type: string
          example: ProductState
    ProductLiveMetric:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 1
        name:
          type: string
          example: TSO2
        unit:
          type: string
          example: ppm
        dataType:
          type: string
          example: STRING
        dataTypeValues:
          type: string
          format: nullable
        minVal:
          type: integer
          format: int32
          example: 0
        maxVal:
          type: integer
          format: int32
          example: 200
        measurements:
          type: array
          items:
            $ref: "#/components/schemas/ProductLiveMetricMeasurement"
    Product:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 2407
        batchCode:
          type: string
          example: 10CHHPR02
        vesselId:
          type: integer
          format: int32
          example: 193
        description:
          type: string
          format: nullable
        descriptionCanEdit:
          type: boolean
        volume:
          type: object
          properties:
            value:
              type: number
              example: 0.99045188
            unit:
              type: string
              example: gal
        vesselCode:
          type: string
          example: TIR14
        hasDipTable:
          type: boolean
        dipTableEndpoint:
          type: string
          format: nullable
        colour:
          type: string
          example: White
        physicalProductState:
          type: string
          example: Wine
        vesselType:
          type: string
          example: Bin Group
        productStatus:
          type: string
          example: WHITE-WINE
        productAnalysisEndpoint:
          type: string
          example: /wrw/api/v/product-analysis/2407
        productCompositionEndpoint:
          type: string
          example: /wrw/api/v/product-composition/2407
        productEndpoint:
          type: string
          example: /wrw/api/v/products/2407
        liveMetrics:
          type: array
          items:
            $ref: "#/components/schemas/ProductLiveMetric"
        fieldValuePairs:
          type: array
          items:
            $ref: "#/components/schemas/FieldValuePair"
        canAccessNotes:
          type: boolean
        notesCount:
          type: integer
          format: int32
          example: 0
        notesEndpoint:
          type: string
          example: /wrw/api/v/product-notes/2407
        beverageTypeProperties:
          $ref: "#/components/schemas/BeverageTypeProperties"
    ProductResponse:
      type: object
      properties:
        status:
          type: string
        product:
          $ref: "#/components/schemas/Product"
        vessel:
          $ref: "#/components/schemas/ProductVesselDetails"
    ProductVesselDetails:
      type: object
      properties:
        vesselId:
          type: integer
        containerType:
          type: string
          enum:
            - Tank
            - Barrel
            - Barrel group
            - Bin group
            - Press
            - Bin
            - Tanker
          example: Tank
    ProductListResponse:
      type: object
      properties:
        status:
          type: string
        products:
          type: array
          items:
            $ref: "#/components/schemas/Product"
    ProductUpdateField:
      type: object
      properties:
        propertyType:
          type: string
        propertyValue:
          type: string
        propertyId:
          type: integer
    ProductUpdateData:
      type: object
      properties:
        productId:
          type: integer
        effectiveDate:
          type: string
        updateFields:
          type: array
          items:
            $ref: "#/components/schemas/ProductUpdateField"
    ProductUpdateResponse:
      type: object
      properties:
        status:
          type: string
        errorList:
          type: array
          items:
            type: string
        product:
          $ref: "#/components/schemas/Product"
    BasicBatchDetails:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
        vintage:
          $ref: "#/components/schemas/Searchable"
        variety:
          $ref: "#/components/schemas/Searchable"
        region:
          $ref: "#/components/schemas/Searchable"
    VesselDetails:
      type: object
      properties:
        contentsId:
          type: integer
          format: int32
          example: 5401
        batch:
          type: string
          example: 2017CH-Prog
        batchId:
          type: integer
          format: int32
          example: 4342
        volume:
          type: integer
          format: int32
          example: 237
        volumeUnit:
          type: string
          example: gal
        dip:
          type: string
          example: 237
        state:
          type: string
          format: nullable
        rawTaxClass:
          type: string
          example: Not over 14%
        federalTaxClass:
          type: string
          example: Not over 1%
        stateTaxClass:
          type: string
          example: Not over 14%
        program:
          type: string
          example: 2017 CH
        batchDetails:
          $ref: "#/components/schemas/BasicBatchDetails"
        bondNumber:
          type: string
          example: BW-CA-1
        bondRegisteredName:
          type: string
          example: JX2 Winery
    FromVessel:
      type: object
      properties:
        name:
          type: string
          example: T1-0
        id:
          type: integer
          format: int32
          example: null
        beforeDetails:
          $ref: "#/components/schemas/VesselDetails"
        afterDetails:
          $ref: "#/components/schemas/VesselDetails"
        volOut:
          type: integer
          format: int32
          example: 100
        volOutUnit:
          type: string
          example: gal
    ToVessel:
      type: object
      properties:
        name:
          type: string
          example: T1-0
        id:
          type: integer
          format: int32
          example: null
        beforeDetails:
          $ref: "#/components/schemas/VesselDetails"
        afterDetails:
          $ref: "#/components/schemas/VesselDetails"
        volIn:
          type: integer
          format: int32
          example: 100
        volInUnit:
          type: string
          example: gal
    LossDetails:
      type: object
      properties:
        volume:
          type: integer
          format: int32
          example: 0
        volumeUnit:
          type: string
          example: gal
        reason:
          type: string
          format: nullable
    SearchDescriptive:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 2
        name:
          type: string
          example: vintrace Winery
        description:
          type: string
    Unit:
      type: object
      properties:
        description:
          type: string
          example: Single x1
        abbreviation:
          type: string
          example: x1
        key:
          type: string
          example: BOTTLE
        precision:
          type: integer
          format: int32
          example: 0
    StockForm:
      type: object
      properties:
        group:
          type: string
          example: SINGLE
        variant:
          type: string
          example: X1
    StockType:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 31
        name:
          type: string
          example: Single x1
        code:
          type: string
          example: BOTTLE
        form:
          $ref: "#/components/schemas/StockForm"
    QuantityBreakdown:
      type: object
      properties:
        onHand:
          type: integer
          format: int32
          example: 150
        committed:
          type: integer
          format: int32
          example: 22
        ordered:
          type: integer
          format: int32
          example: 200
        available:
          type: integer
          format: int32
          example: 328
    Tag:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 123
        name:
          type: string
          example: My tag
        sortIndex:
          type: integer
          format: int32
          example: 0
    StockItem:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 123
        code:
          type: string
          example: 20YAVCHA01/1
        description:
          type: string
          example: 20YAVCHA01 - Single
        name:
          type: string
          example: 20YAVCHA01/1
        inactive:
          type: boolean
        modified:
          type: integer
          format: int4
          example: 11591322000
        type:
          $ref: "#/components/schemas/StockType"
        category:
          $ref: "#/components/schemas/SearchDescriptive"
        beverageProperties:
          $ref: "#/components/schemas/BeverageTypeProperties"
        unit:
          $ref: "#/components/schemas/Unit"
        quantity:
          $ref: "#/components/schemas/QuantityBreakdown"
        owner:
          $ref: "#/components/schemas/SearchDescriptive"
        wineProduct:
          type: boolean
        lotTracked:
          type: boolean
        levelTracked:
          type: boolean
        tags:
          type: array
          items:
            $ref: "#/components/schemas/Tag"
        userPermissions:
          type: array
          items:
            type: string
            example: EditTags
        fields:
          $ref: "#/components/schemas/StockFieldsDetail"
        distributions:
          $ref: "#/components/schemas/StockDistributionDetail"
        historyItems:
          $ref: "#/components/schemas/StockHistoryItemsDetail"
        rawComponents:
          $ref: "#/components/schemas/StockRawComponentsDetail"
        bulkInfo:
          $ref: "#/components/schemas/StockBulkInfoDetail"
        notes:
          $ref: "#/components/schemas/StockNotesDetail"
    StockNotesDetail:
      type: object
      properties:
        endpoint:
          type: string
        maxResult:
          type: integer
        firstResult:
          type: integer
        totalResultCount:
          type: integer
        prevURLPath:
          type: string
        nextURLPath:
          type: string
        notes:
          type: array
          items:
            $ref: "#/components/schemas/StockNote"
    StockNote:
      type: object
      properties:
        id:
          type: integer
        date:
          type: string
        dateText:
          type: string
        who:
          type: string
        subject:
          type: string
        detail:
          type: string
        item:
          $ref: "#/components/schemas/Searchable"
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/Attachment"
        inactive:
          type: boolean
    StockBulkInfoDetail:
      type: object
      properties:
        endpoint:
          type: string
        message:
          type: string
        metrics:
          type: array
          items:
            $ref: "#/components/schemas/SimpleMetric"
        compositionDetails:
          type: array
          items:
            $ref: "#/components/schemas/ProductCompositonSummary"
        additionsSummary:
          type: array
          items:
            $ref: "#/components/schemas/AdditionsSummary"
    AdditionsSummary:
      type: object
      properties:
        allergens:
          type: array
          items:
            type: string
        additions:
          type: array
          items:
            $ref: "#/components/schemas/AdditionSummaryItem"
    AdditionSummaryItem:
      type: object
      properties:
        additive:
          $ref: "#/components/schemas/Searchable"
        rate:
          $ref: "#/components/schemas/RateAmount"
    RateAmount:
      type: object
      properties:
        amount:
          type: string
        rate:
          type: string
    ProductCompositonSummary:
      type: object
      properties:
        compositionView:
          type: string
        elementData:
          type: array
          items:
            $ref: "#/components/schemas/ProductCompositonData"
    ProductCompositonData:
      type: object
      properties:
        key:
          type: string
        value:
          type: number
        valueStr:
          type: string
        volume:
          type: string
        unit:
          type: string
    SimpleMetric:
      type: object
      properties:
        metricName:
          type: string
        metricShortCode:
          type: string
        value:
          type: string
        unit:
          type: string
        recorded:
          type: string
        metricId:
          type: integer
    StockRawComponentsDetail:
      type: object
      properties:
        endpoint:
          type: string
        rawComponents:
          $ref: "#/components/schemas/StockRawComponentItem"
    StockRawComponentItem:
      type: object
      properties:
        endpoint:
          type: string
          example: /mob/api/v/mrp/stock/123/history-items
        id:
          type: integer
          format: int32
          example: 253
        code:
          type: string
          example: 20YAVCHA01/BLK
        description:
          type: string
          example: 20FC1
        unit:
          $ref: "#/components/schemas/Unit"
        type:
          $ref: "#/components/schemas/StockType"
        bomQuantity:
          type: number
          example: 0.75
        beverageProperties:
          $ref: "#/components/schemas/BeverageTypeProperties"
    StockHistoryItemsDetail:
      type: object
      properties:
        endpoint:
          type: string
          example: /mob/api/v/mrp/stock/123/history
        firstResult:
          type: integer
          format: int32
          example: 0
        maxResult:
          type: integer
          format: int32
          example: 20
        totalResultCount:
          type: integer
          format: int32
          example: 1
        historyItems:
          type: array
          items:
            $ref: "#/components/schemas/StockHistoryItem"
    StockHistoryItem:
      type: object
      properties:
        operationId:
          type: integer
          format: int32
          example: 123
        operatorName:
          type: string
          example: John Johns
        quantity:
          type: integer
          format: int32
          example: -12
        balance:
          type: integer
          format: int32
          example: 512
        date:
          type: integer
          format: int32
          example: 1482348234
        workorder:
          $ref: "#/components/schemas/SimpleCoded"
        actionType:
          type: string
          example: Adjustment
        batch:
          type: string
          example: DAP_LOT_2015032
        item:
          $ref: "#/components/schemas/StockItemBasics"
        attachments:
          type: array
          items:
            $ref: "#/components/schemas/Attachment"
        canReverse:
          type: boolean
    StockItemBasics:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 123
        code:
          type: string
          example: 20YAVCHA01/1
        description:
          type: string
          example: 20YAVCHA01/1
        endpoint:
          type: string
          example: /mob/api/v/mrp/stock/123
    SimpleCoded:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 12
        code:
          type: string
          example: TWL1000
    StockDistributionDetail:
      type: object
      properties:
        endpoint:
          type: string
          example: /mob/api/v/stock/123/distributions/
        distributions:
          type: array
          items:
            $ref: "#/components/schemas/StockDistributionItem"
    StockDistributionItem:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 1234
        item:
          $ref: "#/components/schemas/StockItemBasics"
        winery:
          $ref: "#/components/schemas/SearchDescriptive"
        building:
          $ref: "#/components/schemas/SearchDescriptive"
        storageArea:
          $ref: "#/components/schemas/SearchDescriptive"
        bay:
          type: string
          example: 1
        unit:
          $ref: "#/components/schemas/Unit"
        quantity:
          $ref: "#/components/schemas/QuantityBreakdown"
        taxState:
          $ref: "#/components/schemas/TaxState"
        virtual:
          type: boolean
    TaxState:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 12
        name:
          type: string
          example: Tax paid
        code:
          type: string
          example: Txt
        defaultForInventory:
          type: boolean
    StockFieldsDetail:
      type: object
      properties:
        endpoint:
          type: string
          example: /mob/api/v/mrp/stock/123/fields
        fields:
          type: array
          items:
            $ref: "#/components/schemas/FieldValuePair"
    InventorySummaryResponse:
      type: object
      properties:
        status:
          type: string
          example: Success
        message:
          type: string
          format: nullable
        inventorySummaries:
          type: array
          items:
            $ref: "#/components/schemas/InventorySummary"
    InventorySummary:
      type: object
      properties:
        date:
          type: integer
          format: int4
          example: 15312232984
        dateAsText:
          type: string
          example: 07/11/2018
        winery:
          type: string
          example: JX2 Winery
        quantity:
          type: integer
          format: int32
          example: 787
        committed:
          type: integer
          format: int32
          example: 5
        onOrder:
          type: integer
          format: int32
          example: 10
        available:
          type: integer
          format: int32
          example: 732
        unit:
          type: string
          example: Case x12
        type:
          type: string
          example: Case x12
        code:
          type: string
          example: 08MARW-SH-CS
        name:
          type: string
          example: 08MARW-SH-CS
        description:
          type: string
          example: 2008 Medlock Ames Red - SHINER Case
        lotBatch:
          type: string
          format: nullable
        lotExpiryDate:
          type: string
          format: nullable
        lotExpiryDateAsText:
          type: string
          format: nullable
        lotManufactureDate:
          type: string
          format: nullable
        lotManufactureDateAsText:
          type: string
          format: nullable
        reorderCode:
          type: string
          format: nullable
        location:
          type: string
          example: Warehouse / Warehouse
        stockCategory:
          type: string
          example: Bottled Wine
        grading:
          $ref: "#/components/schemas/Grading"
        price:
          type: string
          format: nullable
        priceAsText:
          type: string
          format: nullable
        taxClass:
          type: string
          example: 1 to 21%
        federalTaxClass:
          type: string
          example: 1 to 21%
        stateTaxClass:
          type: string
          example: 14 to 21%
        taxState:
          type: string
          example: Bonded
        bond:
          type: string
          example: JX2 Winery - 1234
        sizeRatio:
          type: string
          format: nullable
        finalProducts:
          type: string
          example: null
        vintage:
          type: string
          format: nullable
        variety:
          type: string
          format: nullable
        region:
          type: string
          format: nullable
        program:
          type: string
          format: nullable
        productState:
          type: string
          example: Filtered
        beverageType:
          type: string
          example: Red
        baseMaterial:
          type: string
          example: Grape
        owner:
          type: string
          example: JX2 Winery
        assetAccount:
          type: string
          example: Bottled Wine - Asset
        cogsAccount:
          type: string
          example: Bottled Cost of Goods
        unitCost:
          type: number
          example: 0.1
        unitCostAsText:
          type: string
          example: $0.10
        totalCost:
          type: number
          example: 75.22
        totalCostAsText:
          type: string
          example: $75.22
        fruitCost:
          type: string
          format: nullable
        fruitCostAsText:
          type: string
          format: nullable
        bulkCost:
          type: string
          format: nullable
        bulkCostAsText:
          type: string
          format: nullable
        additiveCost:
          type: string
          format: nullable
        additiveCostAsText:
          type: string
          format: nullable
        operationCost:
          type: string
          format: nullable
        operationCostAsText:
          type: string
          format: nullable
        packagingCost:
          type: string
          format: nullable
        packagingCostAsText:
          type: string
          format: nullable
        storageCost:
          type: string
          format: nullable
        storageCostAsText:
          type: string
          format: nullable
        overheadCost:
          type: string
          format: nullable
        overheadCostAsText:
          type: string
          format: nullable
        freightCost:
          type: string
          format: nullable
        freightCostAsText:
          type: string
          format: nullable
        otherCost:
          type: string
          format: nullable
        otherCostAsText:
          type: string
          format: nullable
        sku:
          type: string
          format: nullable
        stockItemDetailsEndpoint:
          type: string
          example: /wrw/api/v/stock/lookup?id=423
    Grading:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 1
        value:
          type: string
          example: A Grade
        scaleName:
          type: string
          example: Quality
        scaleId:
          type: integer
          format: int32
          example: 1
    SimpleSearchResponse:
      type: object
      properties:
        firstResult:
          type: integer
          format: int32
          example: 0
        maxResult:
          type: integer
          format: int32
          example: 100
        totalResultCount:
          type: integer
          format: int32
          example: 11
        type:
          type: string
          example: grading
        nextURLPath:
          type: string
          format: nullable
        prevURLPath:
          type: string
          format: nullable
        simpleSearchResults:
          type: array
          items:
            $ref: "#/components/schemas/SimpleSearchResult"
    SimpleSearchResult:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 1
        name:
          type: string
          example: A
        type:
          type: string
          example: Grading
        summary:
          type: string
          example: Premium Juice/Wine
        additionalDetails:
          type: object
    StockItemDetails:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 37
        code:
          type: string
          example: 10NVCHDEMO
        description:
          type: string
          example: 2010 JX Napa Chard
        itemType:
          type: string
          example: Single x1
        unit:
          $ref: "#/components/schemas/Unit"
        owner:
          $ref: "#/components/schemas/Searchable"
        assetAccount:
          type: string
          example: Bottled Assets
        cogsAccount:
          type: string
          example: Bottled Cost of Goods
        category:
          $ref: "#/components/schemas/Searchable"
        product:
          $ref: "#/components/schemas/FinalProduct"
        brand:
          $ref: "#/components/schemas/BrandAllocation"
        federalTaxClass:
          type: string
          example: Not over 1%
        stateTaxClass:
          type: string
          example: 14 to 21%
        rawTaxClass:
          type: string
          example: 14 to 1%
        sku:
          type: string
          format: nullable
        labelAlcohol:
          type: integer
          format: int32
          example: 15
        lotTracked:
          type: boolean
        levelTracked:
          type: boolean
        subComponents:
          type: array
          items:
            $ref: "#/components/schemas/Components"
        rawComponents:
          type: array
          items:
            $ref: "#/components/schemas/Components"
        distributions:
          type: array
          items:
            $ref: "#/components/schemas/Distribution"
    Components:
      type: object
      properties:
        quantity:
          type: integer
          format: int32
          example: 1
        unit:
          type: string
          example: units
        item:
          $ref: "#/components/schemas/ItemSummary"
    ItemSummary:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 5
        itemType:
          type: string
          example: Glass/Container
        code:
          type: string
          example: BOT/5314/AG
        description:
          type: string
          example: 5314 Antique Green
    Distribution:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 301
        itemCode:
          type: string
          example: 10NVCHDEMO
        qty:
          type: integer
          format: int32
          example: 10
        available:
          type: integer
          format: int32
          example: 10
        areaName:
          type: string
          example: SA2 - Main Shed
        areaId:
          type: integer
          format: int32
          example: 99
        buildingName:
          type: string
          example: Main Shed
        wineryName:
          type: string
          example: JX2 Winery
        bay:
          type: string
          format: nullable
        lotCode:
          type: string
          format: nullable
        bondName:
          type: string
          example: JX2 Winery
        bondNumber:
          type: string
          example: 1234
        taxState:
          type: string
          example: Bonded
    FinalProduct:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
        vintage:
          type: string
        variety:
          type: string
        region:
          type: string
        geographicIndicator:
          type: string
    BrandAllocation:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
        vintage:
          type: string
        variety:
          type: string
        region:
          type: string
        geographicIndicator:
          type: string
        owner:
          type: string
        winery:
          type: string
    IntakeOperationSearchResponse:
      type: object
      properties:
        status:
          type: string
          example: OK
        message:
          type: string
          example: null
        resultCount:
          type: integer
          format: int32
          example: 1
        resultLimit:
          type: integer
        nextResult:
          type: integer
        intakes:
          type: array
          items:
            $ref: "#/components/schemas/IntakeOperation"
    IntakeOperation:
      type: object
      properties:
        operationId:
          type: integer
          format: int32
          example: 492
        processId:
          type: integer
          format: int32
          example: 3038
        reversed:
          type: boolean
        effectiveDate:
          type: integer
          format: int4
          example: 1579299120000
        modified:
          type: integer
          format: int4
          example: 1579855303000
        bookingNumber:
          type: string
          example: BN1438
        block:
          $ref: "#/components/schemas/Codeable"
        vineyard:
          $ref: "#/components/schemas/Codeable"
        winery:
          $ref: "#/components/schemas/Searchable"
        grower:
          $ref: "#/components/schemas/Grower"
        region:
          $ref: "#/components/schemas/Codeable"
        variety:
          $ref: "#/components/schemas/Codeable"
        owner:
          $ref: "#/components/schemas/Codeable"
        vintage:
          type: integer
          format: int32
          example: 2020
        deliveryStart:
          type: integer
          format: int4
          example: 1579299120000
        deliveryEnd:
          type: integer
          format: int4
          example: 1579299120000
        driverName:
          type: string
          example: Adam Sapple
        truckRegistration:
          type: string
          example: ABC-123
        carrier:
          $ref: "#/components/schemas/Codeable"
        consignmentNote:
          type: string
          example: TH78352
        docketNo:
          type: string
          example: 408 / 1
        amount:
          $ref: "#/components/schemas/Weight"
        grossAmount:
          $ref: "#/components/schemas/Weight"
        tareAmount:
          $ref: "#/components/schemas/Weight"
        metrics:
          type: array
          items:
            $ref: "#/components/schemas/SimpleMetric"
        mog:
          $ref: "#/components/schemas/Searchable"
        harvestMethod:
          type: string
          example: MACHINE
        intendedUse:
          $ref: "#/components/schemas/Searchable"
        growerContract:
          $ref: "#/components/schemas/Searchable"
        lastLoad:
          type: boolean
        fruitCost:
          type: number
          format: double
          example: 10
        fruitCostRateType:
          type: string
          format: nullable
          example: $ / ton
        area:
          type: number
          format: double
          example: 12.3
        additionalDetails:
          type: object
        externalWeighTag:
          type: string
          example: ABC-123
    Codeable:
      type: object
      properties:
        id:
          type: integer
          format: int32
          example: 1
        name:
          type: string
          example: CH1
        type:
          type: string
          example: Block
        shortCode:
          type: string
          example: CH1
        externalCode:
          type: string
          example: 89712
    Grower:
      type: object
      allOf:
        - $ref: "#/components/schemas/Codeable"
        - type: object
          properties:
            growerType:
              type: string
              example: External
    Weight:
      type: object
      properties:
        value:
          type: number
          example: 5.7
        unit:
          type: string
          example: t
    SampleOperationSearchResponse:
      type: object
      properties:
        status:
          type: string
          example: OK
        message:
          type: string
          format: nullable
        resultCount:
          type: integer
          format: int32
          example: null
        resultLimit:
          type: integer
          format: int32
          example: 2
        nextResult:
          type: integer
          format: int32
          example: 2
        samples:
          type: array
          items:
            $ref: "#/components/schemas/SampleOperation"
    SampleOperation:
      type: object
      properties:
        operationId:
          type: integer
          format: int32
          example: 1
        processId:
          type: integer
          format: int32
          example: 9
        reversed:
          type: boolean
        modified:
          type: integer
          format: int4
          example: 138274092000
        block:
          $ref: "#/components/schemas/Codeable"
        vineyard:
          $ref: "#/components/schemas/Codeable"
        grower:
          $ref: "#/components/schemas/Codeable"
        region:
          $ref: "#/components/schemas/Codeable"
        variety:
          $ref: "#/components/schemas/Codeable"
        owner:
          $ref: "#/components/schemas/Codeable"
        vintage:
          type: integer
          format: int32
          example: 2021
        recordedDate:
          type: integer
          format: int4
          example: 135941220000
        reference:
          type: string
          format: nullable
        row:
          type: string
          format: nullable
        vine:
          type: string
          format: nullable
        grading:
          $ref: "#/components/schemas/Grading"
        sampleArea:
          type: string
          format: nullable
        sampleType:
          type: string
          format: nullable
        laboratory:
          $ref: "#/components/schemas/Codeable"
        analysisTemplate:
          $ref: "#/components/schemas/Searchable"
        metrics:
          type: array
          items:
            $ref: "#/components/schemas/SimpleMetric"
        additionalDetails:
          type: object
    FullBlockAssessmentRequest:
      type: object
      properties:
        id:
          type: integer
        block:
          $ref: "#/components/schemas/Codeable"
        vintage:
          type: integer
          format: int32
          example: 2021
        assessmentDate:
          type: string
        assessedBy:
          $ref: "#/components/schemas/Searchable"
        producingForecast:
          $ref: "#/components/schemas/Weight"
        availableForecast:
          $ref: "#/components/schemas/Weight"
        intendedUse:
          $ref: "#/components/schemas/Searchable"
        harvestMethod:
          type: string
          example: HAND
        expectedHarvestDate:
          type: integer
          format: int4
          example: 144990021000
        earliestHarvestDate:
          type: integer
          format: int4
          example: 14444421000
        grading:
          $ref: "#/components/schemas/Grading"
        expectedProgram:
          $ref: "#/components/schemas/Searchable"
        contract:
          $ref: "#/components/schemas/Searchable"
        sprayReportReceived:
          type: integer
          format: int4
          example: 143780421000
        sprayReportAttachment:
          $ref: "#/components/schemas/Attachment"
        capitalBlock:
          type: boolean
        capitalProjectNumber:
          type: string
        cropInspected:
          type: integer
          format: int4
          example: 143780421000
        comments:
          type: string
          example: Start of powdery mildew in row 5
        exceptionList:
          type: array
          items:
            type: string
        intendedProduct:
          $ref: "#/components/schemas/Searchable"
        attachments:
          $ref: "#/components/schemas/Attachment"
        locationDetails:
          $ref: "#/components/schemas/LocationDetails"
    FullBlockAssessment:
      type: object
      properties:
        id:
          type: integer
        block:
          $ref: "#/components/schemas/Codeable"
        vintage:
          type: integer
          format: int32
          example: 2021
        assessmentDate:
          type: string
        assessedBy:
          $ref: "#/components/schemas/Searchable"
        producingForecast:
          $ref: "#/components/schemas/Weight"
        availableForecast:
          $ref: "#/components/schemas/Weight"
        intendedUse:
          $ref: "#/components/schemas/Searchable"
        harvestMethod:
          type: string
          example: HAND
        expectedHarvestDate:
          type: integer
          format: int4
          example: 144990021000
        earliestHarvestDate:
          type: integer
          format: int4
          example: 14444421000
        grading:
          $ref: "#/components/schemas/Grading"
        expectedProgram:
          $ref: "#/components/schemas/Searchable"
        contract:
          $ref: "#/components/schemas/Searchable"
        sprayReportReceived:
          type: integer
          format: int4
          example: 143780421000
        sprayReportAttachment:
          $ref: "#/components/schemas/Attachment"
        capitalBlock:
          type: boolean
        capitalProjectNumber:
          type: string
        cropInspected:
          type: integer
          format: int4
          example: 143780421000
        comments:
          type: string
          example: Start of powdery mildew in row 5
        exceptionList:
          type: array
          items:
            type: string
        intendedProduct:
          $ref: "#/components/schemas/Searchable"
        attachments:
          $ref: "#/components/schemas/Attachment"
        locationDetails:
          $ref: "#/components/schemas/LocationDetails"
    TransactionSummaryResponse:
      type: object
      properties:
        status:
          type: string
          example: Success
        message:
          type: string
          format: nullable
        transactionSummaries:
          type: array
          items:
            $ref: "#/components/schemas/TransOperation"
    TransOperation:
      type: object
      properties:
        formattedDate:
          type: string
          example: 08/10/2018
        date:
          type: integer
          format: int4
          example: 1533874920000
        operationId:
          type: integer
          format: int32
          example: 4205
        operationTypeId:
          type: integer
          format: int32
          example: 3
        operationTypeName:
          type: string
          example: Transfer
        subOperationTypeId:
          type: integer
          format: int32
          example: 7805
        subOperationTypeName:
          type: string
          example: Transfer
        workorder:
          type: string
          format: nullable
        jobNumber:
          type: string
          format: nullable
        treatment:
          type: string
          format: nullable
        assignedBy:
          type: string
          format: nullable
        completedBy:
          type: string
          example: A cristelle
        winery:
          type: string
          example: JX2 Winery
        fromVessel:
          $ref: "#/components/schemas/FromVessel"
        toVessel:
          $ref: "#/components/schemas/ToVessel"
        lossDetails:
          $ref: "#/components/schemas/LossDetails"
        additionOps:
          $ref: "#/components/schemas/AdditionOps"
        analysisOps:
          $ref: "#/components/schemas/AnalysisOps"
        additionalDetails:
          type: string
    AdditionOps:
      type: object
      properties:
        vesselId:
          type: integer
        vesselName:
          type: string
        batchId:
          type: integer
        batchName:
          type: string
        templateId:
          type: integer
        templateName:
          type: string
        changeToState:
          type: string
        volume:
          type: string
        amount:
          type: number
        unit:
          type: string
        lotNumbers:
          type: array
          items:
            type: string
        additive:
          $ref: "#/components/schemas/Additives"
    Additives:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        description:
          type: string
    AnalysisOps:
      type: object
      properties:
        vesselId:
          type: integer
        vesselName:
          type: string
        batchId:
          type: integer
        batchName:
          type: string
        templateId:
          type: integer
        templateName:
          type: string
        metrics:
          type: array
          items:
            $ref: "#/components/schemas/MetricAnalysis"
    MetricAnalysis:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        value:
          type: number
        txtValue:
          type: string
        unit:
          type: string
  parameters:
    CorrelationId:
      name: correlation-id
      in: header
      required: false
      schema:
        type: string
        format: uuid
      description: Optional unique identifer associated with the transaction
      example: d308faac-66e1-47df-a9ff-fbe61b4e8974
    PaginationLimit:
      name: limit
      in: query
      required: false
      schema:
        type: integer
        minimum: 1
        example: 10
      description: Sets limit for maximum number of results in a paginated response
    PaginationOffset:
      name: offset
      in: query
      required: false
      schema:
        type: integer
        minimum: 0
        example: 0
      description: Sets offset for the results in a paginated response
    StartDate:
      name: startDate
      in: query
      required: true
      schema:
        type: integer
        format: int64
        example: 1667192283000
      description: The start date/time you are querying for transactions from
    EndDate:
      name: endDate
      in: query
      required: true
      schema:
        type: integer
        format: int64
        example: 1667192283000
      description: The end date/time you are querying for transactions until
    BusinessUnit:
      name: businessUnit
      in: query
      required: false
      schema:
        type: string
        example: US57
      description: The unique business unit for the winery you want to filter on
    WineryName:
      name: wineryName
      in: query
      required: false
      schema:
        type: string
        example: Z Winery
      description: The unique name of the winery you want to filter on
    WineryId:
      name: wineryId
      in: query
      required: false
      schema:
        type: integer
        example: 7177
      description: The id of the winery you want to filter on
    BlockId:
      name: blockId
      in: path
      required: true
      schema:
        type: string
      description:
        The unique identifier of this block. It accepts the id generated
        by vintrace or external id stored in vintrace
      examples:
        vintrace-generated-id:
          value: 1232342
        external-id:
          value: ext:ABC32423
    VintraceEntityId:
      name: id
      in: path
      required: true
      schema:
        type: integer
      description:
        The unique identifier of this resource. It is generated by vintrace
        internally
      examples:
        vintrace-generated-id:
          value: 1232342
    AssessedBy:
      name: assessedBy
      in: query
      required: false
      schema:
        type: string
      examples:
        particular-user-id:
          value: eq:2342
        particular-user-ext-id:
          value: eq:ext:api-user23234
        exclude-user-id:
          value: ne:12312
      description:
        "Filter assessments based on the users who has made the assessments.\
        \ \n\nThe value after the colon is the id, or external id (must be prefixed\
        \ with ext:) of this user in Vintrace. \n\nSupports equal to (eq) and non\
        \ equal to (ne) operations.\n"
    CreatedSince:
      name: createdSince
      in: query
      required: false
      schema:
        type: string
      examples:
        date:
          value: 1644644421000
      description: Filter the records createdAt must be greater than createdSinceParameter.
    CreatedBefore:
      name: createdBefore
      in: query
      required: false
      schema:
        type: string
      examples:
        date:
          value: 1644644421000
      description: Filter the records createdAt must be less than createdSinceParameter.
    ExtraFields:
      name: extraFields
      in: query
      required: false
      schema:
        type: string
        example: cropInspected,comments,locationDetails
      description:
        "API consumer can use this query param to request including extra
        fields for the resources.


        For field names, refer to the schema of BlockAssessment object.


        Invalid field names will be ignored.

        "
    BookingId:
      name: bookingId
      in: path
      required: true
      schema:
        type: string
      description:
        The unique identifier of this booking. It accepts the id generated
        by vintrace or the unique booking number stored in the record
      examples:
        vintrace-generated-id:
          value: "1232342"
        external-id:
          value: ext:ABC32423
    FruitIntakeId:
      name: fruitIntakeId
      in: path
      required: true
      schema:
        type: string
      description:
        The unique identifier of this fruit intake. It accepts the id generated
        by vintrace or the external weigh tag provided by external party.
      examples:
        vintrace-generated-id:
          value: "1232342"
        external-id:
          value: ext:TE-123-21
    OperationId:
      name: operationId
      in: path
      required: true
      schema:
        type: string
      description:
        The unique identifier for this resource. It accepts the winery
        process id or the associated job id if it's scheduled in the work order
      examples:
        process-id:
          value: "39203242"
        work-order-job-id:
          value: job:12321
    ModifiedSince:
      name: modifiedSince
      in: query
      required: false
      schema:
        type: integer
        format: int64
        example: 1650431615057
      description: Only return records that are modified after the suppplied time
    ModifiedBefore:
      name: modifiedBefore
      in: query
      required: false
      schema:
        type: number
        format: int64
        example: 164876283628
      description: Only return records that are modified before the supplied time.
    ReportDate:
      name: asAtDate
      in: query
      required: false
      schema:
        type: integer
        format: int64
        example: 1650431615057
      description:
        The date/time you want to run the report for. Expected to be in
        epoch milliseconds (defaults to the current date/time).
    WineBatchCode:
      name: batch
      in: query
      required: false
      schema:
        type: string
        example: 21NPVPINOT
      description: Filter results to just show details for this wine batch
    VesselCode:
      name: vessel
      in: query
      required: false
      schema:
        type: string
        example: T25-01
      description: Filter results to just show details for this vessel
    Owner:
      name: owner
      in: query
      required: false
      schema:
        type: string
      description: Filter results to just who details for this owner
      examples:
        vintrace-generated-id:
          value: "1232342"
        external-id:
          value: ext:ABC32423
    VesselId:
      name: vesselId
      in: query
      required: false
      schema:
        type: integer
        example: 200
      description: The id of the vessel you want to filter on
    ProductId:
      name: productId
      in: query
      required: false
      schema:
        type: integer
        example: 1023
      description: The product id of the wine/product that you want to filter on
    VesselType:
      name: vesselType
      in: query
      required: false
      schema:
        type: string
        example: TANK,BARREL
      description:
        "Only include vessels that are in the provided vessel list.Support
        multiple types delimited by comma.Allowed values: TANK BIN BARREL BARREL_GROUP
        BIN_GROUP PRESS TANKER"
    Id:
      name: id
      in: path
      required: true
      schema:
        type: string
  responses:
    DefaultError:
      description: Unexpected error
      headers:
        correlation-id:
          description: Unique identifier associated with the transaction
          schema:
            type: string
            format: uuid
      content:
        application/json:
          schema:
            $ref: common-schemas.yaml#/components/schemas/Shared-openapi_BaseErrorRoot
          examples:
            badRequest (400):
              value:
                errors:
                  - code: "123"
                    message: Invalid data
                    detail: Some data are invalid
            notAuthorized (401):
              value:
                errors:
                  - code: "23432"
                    message: Token is not provided
                    detail: Token must be provided
            forbidden (403):
              value:
                errors:
                  - code: "123"
                    message: Permission not allowed
                    detail: User must have permission to perform this operation
  examples:
    BlockResponseExample:
      value:
        data:
          id: 167
          extId: 23423
          name: Block example
          estate: true
          vineyard:
            id: 23423
            name: V2342
            grower:
              extId: 32342
          variety:
            id: 2432423
            name: Shiraz
          countyCode: CC
          inactive: false
          noOfVines: 900
          area: 13
          rootStock:
            id: 234231
            name: MUL
          clone:
            id: 828932
            name: MUL
          vineSpacing: 5
          rowSpacing: 9
          soilProfile: G
          trellis:
            id: 2342321
            name: D
          aspect: NORTH
          plantedTime: 1644990021000
          pruningType: 23
          averageGradient: 4
          irrigationType: DDD
          frostProtection: OO
          organic: true
          organicCertifiedTime: 1644990021000
          township: 232020
          range: 200
          section: section
          emitterRate: 3
          emitterSize: 10
          siteId: S232
          noOfRows: 30
    GetBlocksSuccessResponseExample:
      value:
        totalResults: 1000
        offset: 0
        limit: 10
        first: /blocks?offset=0&limit=10
        previous: null
        next: /blocks?offset=10&limit=10
        last: /blocks?offset=990&limit=10
        results:
          - id: 1
            extId: 123
            name: Block 1
            code: BLK4321
            description: This is block 1
            grower:
              id: 21231
              name: A company
              extId: 7545
            vineyard:
              id: 21232
              name: Vineyard X
            region:
              id: 22212
              name: Napa Valley
              grower:
                extId: "32342"
            subRegion:
              id: 12222
              name: Oakville
            variety:
              id: 21236
              name: Shiraz
            rowNumbers: 1-10
            estate: false
            intendedUse:
              id: 21237
              name: Wine
            grading:
              scale:
                id: 2
                name: Wine
              value:
                id: 67
                name: A
            inactive: false
            fruitPlacement:
              vintage: 2024
              bulkStocks:
                - batchId: 456
                  batchName: VB123
                  vintage: 2024
                  grading:
                    scale:
                      id: 2
                      name: Wine
                    value:
                      id: 67
                      name: A
                  totalVolume: 10000
                  compWeighting: 1
                  equivalentVolume:
                    value: 5000
                    unit: L
                  equivalentWeight:
                    value: 1000
                    unit: KG
                  percentageOfFruit: 100
                - batchId: 457
                  batchName: VB124
                  vintage: 2024
                  grading:
                    scale:
                      id: 2
                      name: Wine
                    value:
                      id: 67
                      name: A
                  totalVolume: 20000
                  compWeighting: 1
                  equivalentVolume:
                    value: 10000
                    unit: L
                  equivalentWeight:
                    value: 2000
                    unit: KG
                  percentageOfFruit: 75
    BlockAssessmentResponseExample:
      value:
        data:
          id: 167
          block:
            id: 1
            extId: "7177"
            name: Block 1
          vintage: 2021
          assessmentTime: 1644990021000
          assessedBy:
            id: 1
            extId: null
            name: ADMINISTRATOR,  System
          producingForecast:
            value: 15
            unit: t
          availableForecast:
            value: 9
            unit: t
          harvestMethod: HAND
          expectedHarvestTime: 1644990021000
          earliestHarvestTime: 1644644421000
          sprayReportReceivedTime: 1643780421000
          cropInspectedTime: 1643780421000
          quarantineStatus: Completed
          clearQuarantineStatus: false
          grading: "3"
          intendedProduct:
            id: 23423
            name: TBD
    VineyardResponseExample:
      value:
        data:
          id: 23423
          extId: ABC-3232
          name: My Oakville vineyard
          code: MYOAK
          grower:
            id: 342342
            name: Grower
            extId: 32342
          region:
            id: 9302
            name: Napa Valley
          adminAgridDivision: Grid Division 12
          subRegion:
            id: 7177
            name: Oakville
    ReceiveStockActionResponseExample:
      value:
        data:
          id: 1234
          occurredTime: 1644990021000
          operator:
            id: 1234
            name: System Admin
            extId: 23423
          orderNo: ABC123
          supplier:
            id: 1234
            name: System Admin
            extId: 23423
          carrier:
            id: 1234
            name: System Admin
            extId: 23423
          purchaseOrder:
            id: 1234
            name: VP01
          purchaseOrderFulfillmentState: FULFILLED
          rego: 123ABC
          connote: "123"
          driversName: someDriverName
          receivedBy:
            id: 1234
            name: System Admin
            extId: 23423
          freightCost: 25
          stockDetails:
            - stockItemCode: SP/BL10NVPN
              receivedAmount:
                unit: gal
                value: 600
              price: 100
              priceType: TOTAL
              vendorCode: someVendorCode
              lotName: BID-001
              manufacturedDate: 1644990021000
              expiryDate: 1644990021000
              routeDetails:
                - routeStockItem:
                    quantity: 5
                    storageArea:
                      id: 1234
                      name: SA2 - Tank farm
                    bin: testBin
          receiptNo: "110"
          purchaseOrderId: 1234
    BarrelSuccessResponseExample:
      value:
        data:
          id: 234234
          name: 15-0086
          capacity:
            value: 225
            unit: L
          wineryBuilding:
            id: 38293
            name: WB-1
          owner:
            id: 1
            name: JX2 Winery
            extId: O66253
          brand: 2017/MyWine
          purchaseDate: 1644644421000
          purchasedUsed: false
          firstUsedDate: 1644644421000
          deliveredDate: 1644644421000
          grading:
            scale:
              id: 2
              name: Wine
            value:
              id: 67
              name: A
          position:
            x: 3
            y: 5
          usageCounter: 8
          dimensions:
            length: 50
            width: 50
            height: 100
          inactive: false
          sanitationState: TO_BE_CLEANED
          lastSanitation: 1644644421000
          assetId: 24-153
          rfid: 12344
          miscellaneousInfo: Some extra information
          controlId: 14321
          alertState: false
          cooper:
            id: 2
            name: Cooper Incorporated
            extId: 123456
          forest:
            id: 3
            name: Redwood Forest
            extId: O122457
          seasoning: KILN
          seasoningMonths: 3
          toasting: Medium
          toastedHeads: true
          grain: High level grain
          lastContained:
            id: 38186
            name: Wine
            extId: 123456
          oakType: FRENCH
          year: 2024
          barrelCategory:
            id: 2
            name: Type-1
            extId: 123458
          location:
            storageArea:
              id: 100
              name: Area 51
              code: Area51
            aisle: 2
            stack: Stack10
            toStack: Stack20
            positions:
              - level: 3
                orientation: LEFT
          barrelType: BARREL
          barrelGroups:
            - id: 11
              name: BarrelGroup-234
              link:
                href: /wrw/api/v7/vessel/barrel-groups/234234
                rel: BARREL-GROUP
                method: GET
            - id: 22
              name: BarrelGroup-432
              link:
                href: /wrw/api/v7/vessel/barrel-groups/432432
                rel: BARREL-GROUP
                method: GET
          constructionMaterial: Redwood
          currentBillOfLadingDetails: Bill of Lading details
          dspAccount: PRODUCTION
          recount: false
          lastFilledDate: 1644644421000
    BarrelGroupSuccessResponseExample:
      value:
        data:
          id: 234234
          name: 15-0086
          barrels:
            - id: 11
              name: Barrel-123
              link:
                href: /wrw/api/v7/vessel/barrels/11
                rel: BARREL
                method: GET
            - id: 22
              name: Barrel-456
              link:
                href: /wrw/api/v7/vessel/barrels/22
                rel: BARREL
                method: GET
          locations:
            - storageArea:
                id: 100
                name: Area 51
                code: Area51
              aisle: 2
              stack: Stack10
              toStack: Stack20
              positions:
                - level: 1
                  orientation: ALL
                - level: 2
                  orientation: ALL
                - level: 3
                  orientation: ALL
            - storageArea:
                id: 100
                name: Area 51
                code: Area51
              aisle: 2
              stack: Stack20
              toStack: Stack30
              positions:
                - level: 1
                  orientation: ALL
                - level: 2
                  orientation: ALL
                - level: 3
                  orientation: ALL
          instructions: Some instructions for this group
          beenUsed: true
          currentBillOfLadingDetails: Bill of Lading details
          lastFilledDate: 1644644421000
    BinSuccessResponseExample:
      value:
        data:
          id: 234234
          name: 15-0086
          capacity:
            value: 225
            unit: L
          wineryBuilding:
            id: 38293
            name: WB-1
            extId: O66258
          owner:
            id: 1
            name: JX2 Winery
            extId: O66253
          brand: 2017/MyWine
          purchaseDate: 1644644421000
          purchasedUsed: false
          firstUsedDate: 1644644421000
          deliveredDate: 1644644421000
          grading:
            scale:
              id: 2
              name: Wine
            value:
              id: 67
              name: A
          position:
            x: 3
            y: 5
          usageCounter: 8
          dimensions:
            length: 50
            width: 50
            height: 100
          inactive: false
          sanitationState: TO_BE_CLEANED
          lastSanitation: 1644644421000
          assetId: 24-153
          rfid: 12344
          miscellaneousInfo: Some extra information
          controlId: 14321
          alertState: false
          tareWeight: 15 kg
          commonTare: true
          commonTareCertificateNumber: CN12345
          canAdjustTare: true
          maxBottles: 100
          bottlesInUse: 40
          location:
            storageArea:
              id: 100
              name: Area 51
              code: Area51
            aisle: Bay02
          stackMultiplier: 3
          dspAccount: PRODUCTION
    TankSuccessResponseExample:
      value:
        data:
          id: 234234
          name: 15-0086
          capacity:
            value: 225
            unit: L
          wineryBuilding:
            id: 38293
            name: WB-1
            extId: O66258
          owner:
            id: 1
            name: JX2 Winery
            extId: O66253
          brand: 2017/MyWine
          purchaseDate: 1644644421000
          purchasedUsed: false
          firstUsedDate: 1644644421000
          deliveredDate: 1644644421000
          grading:
            scale:
              id: 2
              name: Wine
            value:
              id: 67
              name: A
          position:
            x: 3
            y: 5
          usageCounter: 8
          dimensions:
            length: 50
            width: 50
            height: 100
          inactive: false
          sanitationState: TO_BE_CLEANED
          lastSanitation: 1644644421000
          assetId: 24-153
          rfid: 12344
          miscellaneousInfo: Some extra information
          controlId: 14321
          alertState: false
          headspace: 12.5
          temperature: 10.2
          hasThermostat: true
          thermostatSetting: 10
          diameter: 1.5
          isRefrigerated: true
          isFermenter: false
          isInsulated: true
          isHeated: false
          constructionMaterial: Stainless steel
          tankCategory:
            id: 100
            name: Double tank
          dspAccount: PRODUCTION
          allowStaves: true
          containsStaves: true
          hasAgitator: true
          recount: false
          accountsReference: accountsReference
          purchaseOrderNumber: purchaseOrderNumber
          financialReference: financialReference
          depreciationStartDate: 1644644421000
          depreciationEndDate: 1644644421000
          vendor:
            id: 1
            name: vendor
            extId: 2
          dipTables:
            - dipTable: null
              id: 5
              version: 1.5
              tickResolution: 0.01
              volumeResolution: 0.01
              measurementType: WET
              isDefault: true
            - dipTable: null
              id: 6
              version: 1.5
              tickResolution: 0.01
              volumeResolution: 0.01
              measurementType: DRY
              isDefault: false
    TankerSuccessResponseExample:
      value:
        data:
          id: 234234
          name: 15-0086
          capacity:
            value: 225
            unit: L
          wineryBuilding:
            id: 38293
            name: WB-1
          owner:
            id: 1
            name: JX2 Winery
            extId: O66253
          brand: 2017/MyWine
          purchaseDate: 1644644421000
          purchasedUsed: false
          firstUsedDate: 1644644421000
          deliveredDate: 1644644421000
          grading:
            scale:
              id: 2
              name: Wine
            value:
              id: 67
              name: A
          position:
            x: 3
            y: 5
          usageCounter: 8
          dimensions:
            length: 50
            width: 50
            height: 100
          inactive: false
          sanitationState: TO_BE_CLEANED
          lastSanitation: 1644644421000
          assetId: 24-153
          rfid: 12344
          miscellaneousInfo: Some extra information
          controlId: 14321
          alertState: false
          truckNumber: 2
          sealNumber: 1A
          compartmentNumber: 3B
          cleanInPlaceNumber: 1
          currentBillOfLadingDetails: Bill of Lading details
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      description:
        Refer to https://support.vintrace.com/hc/en-us/articles/4407443037711-Manage-and-create-API-tokens
        for more info
